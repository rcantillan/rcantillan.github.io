<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Roberto Cantillan</title>
<link>https://rcantillan.github.io/blog/index.html</link>
<atom:link href="https://rcantillan.github.io/blog/index.xml" rel="self" type="application/rss+xml"/>
<description>This space brings together social network analysis and R programming to explore important social issues. By analyzing data from various social networks, we delve into topics like social capital, inequality, and the dynamics of social structures. Our goal is to provide tools and knowledge to help researchers better understand these topics and foster collaboration within the field.
</description>
<generator>quarto-1.3.450</generator>
<lastBuildDate>Fri, 01 Nov 2024 03:00:00 GMT</lastBuildDate>
<item>
  <title>Disrupción y Estructura en redes de producción cietífica</title>
  <dc:creator>Roberto Cantillan</dc:creator>
  <link>https://rcantillan.github.io/blog/posts/04-twomode-ergm/index.html</link>
  <description><![CDATA[ 



<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>La ciencia de la sustentabilidad requiere urgentemente de innovación transformadora para abordar desafíos socio-ambientales complejos. Comprender cómo emerge la investigación disruptiva en las redes científicas es, por tanto, crucial. Li et al.&nbsp;(2024) han demostrado una relación inversa entre productividad y disrupción científica, pero los mecanismos estructurales subyacentes a este fenómeno permanecen poco claros, particularmente en el contexto de redes modo-2 que vinculan autores y publicaciones.</p>
<p>Siguiendo a Gondal (2011), entendemos que el análisis de campos científicos emergentes requiere considerar simultáneamente las propiedades micro y macro de las redes de producción de conocimiento. A nivel macro, las redes científicas tienden a exhibir tres propiedades estructurales fundamentales: 1) estructuras centro-periferia, 2) cohesión estructural, y 3) características de mundo pequeño. Estas propiedades emergen de procesos micro como el acoplamiento preferencial, la homofilia y la diferenciación disciplinar.</p>
<p>En campos emergentes como la ciencia de la sustentabilidad, Gondal sugiere que la centralización temprana juega un rol crucial: unos pocos académicos altamente productivos se vuelven fundamentales para el desarrollo y la conectividad del campo. Esta centralización puede explicarse por la necesidad de legitimación en etapas tempranas caracterizadas por bajo consenso y alta incertidumbre. Sin embargo, esta dinámica puede tener implicaciones complejas para la capacidad disruptiva del campo, especialmente considerando la relación inversa entre productividad y disrupción identificada por Li et al.&nbsp;(2024).</p>
<p>Los modelos ERGM proporcionan un marco metodológico robusto para examinar cómo estas dinámicas micro-macro emergen de la interacción entre características individuales y patrones estructurales. A diferencia de aproximaciones tradicionales que analizan separadamente las dinámicas macro y micro, los ERGM permiten modelar explícitamente cómo las características de autores y papers, junto con sus patrones de vinculación, influyen en la estructura general de la red científica. Utilizando el dataset SciSciNet, este trabajo analiza las estructuras emergentes en una red bipartita de co-autoría científica latinoamericana entre 1990-2000, con particular atención a la relación entre disrupción científica y los procesos de centralización temprana propuestos por Gondal.</p>
</section>
<section id="configuración-inicial-y-carga-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="configuración-inicial-y-carga-de-datos">Configuración Inicial y Carga de Datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. Cargar paquetes necesarios</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(osfr)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ergm)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(Matrix)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(network)</span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggraph)</span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidygraph)</span>
<span id="cb1-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(kableExtra)</span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(igraph)</span>
<span id="cb1-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(sna)</span>
<span id="cb1-12"></span>
<span id="cb1-13"></span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Configurar tema para visualizaciones</span></span>
<span id="cb1-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_set</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>())</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. datos </span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/rober/Documents/rcantillan.github.io/blog/posts/04-twomode-ergm/data/b3_fromlatam_1990_2000.RData"</span>)</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. Filtrar datos de Latam</span></span>
<span id="cb2-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#b3_fromlatam &lt;- b3_joined %&gt;%</span></span>
<span id="cb2-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  filter(DocType == "Journal") %&gt;%</span></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  group_by(PaperID) %&gt;%</span></span>
<span id="cb2-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  filter(latam_prop &gt;= 0.5 |</span></span>
<span id="cb2-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#           any(AuthorSequenceNumber == 1 &amp; is_latam == 1)) %&gt;%</span></span>
<span id="cb2-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  ungroup()</span></span>
<span id="cb2-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb2-12"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 4. Filtrar por tiempo</span></span>
<span id="cb2-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#rm(b3_joined)</span></span>
<span id="cb2-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#gc()</span></span>
<span id="cb2-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#b3_fromlatam_1990_2000 &lt;- b3_fromlatam %&gt;% filter(Year &lt; 2000)</span></span></code></pre></div>
</div>
</section>
<section id="preparación-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="preparación-de-datos">Preparación de Datos</h2>
<p>Siguiendo la conceptualización de Gondal sobre campos científicos emergentes, es crucial identificar y operacionalizar tres tipos de variables:</p>
<ul>
<li>Indicadores de centralización temprana (ej. productividad, citaciones)</li>
<li>Medidas de diferenciación disciplinar (ej. campos STEM vs SHAPE)</li>
<li>Métricas de disrupción que capturen la innovación en el campo</li>
</ul>
<p>La siguiente preparación de datos organiza estas dimensiones:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5. Preparación y limpieza</span></span>
<span id="cb3-2">clean_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> b3_fromlatam_1990_2000 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(Disruption),</span>
<span id="cb3-4">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(CitationCount), </span>
<span id="cb3-5">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(H.index_auth),</span>
<span id="cb3-6">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(Average_C10_auth),</span>
<span id="cb3-7">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(Productivity_auth),</span>
<span id="cb3-8">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(Affiliation_Name),</span>
<span id="cb3-9">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(is_latam),</span>
<span id="cb3-10">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(Institution_Count),</span>
<span id="cb3-11">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(Field_Name),</span>
<span id="cb3-12">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(Field_Type)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(Field_Type <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Top"</span>)</span>
<span id="cb3-14"></span>
<span id="cb3-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 6. Estandarización de variables para comparabilidad entre campos</span></span>
<span id="cb3-16">clean_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> clean_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb3-18">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">disruption_std =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.vector</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale</span>(Disruption)),</span>
<span id="cb3-19">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">citations_std =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.vector</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log1p</span>(CitationCount))),</span>
<span id="cb3-20">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">h_index_std =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.vector</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log1p</span>(H.index_auth))),</span>
<span id="cb3-21">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">avg_c10_std =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.vector</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log1p</span>(Average_C10_auth))),</span>
<span id="cb3-22">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">productivity_std =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.vector</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log1p</span>(Productivity_auth))),</span>
<span id="cb3-23">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Clasificación disciplinar siguiendo la distinción </span></span>
<span id="cb3-24">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># teórica entre campos más y menos establecidos</span></span>
<span id="cb3-25">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">field_broad =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(</span>
<span id="cb3-26">      Field_Name <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb3-27">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Biology"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Chemistry"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Computer science"</span>,</span>
<span id="cb3-28">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Engineering"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Environmental science"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Geography"</span>,</span>
<span id="cb3-29">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Materials science"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Mathematics"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Medicine"</span></span>
<span id="cb3-30">      ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"STEM"</span>,</span>
<span id="cb3-31">      Field_Name <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb3-32">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Business"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Economics"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Political science"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sociology"</span></span>
<span id="cb3-33">      ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SHAPE"</span>,</span>
<span id="cb3-34">      <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_character_</span></span>
<span id="cb3-35">    )</span>
<span id="cb3-36">  )</span></code></pre></div>
</details>
</div>
</section>
<section id="construcción-de-la-red-bipartita" class="level2">
<h2 class="anchored" data-anchor-id="construcción-de-la-red-bipartita">Construcción de la Red Bipartita</h2>
<p>La perspectiva de Gondal sobre la dualidad estructural sugiere que la estructura del conocimiento emerge de la interacción entre dos modos: autores y documentos. Para capturar esta dualidad, construimos una red bipartita donde:</p>
<ul>
<li>El primer modo (papers) representa los vehículos de conocimiento</li>
<li>El segundo modo (autores) representa los productores de conocimiento</li>
<li>Los vínculos entre modos capturan las relaciones de autoría</li>
</ul>
<p>Esta estructura nos permite examinar cómo las propiedades de cada modo contribuyen a la emergencia de patrones macro:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 7. Atributos por modo siguiendo la dualidad estructural</span></span>
<span id="cb4-2">paper_attributes <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> clean_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(PaperID) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slice</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(PaperID, disruption_std, citations_std, </span>
<span id="cb4-7">         Institution_Count, Field_Name, field_broad)</span>
<span id="cb4-8"></span>
<span id="cb4-9">author_attributes <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> clean_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(AuthorID) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slice</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>()</span>
<span id="cb4-13"></span>
<span id="cb4-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 8. Crear matriz de incidencia y red bipartita</span></span>
<span id="cb4-15">papers <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(paper_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PaperID)</span>
<span id="cb4-16">authors <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(author_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>AuthorID)</span>
<span id="cb4-17"></span>
<span id="cb4-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Matriz de incidencia que captura la dualidad autor-paper</span></span>
<span id="cb4-19">paper_author_matrix <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sparseMatrix</span>(</span>
<span id="cb4-20">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">i =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">match</span>(clean_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PaperID, papers),</span>
<span id="cb4-21">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">j =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">match</span>(clean_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>AuthorID, authors),</span>
<span id="cb4-22">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb4-23">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dims =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(papers), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(authors))</span>
<span id="cb4-24">)</span></code></pre></div>
</details>
</div>
</section>
<section id="construcción-y-visualización-de-la-red" class="level2">
<h2 class="anchored" data-anchor-id="construcción-y-visualización-de-la-red">Construcción y Visualización de la Red</h2>
<p>La visualización de redes bipartitas presenta desafíos particulares que Gondal (2011) aborda en su análisis. Es crucial representar visualmente las tres propiedades macro que teóricamente caracterizan los campos emergentes: estructura centro-periferia, cohesión estructural y características de mundo pequeño. Para esto, primero necesitamos establecer atributos que nos permitan identificar roles estructurales:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Crear la red bipartita con los atributos necesarios</span></span>
<span id="cb5-2">net_bipartite <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">network</span>(</span>
<span id="cb5-3">  paper_author_matrix,</span>
<span id="cb5-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">matrix.type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bipartite"</span>,</span>
<span id="cb5-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">directed =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span></span>
<span id="cb5-6">)</span>
<span id="cb5-7"></span>
<span id="cb5-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Asignación de atributos siguiendo la teoría de Gondal</span></span>
<span id="cb5-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Modo 1 (Papers): Vehículos de conocimiento</span></span>
<span id="cb5-10">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"disruption"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> paper_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>disruption_std</span>
<span id="cb5-11">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"citations"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> paper_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>citations_std</span>
<span id="cb5-12">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"inst_count"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> paper_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Institution_Count</span>
<span id="cb5-13">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"field"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> paper_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Field_Name</span>
<span id="cb5-14">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"field_broad"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> paper_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>field_broad</span>
<span id="cb5-15"></span>
<span id="cb5-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Modo 2 (Autores): Productores de conocimiento</span></span>
<span id="cb5-17">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"h_index"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> author_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>h_index_std</span>
<span id="cb5-18">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"avg_c10"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> author_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>avg_c10_std</span>
<span id="cb5-19">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"affiliation"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> author_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Affiliation_Name</span>
<span id="cb5-20">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"is_latam"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> author_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>is_latam</span>
<span id="cb5-21">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"productivity"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> author_attributes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>productivity_std</span></code></pre></div>
</div>
</section>
<section id="visualización-de-la-estructura-centro-periferia" class="level2">
<h2 class="anchored" data-anchor-id="visualización-de-la-estructura-centro-periferia">Visualización de la Estructura Centro-Periferia</h2>
<p>Siguiendo a Gondal, la estructura centro-periferia es especialmente relevante en campos emergentes. Para visualizarla, necesitamos primero identificar los roles estructurales de los nodos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Configuración de roles estructurales</span></span>
<span id="cb6-2">n_vertices <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">network.size</span>(net_bipartite)</span>
<span id="cb6-3">bipartite_value <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">161</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Número de papers</span></span>
<span id="cb6-4"></span>
<span id="cb6-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Vector para identificar tipos de nodos</span></span>
<span id="cb6-6">is_actor <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, n_vertices)</span>
<span id="cb6-7">is_actor[(bipartite_value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>n_vertices] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="cb6-8">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"is_actor"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> is_actor</span>
<span id="cb6-9"></span>
<span id="cb6-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Etiquetas para visualización</span></span>
<span id="cb6-11">node_labels <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Autor"</span>, n_vertices)</span>
<span id="cb6-12">node_labels[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>bipartite_value] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Paper"</span></span>
<span id="cb6-13">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tipo"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> node_labels</span>
<span id="cb6-14"></span>
<span id="cb6-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculamos grados para el objeto network</span></span>
<span id="cb6-16">node_degrees <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">degree</span>(net_bipartite, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">gmode=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"graph"</span>)</span>
<span id="cb6-17">scaled_degrees <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rescale</span>(node_degrees, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>))</span>
<span id="cb6-18"></span>
<span id="cb6-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Asignamos los grados como atributo de vértice</span></span>
<span id="cb6-20">net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"node_size"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> scaled_degrees</span>
<span id="cb6-21"></span>
<span id="cb6-22"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggraph</span>(net_bipartite, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">layout =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"graphopt"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb6-23">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Edges</span></span>
<span id="cb6-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_edge_link0</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">edge_colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>, </span>
<span id="cb6-25">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">edge_width =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>,</span>
<span id="cb6-26">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-27">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Nodos</span></span>
<span id="cb6-28">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_node_point</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> tipo,</span>
<span id="cb6-29">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> node_size,</span>
<span id="cb6-30">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">shape =</span> tipo),</span>
<span id="cb6-31">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"white"</span>,</span>
<span id="cb6-32">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stroke =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-33">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Escalas personalizadas</span></span>
<span id="cb6-34">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Paper"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#003f5c"</span>, </span>
<span id="cb6-35">                              <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Autor"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#ffa600"</span>),</span>
<span id="cb6-36">                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">guide =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">guide_legend</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">override.aes =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reducido de 8 a 5</span></span>
<span id="cb6-37">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_shape_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Paper"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">24</span>, </span>
<span id="cb6-38">                               <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Autor"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>),</span>
<span id="cb6-39">                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">guide =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">guide_legend</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">override.aes =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reducido de 8 a 5</span></span>
<span id="cb6-40">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_size_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">range =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>),</span>
<span id="cb6-41">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">guide =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-42">  </span>
<span id="cb6-43">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Tema y leyendas</span></span>
<span id="cb6-44">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_graph</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">background =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"white"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-45">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"right"</span>,</span>
<span id="cb6-46">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.box.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>),</span>
<span id="cb6-47">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key.size =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cm'</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reducido de 1.5 a 1</span></span>
<span id="cb6-48">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key.height =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cm'</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reducido de 1.5 a 1</span></span>
<span id="cb6-49">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key.width =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cm'</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reducido de 1.5 a 1</span></span>
<span id="cb6-50">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.margin =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">margin</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>),</span>
<span id="cb6-51">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>),</span>
<span id="cb6-52">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>),</span>
<span id="cb6-53">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.subtitle =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-54">  </span>
<span id="cb6-55">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Etiquetas</span></span>
<span id="cb6-56">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Tipo de Entidad"</span>,</span>
<span id="cb6-57">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">shape =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Tipo de Entidad"</span>, </span>
<span id="cb6-58">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Red de Colaboración Bipartita"</span>,</span>
<span id="cb6-59">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="propiedades-estructurales-de-la-red" class="level2">
<h2 class="anchored" data-anchor-id="propiedades-estructurales-de-la-red">Propiedades Estructurales de la Red</h2>
<p>Siguiendo a Gondal (2011), analizamos tres propiedades estructurales fundamentales de la red bipartita de colaboración científica:</p>
<section id="estadísticas-descriptivas-básicas" class="level3">
<h3 class="anchored" data-anchor-id="estadísticas-descriptivas-básicas">Estadísticas Descriptivas Básicas</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Estadísticas básicas de la red</span></span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(net_bipartite, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">print.adj =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Densidad</span></span>
<span id="cb7-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">network.density</span>(net_bipartite)</span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Distancia promedio y diámetro </span></span>
<span id="cb7-8">geodist <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geodist</span>(net_bipartite)</span>
<span id="cb7-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(geodist<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>gdist[geodist<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>gdist <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">Inf</span>])</span>
<span id="cb7-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(geodist<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>gdist[geodist<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>gdist <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">Inf</span>])</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Análisis de k-cores</span></span>
<span id="cb8-2">kcores <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kcores</span>(net_bipartite)</span>
<span id="cb8-3"></span>
<span id="cb8-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Distribución de k-cores</span></span>
<span id="cb8-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(kcores)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>kcores
  2   4 
424  21 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Componentes</span></span>
<span id="cb10-2">components <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">component.dist</span>(net_bipartite)</span>
<span id="cb10-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(components<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>csize)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 2  3  4  5  6  7  9 15 22 
67 34 21  7  5  2  1  1  1 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Crear tabla resumen de estadísticos de red</span></span>
<span id="cb12-2">network_summary <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb12-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Metric =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb12-4">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Número de nodos (total)"</span>,</span>
<span id="cb12-5">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"  Papers"</span>,</span>
<span id="cb12-6">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"  Autores"</span>,</span>
<span id="cb12-7">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Enlaces totales"</span>,</span>
<span id="cb12-8">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Densidad"</span>,</span>
<span id="cb12-9">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Distancia promedio"</span>,</span>
<span id="cb12-10">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Diámetro"</span>,</span>
<span id="cb12-11">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Distribución k-cores"</span>,</span>
<span id="cb12-12">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"  k=2"</span>,</span>
<span id="cb12-13">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"  k=4"</span>,</span>
<span id="cb12-14">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Componentes"</span>,</span>
<span id="cb12-15">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"  Tamaño máximo"</span>,</span>
<span id="cb12-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"  Componentes aislados"</span></span>
<span id="cb12-17">  ),</span>
<span id="cb12-18">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Value =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb12-19">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"445"</span>,</span>
<span id="cb12-20">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"161"</span>,</span>
<span id="cb12-21">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"284"</span>,</span>
<span id="cb12-22">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"312"</span>,</span>
<span id="cb12-23">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.003"</span>,</span>
<span id="cb12-24">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1.86"</span>,</span>
<span id="cb12-25">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"8"</span>,</span>
<span id="cb12-26">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,</span>
<span id="cb12-27">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"424"</span>,</span>
<span id="cb12-28">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"21"</span>,</span>
<span id="cb12-29">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,</span>
<span id="cb12-30">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"22"</span>,</span>
<span id="cb12-31">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"139"</span></span>
<span id="cb12-32">  ),</span>
<span id="cb12-33">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Description =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb12-34">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total de vértices en la red"</span>,</span>
<span id="cb12-35">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Artículos científicos"</span>,</span>
<span id="cb12-36">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Investigadores"</span>,</span>
<span id="cb12-37">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Vínculos de coautoría"</span>,</span>
<span id="cb12-38">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Proporción de vínculos posibles realizados"</span>,</span>
<span id="cb12-39">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Número promedio de pasos entre nodos"</span>,</span>
<span id="cb12-40">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Máxima distancia entre dos nodos"</span>,</span>
<span id="cb12-41">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Distribución de núcleos-k"</span>,</span>
<span id="cb12-42">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nodos con al menos 2 conexiones"</span>,</span>
<span id="cb12-43">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nodos con al menos 4 conexiones"</span>,</span>
<span id="cb12-44">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Subgrupos conectados"</span>,</span>
<span id="cb12-45">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Tamaño del componente más grande"</span>,</span>
<span id="cb12-46">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Número de componentes desconectados"</span></span>
<span id="cb12-47">  )</span>
<span id="cb12-48">)</span>
<span id="cb12-49"></span>
<span id="cb12-50"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Mostrar tabla con formato</span></span>
<span id="cb12-51">network_summary <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb12-52">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col.names =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Métrica"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Valor"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Descripción"</span>),</span>
<span id="cb12-53">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Estadísticas Descriptivas de la Red"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb12-54">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_classic_2</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">full_width =</span> F) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb12-55">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_styling</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bootstrap_options =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"striped"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hover"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"condensed"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"responsive"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb12-56">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pack_rows</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Características Básicas"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb12-57">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pack_rows</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Medidas de Cohesión"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb12-58">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pack_rows</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Estructura Núcleo-Periferia"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb12-59">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pack_rows</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fragmentación"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>)</span></code></pre></div>
<div class="cell-output-display">
<div class="table-responsive">
<table class="lightable-classic-2 table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<caption>Estadísticas Descriptivas de la Red</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Métrica</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Valor</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Descripción</th>
</tr>
</thead>
<tbody>
<tr class="odd" data-grouplength="4">
<td colspan="3" style="border-bottom: 0"><strong>Características Básicas</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Número de nodos (total)</td>
<td style="text-align: left;">445</td>
<td style="text-align: left;">Total de vértices en la red</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Papers</td>
<td style="text-align: left;">161</td>
<td style="text-align: left;">Artículos científicos</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Autores</td>
<td style="text-align: left;">284</td>
<td style="text-align: left;">Investigadores</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Enlaces totales</td>
<td style="text-align: left;">312</td>
<td style="text-align: left;">Vínculos de coautoría</td>
</tr>
<tr class="even" data-grouplength="3">
<td colspan="3" style="border-bottom: 0"><strong>Medidas de Cohesión</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Densidad</td>
<td style="text-align: left;">0.003</td>
<td style="text-align: left;">Proporción de vínculos posibles realizados</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Distancia promedio</td>
<td style="text-align: left;">1.86</td>
<td style="text-align: left;">Número promedio de pasos entre nodos</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Diámetro</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">Máxima distancia entre dos nodos</td>
</tr>
<tr class="even" data-grouplength="3">
<td colspan="3" style="border-bottom: 0"><strong>Estructura Núcleo-Periferia</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Distribución k-cores</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Distribución de núcleos-k</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">k=2</td>
<td style="text-align: left;">424</td>
<td style="text-align: left;">Nodos con al menos 2 conexiones</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">k=4</td>
<td style="text-align: left;">21</td>
<td style="text-align: left;">Nodos con al menos 4 conexiones</td>
</tr>
<tr class="even" data-grouplength="3">
<td colspan="3" style="border-bottom: 0"><strong>Fragmentación</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Componentes</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Subgrupos conectados</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Tamaño máximo</td>
<td style="text-align: left;">22</td>
<td style="text-align: left;">Tamaño del componente más grande</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Componentes aislados</td>
<td style="text-align: left;">139</td>
<td style="text-align: left;">Número de componentes desconectados</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</section>
</section>
<section id="análisis-de-distribución-de-grados" class="level2">
<h2 class="anchored" data-anchor-id="análisis-de-distribución-de-grados">Análisis de Distribución de Grados</h2>
<p>Gondal sugiere que en campos emergentes, la distribución de grados debería mostrar señales de centralización temprana. Específicamente, deberíamos observar:</p>
<ul>
<li>Una alta proporción de autores con pocos vínculos</li>
<li>Un pequeño grupo de autores altamente conectados</li>
<li>Patrones diferentes entre papers y autores</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">degreedist</span>(net_bipartite)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Bipartite mode 2 degree distribution:
  0   1   2   3   4   5 
161 264  15   3   1   1 
Bipartite mode 1 degree distribution:
  0   1   2   3   4   5   6   8 
284  80  45  20   8   4   1   3 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Crear dataframes para cada modo</span></span>
<span id="cb15-2">mode1_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb15-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">grado =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>),</span>
<span id="cb15-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">frecuencia =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">284</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">80</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">45</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>),</span>
<span id="cb15-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">modo =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Modo 1 (Papers)"</span></span>
<span id="cb15-6">)</span>
<span id="cb15-7"></span>
<span id="cb15-8">mode2_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb15-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">grado =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>),</span>
<span id="cb15-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">frecuencia =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">161</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">264</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb15-11">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">modo =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Modo 2 (Autores)"</span></span>
<span id="cb15-12">)</span>
<span id="cb15-13"></span>
<span id="cb15-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Combinar los datos</span></span>
<span id="cb15-15">degree_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(mode1_data, mode2_data)</span>
<span id="cb15-16"></span>
<span id="cb15-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Crear el gráfico</span></span>
<span id="cb15-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(degree_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> grado, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> frecuencia, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> modo)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dodge"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_manual</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>( <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#ffa600"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#003f5c"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Distribución de Grados"</span>,</span>
<span id="cb15-22">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,</span>
<span id="cb15-23">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Grado"</span>,</span>
<span id="cb15-24">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,</span>
<span id="cb15-25">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Entidad"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb15-28">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>),</span>
<span id="cb15-29">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span></span>
<span id="cb15-30">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-32">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">expand =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-33">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> frecuencia), </span>
<span id="cb15-34">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_dodge</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>),</span>
<span id="cb15-35">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>,</span>
<span id="cb15-36">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Para las métricas, usamos funciones de sna</span></span>
<span id="cb16-2">bipartite_metrics <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb16-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">node =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">network.vertex.names</span>(net_bipartite),</span>
<span id="cb16-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">tipo =</span> net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%v%</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tipo"</span>,</span>
<span id="cb16-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">degree =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">degree</span>(net_bipartite, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">gmode=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"graph"</span>),</span>
<span id="cb16-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">betweenness =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">betweenness</span>(net_bipartite),</span>
<span id="cb16-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">eigenvector =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">evcent</span>(net_bipartite)</span>
<span id="cb16-8">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb16-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(tipo) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb16-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(</span>
<span id="cb16-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">avg_degree =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(degree),</span>
<span id="cb16-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max_degree =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(degree),</span>
<span id="cb16-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">avg_betweenness =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(betweenness),</span>
<span id="cb16-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">avg_eigenvector =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(eigenvector)</span>
<span id="cb16-15">  )</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in evcent(net_bipartite): Maximum iterations exceeded in evcent_R
without convergence.  This matrix may be pathological - increase maxiter or try
eigen().</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>(bipartite_metrics), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Resumen centralidad por entidad"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_classic_2</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">full_width =</span> F) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_styling</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bootstrap_options =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"striped"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hover"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"condensed"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"responsive"</span>))</span></code></pre></div>
<div class="cell-output-display">
<div class="table-responsive">
<table class="lightable-classic-2 table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<caption>Resumen centralidad por entidad</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">tipo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">avg_degree</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">max_degree</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">avg_betweenness</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">avg_eigenvector</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Autor</td>
<td style="text-align: right;">1.098591</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">2.809859</td>
<td style="text-align: right;">0.0086389</td>
</tr>
<tr class="even">
<td style="text-align: left;">Paper</td>
<td style="text-align: right;">1.937888</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">9.366460</td>
<td style="text-align: right;">0.0060304</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</section>
<section id="análisis-ergm-modelando-mecanismos-generativos" class="level2">
<h2 class="anchored" data-anchor-id="análisis-ergm-modelando-mecanismos-generativos">Análisis ERGM: Modelando Mecanismos Generativos</h2>
<p>Siguiendo a Gondal (2011), el modelamiento ERGM nos permite examinar los mecanismos micro que generan las estructuras macro observadas. Desarrollamos una estrategia de modelamiento en cuatro etapas, cada una capturando diferentes aspectos teóricos:</p>
<ol type="1">
<li><strong>Modelo Base</strong>: Examina la tendencia base a formar vínculos y el efecto de los campos disciplinares</li>
<li><strong>Modelo de Grados</strong>: Incorpora la geometría ponderada de grados para capturar centralización</li>
<li><strong>Modelo con Covariables</strong>: Agrega atributos nodales como disrupción y productividad</li>
<li><strong>Modelo Final</strong>: Integra efectos de interacción y homofilia disciplinar</li>
</ol>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 10. Modelos ERGM</span></span>
<span id="cb19-2"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 1. Modelo simple </span></span>
<span id="cb19-3">model_simple <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ergm</span>(</span>
<span id="cb19-4">  net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> edges <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b1factor</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"field_broad"</span>),</span>
<span id="cb19-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">control =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">control.ergm</span>(</span>
<span id="cb19-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMLE.maxit =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,</span>
<span id="cb19-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.samplesize =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>,</span>
<span id="cb19-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMLE.termination =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hummel"</span></span>
<span id="cb19-9">  )</span>
<span id="cb19-10">)</span>
<span id="cb19-11"></span>
<span id="cb19-12"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 2. Modelo con términos de grado</span></span>
<span id="cb19-13">model_degrees <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ergm</span>(</span>
<span id="cb19-14">  net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> </span>
<span id="cb19-15">    edges <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gwb1degree</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decay =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> T) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-17">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gwb2degree</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decay =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> T) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-18">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b1factor</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"field_broad"</span>),</span>
<span id="cb19-19">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">control =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">control.ergm</span>(</span>
<span id="cb19-20">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">init =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(model_simple), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)),</span>
<span id="cb19-21">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMLE.maxit =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,</span>
<span id="cb19-22">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.samplesize =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span>,</span>
<span id="cb19-23">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMLE.termination =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hummel"</span></span>
<span id="cb19-24">  )</span>
<span id="cb19-25">)</span>
<span id="cb19-26"></span>
<span id="cb19-27"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 3. Modelo con covariables</span></span>
<span id="cb19-28">model_covars <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ergm</span>(</span>
<span id="cb19-29">  net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> </span>
<span id="cb19-30">    edges <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-31">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gwb1degree</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decay =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> T) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-32">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gwb2degree</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decay =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> T) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-33">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b1factor</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"field_broad"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-34">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b1cov</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"disruption"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-35">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b2cov</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"productivity"</span>),</span>
<span id="cb19-36">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">control =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">control.ergm</span>(</span>
<span id="cb19-37">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">init =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(model_degrees), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)),</span>
<span id="cb19-38">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMLE.maxit =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>,</span>
<span id="cb19-39">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.samplesize =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3000</span>,</span>
<span id="cb19-40">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMLE.termination =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hummel"</span></span>
<span id="cb19-41">  )</span>
<span id="cb19-42">)</span>
<span id="cb19-43"></span>
<span id="cb19-44"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 4. Modelo final optimizado</span></span>
<span id="cb19-45">model_final <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ergm</span>(</span>
<span id="cb19-46">  net_bipartite <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> </span>
<span id="cb19-47">    edges <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-48">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gwb1degree</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decay =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> T) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-49">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gwb2degree</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">decay =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> T) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-50">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b1cov</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"disruption"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-51">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b2cov</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"productivity"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-52">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b1factor</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"field_broad"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-53">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b1nodematch</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"field_broad"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">diff=</span>T) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-54">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b1cov</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"disruption"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">b2cov</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"productivity"</span>),</span>
<span id="cb19-55">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">control =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">control.ergm</span>(</span>
<span id="cb19-56">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">init =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(model_covars), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)),</span>
<span id="cb19-57">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">seed =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">123</span>,</span>
<span id="cb19-58">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMLE.maxit =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>,</span>
<span id="cb19-59">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.burnin =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>,      </span>
<span id="cb19-60">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.interval =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>,      </span>
<span id="cb19-61">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.samplesize =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span>,  </span>
<span id="cb19-62">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">parallel =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb19-63">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">parallel.type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PSOCK"</span>,</span>
<span id="cb19-64">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMLE.termination =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hummel"</span></span>
<span id="cb19-65">  )</span>
<span id="cb19-66">)</span></code></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(model_final)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
ergm(formula = net_bipartite ~ edges + gwb1degree(decay = 0.25, 
    fixed = T) + gwb2degree(decay = 0.25, fixed = T) + b1cov("disruption") + 
    b2cov("productivity") + b1factor("field_broad") + b1nodematch("field_broad", 
    diff = T) + b1cov("disruption"):b2cov("productivity"), control = control.ergm(init = c(coef(model_covars), 
    rep(0, 3)), seed = 123, MCMLE.maxit = 14, MCMC.burnin = 1000, 
    MCMC.interval = 50, MCMC.samplesize = 2000, parallel = 2, 
    parallel.type = "PSOCK", MCMLE.termination = "Hummel"))

Monte Carlo Maximum Likelihood Results:

                                     Estimate Std. Error MCMC % z value
edges                               -9.203853   0.230544      0 -39.922
gwb1deg.fixed.0.25                  -0.025349   0.379722      0  -0.067
gwb2deg.fixed.0.25                   8.415840   0.792326      0  10.622
b1cov.disruption                     0.250488   0.030125      0   8.315
b2cov.productivity                  -0.176610   0.011439     12 -15.440
b1factor.field_broad.STEM            0.720912   0.147742      0   4.880
b1nodematch.field_broad.SHAPE        1.145804   0.005592      0 204.893
b1nodematch.field_broad.STEM         0.182787   0.402028      0   0.455
b1cov.disruption:b2cov.productivity  0.026336   0.029922      0   0.880
                                    Pr(&gt;|z|)    
edges                                 &lt;1e-04 ***
gwb1deg.fixed.0.25                     0.947    
gwb2deg.fixed.0.25                    &lt;1e-04 ***
b1cov.disruption                      &lt;1e-04 ***
b2cov.productivity                    &lt;1e-04 ***
b1factor.field_broad.STEM             &lt;1e-04 ***
b1nodematch.field_broad.SHAPE         &lt;1e-04 ***
b1nodematch.field_broad.STEM           0.649    
b1cov.disruption:b2cov.productivity    0.379    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

     Null Deviance: 63387  on 45724  degrees of freedom
 Residual Deviance: 33338  on 45715  degrees of freedom
 
AIC: 33356  BIC: 33434  (Smaller is better. MC Std. Err. = 1884)</code></pre>
</div>
</div>
<section id="diagnósticos-del-modelo" class="level3">
<h3 class="anchored" data-anchor-id="diagnósticos-del-modelo">Diagnósticos del Modelo</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Bondad de ajuste</span></span>
<span id="cb22-2">gof_model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gof</span>(model_final)</span>
<span id="cb22-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(gof_model)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/model-diagnostics-1.png" class="img-fluid" width="960"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/model-diagnostics-2.png" class="img-fluid" width="960"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/model-diagnostics-3.png" class="img-fluid" width="960"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/model-diagnostics-4.png" class="img-fluid" width="960"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/model-diagnostics-5.png" class="img-fluid" width="960"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># MCMC diagnósticos</span></span>
<span id="cb23-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mcmc.diagnostics</span>(model_final)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/04-twomode-ergm/index_files/figure-html/unnamed-chunk-8-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Sample statistics summary:

Iterations = 26368000:70400000
Thinning interval = 51200 
Number of chains = 2 
Sample size per chain = 861 

1. Empirical mean and standard deviation for each variable,
   plus standard error of the mean:

                                          Mean        SD  Naive SE
edges                                 2873.303   454.888  10.96195
gwb1deg.fixed.0.25                       7.084     2.974   0.07167
gwb2deg.fixed.0.25                       8.952     2.311   0.05568
b1cov.disruption                       191.970    36.613   0.88232
b2cov.productivity                   -2351.764   462.216  11.13854
b1factor.field_broad.STEM              -11.666     8.958   0.21587
b1nodematch.field_broad.SHAPE       117886.063 18638.778 449.15979
b1nodematch.field_broad.STEM            -1.067     3.126   0.07534
b1cov.disruption:b2cov.productivity     43.180    36.829   0.88750
                                    Time-series SE
edges                                    2.329e+02
gwb1deg.fixed.0.25                       9.076e-02
gwb2deg.fixed.0.25                       3.922e-01
b1cov.disruption                         1.287e+00
b2cov.productivity                       2.302e+02
b1factor.field_broad.STEM                7.143e-01
b1nodematch.field_broad.SHAPE            9.716e+03
b1nodematch.field_broad.STEM             7.528e-02
b1cov.disruption:b2cov.productivity      1.301e+00

2. Quantiles for each variable:

                                          2.5%        25%        50%        75%
edges                                2255.0000   2510.000   2830.500   3078.000
gwb1deg.fixed.0.25                      0.8091      5.157      7.239      9.147
gwb2deg.fixed.0.25                      4.4309      7.456      8.921     10.503
b1cov.disruption                      122.3901    167.216    190.157    215.205
b2cov.productivity                  -3461.6042  -2594.550  -2389.737  -2088.569
b1factor.field_broad.STEM             -30.0000    -18.000    -12.000     -5.000
b1nodematch.field_broad.SHAPE       92974.0000 102943.000 116225.000 126191.000
b1nodematch.field_broad.STEM           -7.0000     -3.000     -1.000      1.000
b1cov.disruption:b2cov.productivity   -27.3975     17.347     43.188     68.207
                                        97.5%
edges                                 4042.00
gwb1deg.fixed.0.25                      12.43
gwb2deg.fixed.0.25                      13.63
b1cov.disruption                       268.28
b2cov.productivity                   -1613.88
b1factor.field_broad.STEM                6.00
b1nodematch.field_broad.SHAPE       166038.00
b1nodematch.field_broad.STEM             5.00
b1cov.disruption:b2cov.productivity    115.16


Sample statistics cross-correlations:
                                          edges gwb1deg.fixed.0.25
edges                                1.00000000       -0.172522115
gwb1deg.fixed.0.25                  -0.17252211        1.000000000
gwb2deg.fixed.0.25                   0.66059838        0.002725154
b1cov.disruption                    -0.07771376       -0.259994785
b2cov.productivity                  -0.95843224        0.174370751
b1factor.field_broad.STEM           -0.40123436        0.494980540
b1nodematch.field_broad.SHAPE        0.99989700       -0.173689653
b1nodematch.field_broad.STEM        -0.04750127        0.233161349
b1cov.disruption:b2cov.productivity  0.04830690       -0.051283722
                                    gwb2deg.fixed.0.25 b1cov.disruption
edges                                      0.660598378     -0.077713761
gwb1deg.fixed.0.25                         0.002725154     -0.259994785
gwb2deg.fixed.0.25                         1.000000000     -0.022243256
b1cov.disruption                          -0.022243256      1.000000000
b2cov.productivity                        -0.616621141      0.081924264
b1factor.field_broad.STEM                 -0.094626904      0.003782881
b1nodematch.field_broad.SHAPE              0.654178966     -0.078928188
b1nodematch.field_broad.STEM               0.231033433      0.057840555
b1cov.disruption:b2cov.productivity        0.047024313      0.146076341
                                    b2cov.productivity
edges                                      -0.95843224
gwb1deg.fixed.0.25                          0.17437075
gwb2deg.fixed.0.25                         -0.61662114
b1cov.disruption                            0.08192426
b2cov.productivity                          1.00000000
b1factor.field_broad.STEM                   0.40047431
b1nodematch.field_broad.SHAPE              -0.95864483
b1nodematch.field_broad.STEM                0.06282278
b1cov.disruption:b2cov.productivity        -0.05672420
                                    b1factor.field_broad.STEM
edges                                            -0.401234358
gwb1deg.fixed.0.25                                0.494980540
gwb2deg.fixed.0.25                               -0.094626904
b1cov.disruption                                  0.003782881
b2cov.productivity                                0.400474312
b1factor.field_broad.STEM                         1.000000000
b1nodematch.field_broad.SHAPE                    -0.404181223
b1nodematch.field_broad.STEM                      0.466323491
b1cov.disruption:b2cov.productivity              -0.007898034
                                    b1nodematch.field_broad.SHAPE
edges                                                  0.99989700
gwb1deg.fixed.0.25                                    -0.17368965
gwb2deg.fixed.0.25                                     0.65417897
b1cov.disruption                                      -0.07892819
b2cov.productivity                                    -0.95864483
b1factor.field_broad.STEM                             -0.40418122
b1nodematch.field_broad.SHAPE                          1.00000000
b1nodematch.field_broad.STEM                          -0.05339355
b1cov.disruption:b2cov.productivity                    0.04807190
                                    b1nodematch.field_broad.STEM
edges                                                -0.04750127
gwb1deg.fixed.0.25                                    0.23316135
gwb2deg.fixed.0.25                                    0.23103343
b1cov.disruption                                      0.05784056
b2cov.productivity                                    0.06282278
b1factor.field_broad.STEM                             0.46632349
b1nodematch.field_broad.SHAPE                        -0.05339355
b1nodematch.field_broad.STEM                          1.00000000
b1cov.disruption:b2cov.productivity                   0.01387605
                                    b1cov.disruption:b2cov.productivity
edges                                                       0.048306905
gwb1deg.fixed.0.25                                         -0.051283722
gwb2deg.fixed.0.25                                          0.047024313
b1cov.disruption                                            0.146076341
b2cov.productivity                                         -0.056724203
b1factor.field_broad.STEM                                  -0.007898034
b1nodematch.field_broad.SHAPE                               0.048071900
b1nodematch.field_broad.STEM                                0.013876050
b1cov.disruption:b2cov.productivity                         1.000000000

Sample statistics auto-correlation:
Chain 1 
               edges gwb1deg.fixed.0.25 gwb2deg.fixed.0.25 b1cov.disruption
Lag 0      1.0000000         1.00000000          1.0000000       1.00000000
Lag 51200  0.9957073         0.10760221          0.4258354       0.29578143
Lag 102400 0.9913866         0.10424942          0.4239399       0.13494803
Lag 153600 0.9870320         0.11978661          0.4079817       0.06202022
Lag 204800 0.9825409         0.05762790          0.4060338       0.06616840
Lag 256000 0.9780135         0.05145538          0.4188977       0.04642549
           b2cov.productivity b1factor.field_broad.STEM
Lag 0               1.0000000                 1.0000000
Lag 51200           0.9951934                 0.3161863
Lag 102400          0.9902297                 0.1863174
Lag 153600          0.9851775                 0.1993029
Lag 204800          0.9800136                 0.1660351
Lag 256000          0.9748722                 0.1131634
           b1nodematch.field_broad.SHAPE b1nodematch.field_broad.STEM
Lag 0                          1.0000000                  1.000000000
Lag 51200                      0.9958176                 -0.010987626
Lag 102400                     0.9915110                  0.009067214
Lag 153600                     0.9871141                 -0.023315398
Lag 204800                     0.9826529                 -0.064200933
Lag 256000                     0.9781489                 -0.007776156
           b1cov.disruption:b2cov.productivity
Lag 0                              1.000000000
Lag 51200                          0.355810694
Lag 102400                         0.142856019
Lag 153600                         0.074919115
Lag 204800                         0.015522930
Lag 256000                        -0.008811173
Chain 2 
               edges gwb1deg.fixed.0.25 gwb2deg.fixed.0.25 b1cov.disruption
Lag 0      1.0000000       1.000000e+00          1.0000000       1.00000000
Lag 51200  0.9966113       9.300632e-02          0.3585864       0.33185214
Lag 102400 0.9932613       7.217821e-02          0.3487627       0.15676357
Lag 153600 0.9896649       7.800557e-05          0.3638300       0.06569429
Lag 204800 0.9860621      -1.900990e-03          0.3640678       0.02662369
Lag 256000 0.9824082       1.204084e-02          0.3648956       0.04600024
           b2cov.productivity b1factor.field_broad.STEM
Lag 0               1.0000000                 1.0000000
Lag 51200           0.9976672                 0.2407956
Lag 102400          0.9953312                 0.1274517
Lag 153600          0.9927430                 0.1754514
Lag 204800          0.9901385                 0.1341961
Lag 256000          0.9874578                 0.1285860
           b1nodematch.field_broad.SHAPE b1nodematch.field_broad.STEM
Lag 0                          1.0000000                   1.00000000
Lag 51200                      0.9967629                   0.00269752
Lag 102400                     0.9933895                  -0.02381824
Lag 153600                     0.9899089                   0.02625233
Lag 204800                     0.9863511                   0.01951925
Lag 256000                     0.9827354                  -0.06260308
           b1cov.disruption:b2cov.productivity
Lag 0                              1.000000000
Lag 51200                          0.375026853
Lag 102400                         0.141676291
Lag 153600                         0.086654826
Lag 204800                         0.040823203
Lag 256000                         0.005910934

Sample statistics burn-in diagnostic (Geweke):
Chain 1 

Fraction in 1st window = 0.1
Fraction in 2nd window = 0.5 

                              edges                  gwb1deg.fixed.0.25 
                         -2.4677899                           2.4151524 
                 gwb2deg.fixed.0.25                    b1cov.disruption 
                         -3.6503130                           1.0515568 
                 b2cov.productivity           b1factor.field_broad.STEM 
                          3.2471482                           5.2155740 
      b1nodematch.field_broad.SHAPE        b1nodematch.field_broad.STEM 
                         -2.4519307                           0.6756746 
b1cov.disruption:b2cov.productivity 
                          0.2588515 

Individual P-values (lower = worse):
                              edges                  gwb1deg.fixed.0.25 
                       1.359501e-02                        1.572863e-02 
                 gwb2deg.fixed.0.25                    b1cov.disruption 
                       2.619210e-04                        2.930029e-01 
                 b2cov.productivity           b1factor.field_broad.STEM 
                       1.165677e-03                        1.832488e-07 
      b1nodematch.field_broad.SHAPE        b1nodematch.field_broad.STEM 
                       1.420920e-02                        4.992473e-01 
b1cov.disruption:b2cov.productivity 
                       7.957498e-01 
Joint P-value (lower = worse):  0.02823704 
Chain 2 

Fraction in 1st window = 0.1
Fraction in 2nd window = 0.5 

                              edges                  gwb1deg.fixed.0.25 
                         -4.5824721                           1.2957169 
                 gwb2deg.fixed.0.25                    b1cov.disruption 
                         -6.2305249                           0.6692033 
                 b2cov.productivity           b1factor.field_broad.STEM 
                          7.7468666                           5.6561198 
      b1nodematch.field_broad.SHAPE        b1nodematch.field_broad.STEM 
                         -4.4312582                           0.5317990 
b1cov.disruption:b2cov.productivity 
                         -0.4621040 

Individual P-values (lower = worse):
                              edges                  gwb1deg.fixed.0.25 
                       4.595111e-06                        1.950730e-01 
                 gwb2deg.fixed.0.25                    b1cov.disruption 
                       4.648751e-10                        5.033658e-01 
                 b2cov.productivity           b1factor.field_broad.STEM 
                       9.418780e-15                        1.548334e-08 
      b1nodematch.field_broad.SHAPE        b1nodematch.field_broad.STEM 
                       9.368485e-06                        5.948652e-01 
b1cov.disruption:b2cov.productivity 
                       6.440067e-01 
Joint P-value (lower = worse):  1.568122e-14 

Note: MCMC diagnostics shown here are from the last round of
  simulation, prior to computation of final parameter estimates.
  Because the final estimates are refinements of those used for this
  simulation run, these diagnostics may understate model performance.
  To directly assess the performance of the final model on in-model
  statistics, please use the GOF command: gof(ergmFitObject,
  GOF=~model).</code></pre>
</div>
</div>
</section>
</section>
<section id="interpretación-de-resultados-del-ergm" class="level2">
<h2 class="anchored" data-anchor-id="interpretación-de-resultados-del-ergm">Interpretación de Resultados del ERGM</h2>
<p>El modelo final revela patrones significativos que nos permiten entender la estructura del campo científico estudiado:</p>
<section id="tendencia-base-y-estructura-general" class="level3">
<h3 class="anchored" data-anchor-id="tendencia-base-y-estructura-general">1. Tendencia Base y Estructura General</h3>
<ul>
<li>El coeficiente negativo y significativo de <code>edges</code> (β = -9.79, p &lt; 0.001) indica una baja densidad base en la red, consistente con la naturaleza selectiva de las colaboraciones científicas.</li>
<li>La geometría ponderada de grados muestra patrones asimétricos entre papers y autores:
<ul>
<li><code>gwb1deg</code> (papers) no es significativo (β = 0.56, p = 0.634)</li>
<li><code>gwb2deg</code> (autores) es positivo y significativo (β = 9.02, p &lt; 0.001) Esto sugiere una fuerte tendencia a la centralización en torno a autores productivos, pero no en torno a papers específicos.</li>
</ul></li>
</ul>
</section>
<section id="diferenciación-disciplinar" class="level3">
<h3 class="anchored" data-anchor-id="diferenciación-disciplinar">2. Diferenciación Disciplinar</h3>
<ul>
<li>Los campos STEM muestran una mayor probabilidad base de vínculos (β = 0.92, p &lt; 0.001)</li>
<li>La homofilia disciplinar es asimétrica:
<ul>
<li>SHAPE muestra fuerte homofilia (β = 1.49, p &lt; 0.001)</li>
<li>STEM no muestra homofilia significativa (β = 0.48, p = 0.457) Esto sugiere que mientras las ciencias sociales y humanidades (SHAPE) tienden a colaborar dentro de su campo, las ciencias STEM muestran patrones más abiertos de colaboración interdisciplinaria.</li>
</ul></li>
</ul>
</section>
<section id="disrupción-y-productividad" class="level3">
<h3 class="anchored" data-anchor-id="disrupción-y-productividad">3. Disrupción y Productividad</h3>
<ul>
<li>La disrupción tiene un efecto positivo y significativo (β = 0.23, p &lt; 0.001) en la formación de vínculos</li>
<li>La productividad muestra un efecto negativo (β = -0.12, p &lt; 0.001)</li>
<li>Sorprendentemente, la interacción entre disrupción y productividad no es significativa (β = 0.002, p = 0.971)</li>
</ul>
</section>
</section>
<section id="implicaciones-teóricas" class="level2">
<h2 class="anchored" data-anchor-id="implicaciones-teóricas">Implicaciones Teóricas</h2>
<p>Los resultados refinan tanto la teoría de Gondal (2011) sobre campos emergentes como los hallazgos de Li et al.&nbsp;(2024) sobre la relación entre productividad y disrupción:</p>
<section id="centralización-asimétrica" class="level3">
<h3 class="anchored" data-anchor-id="centralización-asimétrica">Centralización Asimétrica</h3>
<p>El coeficiente significativo de gwb2degree (β = 9.02) junto con el gwb1degree no significativo indica que la centralización opera de manera asimétrica. La tendencia a la centralización que Gondal predice para campos emergentes se manifiesta principalmente en los patrones de colaboración de los autores, más que en la concentración de citaciones en papers específicos. Esto sugiere que en etapas tempranas, la estructura del campo está más determinada por redes de colaboración que por papers seminales.</p>
</section>
<section id="diferenciación-disciplinar-heterogénea" class="level3">
<h3 class="anchored" data-anchor-id="diferenciación-disciplinar-heterogénea">Diferenciación Disciplinar Heterogénea</h3>
<p>La fuerte homofilia en SHAPE (β = 1.49) contrastada con la ausencia de homofilia significativa en STEM refina la tesis de Gondal sobre diferenciación disciplinar. En lugar de un proceso uniforme de diferenciación, observamos que: - Los campos SHAPE muestran límites más rígidos, con mayor tendencia a colaboraciones intradisciplinares - Los campos STEM exhiben fronteras más permeables, facilitando colaboraciones interdisciplinares Esta heterogeneidad en patrones de diferenciación no está contemplada en el marco original de Gondal.</p>
</section>
<section id="complejidad-de-la-innovación-y-productividad" class="level3">
<h3 class="anchored" data-anchor-id="complejidad-de-la-innovación-y-productividad">Complejidad de la Innovación y Productividad</h3>
<p>Nuestros resultados extienden los hallazgos de Li et al.&nbsp;(2024) al contexto de redes de colaboración: - El efecto negativo de la productividad en la formación de vínculos (β = -0.12) es consistente con la tesis de Li et al.&nbsp;sobre que los científicos más productivos tienden a producir menos investigación disruptiva - Sin embargo, el efecto positivo de la disrupción en la formación de vínculos (β = 0.23) sugiere que las ideas disruptivas, aunque menos frecuentes en autores productivos, son atractivas para la colaboración - La ausencia de una interacción significativa entre disrupción y productividad (β = 0.002, p = 0.971) sugiere que estos procesos operan de manera independiente, refinando nuestra comprensión del trade-off identificado por Li et al.</p>
</section>
<section id="estructuras-híbridas-y-tensiones-productivas" class="level3">
<h3 class="anchored" data-anchor-id="estructuras-híbridas-y-tensiones-productivas">Estructuras Híbridas y Tensiones Productivas</h3>
<p>La integración de nuestros hallazgos con Li et al.&nbsp;(2024) y Gondal (2011) sugiere que los campos emergentes se caracterizan por tensiones productivas entre: - Centralización colaborativa (evidenciada por gwb2degree positivo) - Innovación disruptiva (efecto positivo de disrupción) - Productividad establecida (efecto negativo de productividad) Estas tensiones podrían ser funcionales para el desarrollo del campo, permitiendo simultáneamente la acumulación de conocimiento (vía autores productivos centrales) y la innovación disruptiva (vía colaboraciones con autores menos establecidos).</p>
</section>
</section>
<section id="limitaciones-y-trabajo-futuro" class="level2">
<h2 class="anchored" data-anchor-id="limitaciones-y-trabajo-futuro">Limitaciones y Trabajo Futuro</h2>
<ul>
<li>Extensión temporal del análisis</li>
<li>Incorporación de medidas alternativas de disrupción</li>
<li>Análisis de sensibilidad con diferentes especificaciones de modelo</li>
</ul>
</section>
<section id="bibliografía" class="level2">
<h2 class="anchored" data-anchor-id="bibliografía">Bibliografía</h2>
<ul>
<li>Gondal, N. (2011). The local and global structure of knowledge production in an emergent research field: An exponential random graph analysis. Social Networks, 33(1), 20–30. https://doi.org/10.1016/j.socnet.2010.09.001</li>
<li>Gondal, N. (2018). Duality of departmental specializations and PhD exchange: A Weberian analysis of status in interaction using multilevel exponential random graph models (mERGM). Social Networks, 55, 202–212. https://doi.org/10.1016/j.socnet.2018.07.005</li>
<li>Li, H., Tessone, C. J., &amp; Zeng, A. (2024). Productive scientists are associated with lower disruption in scientific publishing. Proceedings of the National Academy of Sciences, 121(21), e2322462121. https://doi.org/10.1073/pnas.2322462121</li>
</ul>


</section>

 ]]></description>
  <category>R</category>
  <category>Networks</category>
  <category>Two mode</category>
  <category>ERGM</category>
  <category>Scientific networks</category>
  <guid>https://rcantillan.github.io/blog/posts/04-twomode-ergm/index.html</guid>
  <pubDate>Fri, 01 Nov 2024 03:00:00 GMT</pubDate>
</item>
<item>
  <title>EI Index</title>
  <dc:creator>Roberto Cantillan</dc:creator>
  <link>https://rcantillan.github.io/blog/posts/01-multihomophily/index.html</link>
  <description><![CDATA[ 



<p>En el presente documento se realiza un trabajo de datos para construir una base en formato long con la encuesta COES en su ola w2 y ola w4. Adicionalmente, se analizan datos panel con el modelo within-between (Bell &amp; Jhones, 2014; Bell et al.&nbsp;2019), ideales para el análisis de estructuras jerárquicas de datos, incluidos los datos datos de series de tiempo (de corte transversal), y de tipo panel.</p>
<p>El objetivo es explorar potenciales relaciones entre indicadores de homofilia y algunos indicadores de comportamiento cívico. El análisis de datos es realizado con el paquete panelr, diseñado para entorno R, el cual tiene como base el paquete lm4. Se prefiere el primero puesto que se reducen sustantivamente procedimientos y lineas de códigos y se obtienen los mismos resultados que si se realizará con el pquete lm4.</p>
<p>Para atributos categóricos de los alter de la red ego, además de la proporción de alter similares a ego, una medida generalmente usada ha sido el índice EI (Krackhardt &amp; Stern, 1988, Perry et al., 2018). Esta medida se define como el número de alter diferentes de ego (lazos externos E) menos el número de alter iguales a ego (lazos internos I), dividido por el número de alter. Esta es una medida “reversa” de homofilia toa vez que una medida alta de este índice índica mayor heterofilia. Además, debido a que es una transformación lineal de la medida de proporción de lazos homofilicos, su correlación es un perfecto -.1</p>
<p><img src="https://latex.codecogs.com/png.latex?EI%20=%20%5Cfrac%7BE%20-%20I%7D%7BE%20+%20I%7D"></p>
<p>A continuación, desarrollamos el trabajo de código. Todo el análisis es realizado con datos de la encuesta ELSOC COES, considerando las olas 2 y 4. Las bases de datos y la documentación pueden ser descargadas desde el siguiente <a href="https://dataverse.harvard.edu/dataverse/coes_data_repository">link</a></p>
<section id="cargar-librerias-y-bbdd" class="level3">
<h3 class="anchored" data-anchor-id="cargar-librerias-y-bbdd">Cargar librerias y bbdd</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">pacman<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">p_load</span>(ggplot2, </span>
<span id="cb1-2">               ggthemes, </span>
<span id="cb1-3">               tidyverse, </span>
<span id="cb1-4">               sjlabelled,</span>
<span id="cb1-5">               sjPlot, </span>
<span id="cb1-6">               car, </span>
<span id="cb1-7">               vcd, </span>
<span id="cb1-8">               texreg, </span>
<span id="cb1-9">               ordinal,</span>
<span id="cb1-10">               nnet, </span>
<span id="cb1-11">               MASS, </span>
<span id="cb1-12">               mlogit, </span>
<span id="cb1-13">               matrixStats, </span>
<span id="cb1-14">               expss,</span>
<span id="cb1-15">               sjlabelled, </span>
<span id="cb1-16">               sjmisc, </span>
<span id="cb1-17">               tidyverse, </span>
<span id="cb1-18">               weights,</span>
<span id="cb1-19">               survey,</span>
<span id="cb1-20">               viridis)</span></code></pre></div>
</div>
</section>
<section id="cargamos-data" class="level3">
<h3 class="anchored" data-anchor-id="cargamos-data">Cargamos data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W02_v3.00_R.RData"</span>)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W04_v2.01_R.RData"</span>)</span></code></pre></div>
</div>
</section>
<section id="subset-2017" class="level3">
<h3 class="anchored" data-anchor-id="subset-2017">Subset 2017</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Armar BBDD 2019 </span></span>
<span id="cb3-2">ego2017 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> elsoc_2017 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-3">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(idencuesta,</span>
<span id="cb3-4">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sexo=</span>m0_sexo,</span>
<span id="cb3-5">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sexoalter01=</span>r13_sexo_01,</span>
<span id="cb3-6">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sexoalter02=</span>r13_sexo_02,</span>
<span id="cb3-7">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sexoalter03=</span>r13_sexo_03,</span>
<span id="cb3-8">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sexoalter04=</span>r13_sexo_04,</span>
<span id="cb3-9">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sexoalter05=</span>r13_sexo_05,</span>
<span id="cb3-10">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">edad=</span>m0_edad,</span>
<span id="cb3-11">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">edadalter01=</span>r13_edad_01,</span>
<span id="cb3-12">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">edadalter02=</span>r13_edad_02,</span>
<span id="cb3-13">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">edadalter03=</span>r13_edad_03,</span>
<span id="cb3-14">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">edadalter04=</span>r13_edad_04,</span>
<span id="cb3-15">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">edadalter05=</span>r13_edad_05,</span>
<span id="cb3-16">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">relig=</span>m38,</span>
<span id="cb3-17">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">religalter01=</span>r13_relig_01,</span>
<span id="cb3-18">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">religalter02=</span>r13_relig_02,</span>
<span id="cb3-19">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">religalter03=</span>r13_relig_03,</span>
<span id="cb3-20">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">religalter04=</span>r13_relig_04,</span>
<span id="cb3-21">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">religalter05=</span>r13_relig_05,</span>
<span id="cb3-22">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">educ=</span>m01,</span>
<span id="cb3-23">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">educalter01=</span>r13_educ_01,</span>
<span id="cb3-24">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">educalter02=</span>r13_educ_02,</span>
<span id="cb3-25">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">educalter03=</span>r13_educ_03,</span>
<span id="cb3-26">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">educalter04=</span>r13_educ_04,</span>
<span id="cb3-27">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">educalter05=</span>r13_educ_05,</span>
<span id="cb3-28">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ideol=</span>c15,</span>
<span id="cb3-29">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ideolalter01=</span>r13_ideol_01,</span>
<span id="cb3-30">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ideolalter02=</span>r13_ideol_02,</span>
<span id="cb3-31">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ideolalter03=</span>r13_ideol_03,</span>
<span id="cb3-32">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ideolalter04=</span>r13_ideol_04,</span>
<span id="cb3-33">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ideolalter05=</span>r13_ideol_05,</span>
<span id="cb3-34">                c08_01,</span>
<span id="cb3-35">                c08_02,</span>
<span id="cb3-36">                c08_03,</span>
<span id="cb3-37">                c08_04,</span>
<span id="cb3-38">                ponderador01) </span></code></pre></div>
</div>
</section>
<section id="revisar-bbdd" class="level3">
<h3 class="anchored" data-anchor-id="revisar-bbdd">Revisar BBDD</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">ego2017 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(ego2017)</span>
<span id="cb4-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#head(ego2017)</span></span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dim</span>(ego2017)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2473   36</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Definir NA's</span></span>
<span id="cb6-2">ego2017[ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-999"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb6-3">ego2017[ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-888"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span></code></pre></div>
</div>
</section>
<section id="recod-variables-2017" class="level3">
<h3 class="anchored" data-anchor-id="recod-variables-2017">Recod variables 2017</h3>
<section id="sexo" class="level4">
<h4 class="anchored" data-anchor-id="sexo">Sexo</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">sexolab<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hombre"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mujer"</span>)</span>
<span id="cb7-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_h<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>sexolab)</span>
<span id="cb7-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo1<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter01,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>sexolab)</span>
<span id="cb7-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo2<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter02,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>sexolab)</span>
<span id="cb7-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo3<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter03,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>sexolab)</span>
<span id="cb7-6">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo4<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter04,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>sexolab)</span>
<span id="cb7-7">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo5<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter05,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>sexolab)</span>
<span id="cb7-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cbind</span>(alterSexo1,alterSexo2,alterSexo3,alterSexo4,alterSexo5)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   alterSexo1      alterSexo2      alterSexo3      alterSexo4   
 Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000  
 Median :2.000   Median :2.000   Median :2.000   Median :2.000  
 Mean   :1.617   Mean   :1.583   Mean   :1.552   Mean   :1.546  
 3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000  
 Max.   :2.000   Max.   :2.000   Max.   :2.000   Max.   :2.000  
 NA's   :1       NA's   :372     NA's   :864     NA's   :1370   
   alterSexo5   
 Min.   :1.000  
 1st Qu.:1.000  
 Median :2.000  
 Mean   :1.557  
 3rd Qu.:2.000  
 Max.   :2.000  
 NA's   :1692   </code></pre>
</div>
</div>
</section>
<section id="edad" class="level4">
<h4 class="anchored" data-anchor-id="edad">Edad</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">edadlab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"18-24"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"25-34"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"35-44"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"45-54"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"55-64"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt;65"</span>)</span>
<span id="cb9-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadR<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edad,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edadlab)</span>
<span id="cb9-3"></span>
<span id="cb9-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge1<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadalter01,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edadlab)</span>
<span id="cb9-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge2<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadalter02,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edadlab)</span>
<span id="cb9-6">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge3<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadalter03,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edadlab)</span>
<span id="cb9-7">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge4<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadalter04,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edadlab)</span>
<span id="cb9-8">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge5<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadalter05,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edadlab)</span>
<span id="cb9-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cbind</span>(alterAge1,alterAge2,alterAge3,alterAge4,alterAge5)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   alterAge1       alterAge2       alterAge3       alterAge4       alterAge5   
 Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.00  
 1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.00  
 Median :4.000   Median :3.000   Median :3.000   Median :3.000   Median :3.00  
 Mean   :3.607   Mean   :3.376   Mean   :3.328   Mean   :3.312   Mean   :3.37  
 3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.00  
 Max.   :6.000   Max.   :6.000   Max.   :6.000   Max.   :6.000   Max.   :6.00  
 NA's   :1       NA's   :372     NA's   :864     NA's   :1370    NA's   :1692  </code></pre>
</div>
</div>
</section>
<section id="religión" class="level4">
<h4 class="anchored" data-anchor-id="religión">Religión</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">rellab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Catolico"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Evangelico"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Otra Religion"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"no religioso"</span>)</span>
<span id="cb11-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religid<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3:6=3;7:9=4;-999:-888=4"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>rellab)</span>
<span id="cb11-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig1<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religalter01,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3:4=4;5=3;-999:-888=4"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>rellab)</span>
<span id="cb11-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig2<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religalter02,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3:4=4;5=3;-999:-888=4"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>rellab)</span>
<span id="cb11-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig3<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religalter03,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3:4=4;5=3;-999:-888=4"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>rellab)</span>
<span id="cb11-6">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig4<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religalter04,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3:4=4;5=3;-999:-888=4"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>rellab)</span>
<span id="cb11-7">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig5<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religalter05,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3:4=4;5=3;-999:-888=4"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>rellab)</span>
<span id="cb11-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cbind</span>(alterRelig1,alterRelig2,alterRelig3,alterRelig4,alterRelig5)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  alterRelig1     alterRelig2     alterRelig3     alterRelig4   
 Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000  
 Median :1.000   Median :1.000   Median :1.000   Median :1.000  
 Mean   :1.747   Mean   :1.762   Mean   :1.836   Mean   :1.784  
 3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000  
 Max.   :4.000   Max.   :4.000   Max.   :4.000   Max.   :4.000  
 NA's   :1       NA's   :372     NA's   :864     NA's   :1370   
  alterRelig5   
 Min.   :1.000  
 1st Qu.:1.000  
 Median :1.000  
 Mean   :1.809  
 3rd Qu.:2.000  
 Max.   :4.000  
 NA's   :1692   </code></pre>
</div>
</div>
</section>
<section id="educación" class="level4">
<h4 class="anchored" data-anchor-id="educación">Educación</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">edulab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Basica"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Media"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sup. Tecnica"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sup. Univ"</span>)</span>
<span id="cb13-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educaF<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:3=1;4:5=2;6:7=3;8:10=4;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edulab)</span>
<span id="cb13-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca1<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educalter01,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edulab)</span>
<span id="cb13-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca2<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educalter02,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edulab)</span>
<span id="cb13-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca3<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educalter03,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edulab)</span>
<span id="cb13-6">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca4<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educalter04,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edulab)</span>
<span id="cb13-7">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca5<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educalter05,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>edulab)</span>
<span id="cb13-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cbind</span>(alterEduca1,alterEduca2,alterEduca3,alterEduca4,alterEduca5)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  alterEduca1     alterEduca2     alterEduca3     alterEduca4   
 Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000  
 Median :2.000   Median :2.000   Median :2.000   Median :2.000  
 Mean   :2.344   Mean   :2.394   Mean   :2.438   Mean   :2.489  
 3rd Qu.:3.000   3rd Qu.:3.000   3rd Qu.:3.000   3rd Qu.:4.000  
 Max.   :4.000   Max.   :4.000   Max.   :4.000   Max.   :4.000  
 NA's   :142     NA's   :481     NA's   :940     NA's   :1412   
  alterEduca5   
 Min.   :1.000  
 1st Qu.:2.000  
 Median :2.000  
 Mean   :2.454  
 3rd Qu.:3.000  
 Max.   :4.000  
 NA's   :1724   </code></pre>
</div>
</div>
</section>
<section id="posición-política" class="level4">
<h4 class="anchored" data-anchor-id="posición-política">Posición Política</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">pollab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Izq"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Centro"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Der"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ind/Ninguno"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NA"</span>)</span>
<span id="cb15-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>izqderR<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideol,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0:3=1;4:6=2;7:10=3;11:12=4;NA=5"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>pollab)</span>
<span id="cb15-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol1<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter01,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;NA=5"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>pollab)</span>
<span id="cb15-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol2<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter02,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;NA=5"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>pollab)</span>
<span id="cb15-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol3<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter03,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;NA=5"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>pollab)</span>
<span id="cb15-6">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol4<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter04,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;NA=5"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>pollab)</span>
<span id="cb15-7">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol5<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter05,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;NA=5"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels=</span>pollab)</span>
<span id="cb15-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cbind</span>(alterPospol1,alterPospol2,alterPospol3,alterPospol4,alterPospol5)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  alterPospol1   alterPospol2    alterPospol3    alterPospol4    alterPospol5  
 Min.   :1.00   Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:3.00   1st Qu.:3.000   1st Qu.:4.000   1st Qu.:4.000   1st Qu.:4.000  
 Median :4.00   Median :4.000   Median :4.000   Median :5.000   Median :5.000  
 Mean   :3.58   Mean   :3.747   Mean   :4.013   Mean   :4.318   Mean   :4.493  
 3rd Qu.:4.00   3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.000  
 Max.   :5.00   Max.   :5.000   Max.   :5.000   Max.   :5.000   Max.   :5.000  </code></pre>
</div>
</div>
</section>
<section id="tamaño-de-la-red" class="level4">
<h4 class="anchored" data-anchor-id="tamaño-de-la-red">Tamaño de la red</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>tamred <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter01)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb17-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter02)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb17-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter03)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb17-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter04)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb17-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexoalter05))</span>
<span id="cb17-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prop.table</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>tamred)), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     0      1      2      3      4      5 
0.0004 0.1500 0.1989 0.2046 0.1302 0.3158 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>tamred[ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>tamred<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb19-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>tamred)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  1   2   3   4   5 
371 492 506 322 781 </code></pre>
</div>
</div>
</section>
</section>
<section id="plot-tamred" class="level3">
<h3 class="anchored" data-anchor-id="plot-tamred">Plot tamred</h3>
<section id="posición-política-de-alteres-segun-tamaño-de-la-red-de-ego." class="level4">
<h4 class="anchored" data-anchor-id="posición-política-de-alteres-segun-tamaño-de-la-red-de-ego.">posición política de alteres segun tamaño de la red de ego.</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol1t<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol1,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6:5=4"</span>)</span>
<span id="cb21-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol2t<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol2,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6:5=4"</span>)</span>
<span id="cb21-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol3t<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol3,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6:5=4"</span>)</span>
<span id="cb21-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol4t<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol4,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6:5=4"</span>)</span>
<span id="cb21-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol5t<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol5,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6:5=4"</span>)</span>
<span id="cb21-6"></span>
<span id="cb21-7">Tpospol1<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(tamred,alterPospol1t), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span>T)</span>
<span id="cb21-8">Tpospol2<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(tamred,alterPospol2t), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span>T)</span>
<span id="cb21-9">Tpospol3<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(tamred,alterPospol3t), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span>T)</span>
<span id="cb21-10">Tpospol4<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(tamred,alterPospol4t), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span>T)</span>
<span id="cb21-11">Tpospol5<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(tamred,alterPospol5t), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span>T)</span>
<span id="cb21-12"></span>
<span id="cb21-13">Hpospol<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span>Tpospol1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>Tpospol2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>Tpospol3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>Tpospol4<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>Tpospol5</span>
<span id="cb21-14">Hpospol<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Hpospol, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb21-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dimnames</span>(Hpospol)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">tamred=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"4"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"5"</span>),</span>
<span id="cb21-16">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Izq"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Centro"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Der"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ind/Ns"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NA"</span>))</span>
<span id="cb21-17"></span>
<span id="cb21-18">hom_tam<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prop.table</span>(Hpospol,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span>
<span id="cb21-19"></span>
<span id="cb21-20">hom_tam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb21-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb21-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> tamred, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Freq, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> alter, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight =</span> ponderador01) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb21-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'dodge'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'identity'</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb21-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Alter political position"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Network size"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb21-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_viridis_d</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">begin =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">end =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">direction =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">option =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"F"</span>,) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>  </span>
<span id="cb21-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb21-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_light</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/01-multihomophily/index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="homofilia-por-posición-política" class="level3">
<h3 class="anchored" data-anchor-id="homofilia-por-posición-política">Homofilia por posición política</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(car)</span>
<span id="cb22-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#rec</span></span>
<span id="cb22-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>izqderRx<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideol,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0:3=1;3:6=2;7:10=3;11:12=4;-999:-888=NA"</span>)</span>
<span id="cb22-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol1x<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter01,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;-999:-888=NA"</span>)</span>
<span id="cb22-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol2x<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter02,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;-999:-888=NA"</span>)</span>
<span id="cb22-6">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol3x<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter03,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;-999:-888=NA"</span>)</span>
<span id="cb22-7">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol4x<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter04,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;-999:-888=NA"</span>)</span>
<span id="cb22-8">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol5x<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideolalter05,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:2=3;3=2;4:5=1;6=4;-999:-888=NA"</span>)</span>
<span id="cb22-9"></span>
<span id="cb22-10">Tpospol1<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(izqderRx,alterPospol1x))</span>
<span id="cb22-11">Tpospol2<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(izqderRx,alterPospol2x))</span>
<span id="cb22-12">Tpospol3<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(izqderRx,alterPospol3x))</span>
<span id="cb22-13">Tpospol4<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(izqderRx,alterPospol4x))</span>
<span id="cb22-14">Tpospol5<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(ego2017,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(izqderRx,alterPospol5x))</span>
<span id="cb22-15"></span>
<span id="cb22-16">Hpospol<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span>Tpospol1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>Tpospol2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>Tpospol3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>Tpospol4<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>Tpospol5</span>
<span id="cb22-17">Hpospol<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Hpospol, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb22-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dimnames</span>(Hpospol)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ego=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Izq"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Centro"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Der"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ind/Ns"</span>),</span>
<span id="cb22-19">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Izq"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Centro"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Der"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ind/Ns"</span>))</span>
<span id="cb22-20"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prop.table</span>(Hpospol,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        alter
ego       Izq Centro  Der Ind/Ns
  Izq    0.41   0.04 0.10   0.45
  Centro 0.14   0.10 0.14   0.61
  Der    0.12   0.07 0.39   0.42
  Ind/Ns 0.05   0.02 0.06   0.87</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1">qq3<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prop.table</span>(Hpospol,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span>
<span id="cb24-2"></span>
<span id="cb24-3">qq3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb24-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>ego, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>Freq, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>alter),  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight =</span> ponderador01) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb24-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'dodge'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'identity'</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Political dyads"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ego political position"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_viridis_d</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">begin =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">end =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">direction =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">option =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"F"</span>,) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb24-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb24-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_light</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/01-multihomophily/index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="cálculo-e-i-homofilia-por-posición-política-elsoc-2017" class="level3">
<h3 class="anchored" data-anchor-id="cálculo-e-i-homofilia-por-posición-política-elsoc-2017">Cálculo E-I homofilia por posición política (ELSOC 2017)</h3>
<section id="indice-e-i-de-krackhardt-y-stern-1988." class="level4">
<h4 class="anchored" data-anchor-id="indice-e-i-de-krackhardt-y-stern-1988.">Indice E-I de Krackhardt y Stern (1988).</h4>
<p>Creamos los alteres como externos (con otras categorías distinta a la del ego) o como internos (misma categoría que el ego). Los valores de -1 implican perfecta homofilia y los valores de +1 corresponden a perfecta heterofilia.</p>
</section>
</section>
<section id="ei-posición-política" class="level3">
<h3 class="anchored" data-anchor-id="ei-posición-política">EI posición política</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt1_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>izqderR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol1,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb25-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt2_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>izqderR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol2,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb25-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt3_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>izqderR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol3,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb25-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt4_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>izqderR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol4,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb25-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt5_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>izqderR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterPospol5,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb25-6"></span>
<span id="cb25-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Ahora se agrega la información sobre los tipos de vínculos</span></span>
<span id="cb25-8">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_external<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, </span>
<span id="cb25-9">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt1_clasif, </span>
<span id="cb25-10">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt2_clasif,</span>
<span id="cb25-11">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt3_clasif, </span>
<span id="cb25-12">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt4_clasif, </span>
<span id="cb25-13">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt5_clasif) </span>
<span id="cb25-14"></span>
<span id="cb25-15">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_internal<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>, </span>
<span id="cb25-16">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt1_clasif, </span>
<span id="cb25-17">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt2_clasif,</span>
<span id="cb25-18">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt3_clasif, </span>
<span id="cb25-19">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt4_clasif, </span>
<span id="cb25-20">                                        ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_alt5_clasif) </span>
<span id="cb25-21"></span>
<span id="cb25-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Finalmente, calculamos el indicador EI</span></span>
<span id="cb25-23">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_pospol<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_internal)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span></span>
<span id="cb25-24">                         (ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>pospol_internal)</span>
<span id="cb25-25"></span>
<span id="cb25-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_pospol)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 -1.000  -1.000  -0.600  -0.423  -0.200   1.000 </code></pre>
</div>
</div>
</section>
<section id="ei-religión" class="level3">
<h3 class="anchored" data-anchor-id="ei-religión">EI religión</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig1_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religid<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig1,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb27-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig2_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religid<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig2,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb27-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig3_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religid<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig3,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb27-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig4_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religid<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig4,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb27-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig5_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>religid<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig5,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb27-6"></span>
<span id="cb27-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Ahora se agrega la información sobre los tipos de vínculos</span></span>
<span id="cb27-8">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig_external<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, </span>
<span id="cb27-9">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig1_clasif, </span>
<span id="cb27-10">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig2_clasif,</span>
<span id="cb27-11">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig3_clasif, </span>
<span id="cb27-12">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig4_clasif, </span>
<span id="cb27-13">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig5_clasif) </span>
<span id="cb27-14"></span>
<span id="cb27-15">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig_internal<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>, </span>
<span id="cb27-16">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig1_clasif, </span>
<span id="cb27-17">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig2_clasif,</span>
<span id="cb27-18">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig3_clasif, </span>
<span id="cb27-19">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig4_clasif, </span>
<span id="cb27-20">                                     ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterRelig5_clasif) </span>
<span id="cb27-21"></span>
<span id="cb27-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Finalmente, calculamos el indicador EI</span></span>
<span id="cb27-23">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_relig<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig_internal)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span></span>
<span id="cb27-24">                        (ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig_internal)</span>
<span id="cb27-25"></span>
<span id="cb27-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_relig)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
-1.0000 -0.3333  0.6000  0.2776  1.0000  1.0000       8 </code></pre>
</div>
</div>
</section>
<section id="ei-educación" class="level3">
<h3 class="anchored" data-anchor-id="ei-educación">EI educación</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca1_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educaF<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca1,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb29-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca2_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educaF<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca2,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb29-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca3_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educaF<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca3,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb29-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca4_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educaF<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca4,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb29-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca5_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educaF<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca5,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb29-6"></span>
<span id="cb29-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Ahora se agrega la información sobre los tipos de vínculos</span></span>
<span id="cb29-8">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ_external<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, </span>
<span id="cb29-9">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca1_clasif, </span>
<span id="cb29-10">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca2_clasif,</span>
<span id="cb29-11">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca3_clasif, </span>
<span id="cb29-12">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca4_clasif, </span>
<span id="cb29-13">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca5_clasif) </span>
<span id="cb29-14"></span>
<span id="cb29-15">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ_internal<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>, </span>
<span id="cb29-16">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca1_clasif, </span>
<span id="cb29-17">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca2_clasif,</span>
<span id="cb29-18">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca3_clasif, </span>
<span id="cb29-19">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca4_clasif, </span>
<span id="cb29-20">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterEduca5_clasif) </span>
<span id="cb29-21"></span>
<span id="cb29-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Finalmente, calculamos el indicador EI</span></span>
<span id="cb29-23">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_educ<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ_internal)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span></span>
<span id="cb29-24">                        (ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ_internal)</span>
<span id="cb29-25"></span>
<span id="cb29-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_educ)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's 
-1.00000 -1.00000  0.00000 -0.03621  0.60000  1.00000       59 </code></pre>
</div>
</div>
</section>
<section id="ei-sexo" class="level3">
<h3 class="anchored" data-anchor-id="ei-sexo">EI Sexo</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo1_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_h<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo1,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb31-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo2_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_h<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo2,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb31-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo3_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_h<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo3,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb31-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo4_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_h<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo4,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb31-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo5_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_h<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo5,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb31-6"></span>
<span id="cb31-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Ahora se agrega la información sobre los tipos de vínculos</span></span>
<span id="cb31-8">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_external<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, </span>
<span id="cb31-9">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo1_clasif, </span>
<span id="cb31-10">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo2_clasif,</span>
<span id="cb31-11">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo3_clasif, </span>
<span id="cb31-12">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo4_clasif, </span>
<span id="cb31-13">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo5_clasif) </span>
<span id="cb31-14"></span>
<span id="cb31-15">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_internal<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>, </span>
<span id="cb31-16">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo1_clasif, </span>
<span id="cb31-17">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo2_clasif,</span>
<span id="cb31-18">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo3_clasif, </span>
<span id="cb31-19">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo4_clasif, </span>
<span id="cb31-20">                                    ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterSexo5_clasif) </span>
<span id="cb31-21"></span>
<span id="cb31-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Finalmente, calculamos el indicador EI</span></span>
<span id="cb31-23">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_sexo<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_internal)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span></span>
<span id="cb31-24">                       (ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_internal)</span>
<span id="cb31-25"></span>
<span id="cb31-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_sexo)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
-1.0000 -0.2000  0.3333  0.2583  1.0000  1.0000       1 </code></pre>
</div>
</div>
</section>
<section id="ei-edad" class="level3">
<h3 class="anchored" data-anchor-id="ei-edad">EI edad</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge1_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge1,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb33-2">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge2_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge2,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb33-3">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge3_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge3,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb33-4">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge4_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge4,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb33-5">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge5_clasif<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edadR<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge5,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>)</span>
<span id="cb33-6"></span>
<span id="cb33-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Ahora se agrega la información sobre los tipos de vínculos</span></span>
<span id="cb33-8">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>age_external<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"External"</span>, </span>
<span id="cb33-9">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge1_clasif, </span>
<span id="cb33-10">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge2_clasif,</span>
<span id="cb33-11">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge3_clasif, </span>
<span id="cb33-12">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge4_clasif, </span>
<span id="cb33-13">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge5_clasif) </span>
<span id="cb33-14"></span>
<span id="cb33-15">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>age_internal<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count_row_if</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">criterion =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Internal"</span>, </span>
<span id="cb33-16">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge1_clasif, </span>
<span id="cb33-17">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge2_clasif,</span>
<span id="cb33-18">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge3_clasif, </span>
<span id="cb33-19">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge4_clasif, </span>
<span id="cb33-20">                                   ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alterAge5_clasif) </span>
<span id="cb33-21"></span>
<span id="cb33-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Finalmente, calculamos el indicador EI</span></span>
<span id="cb33-23">ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_age<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">abs</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>age_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>age_internal)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span></span>
<span id="cb33-24">                      (ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>age_external<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>age_internal))</span>
<span id="cb33-25"></span>
<span id="cb33-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(ego2017<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>EI_index_age)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 0.0000  0.3333  0.6000  0.6177  1.0000  1.0000       1 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Ploteamos</span></span>
<span id="cb35-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> ego2017) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb35-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapping =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> EI_index_pospol, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> ..count..), </span>
<span id="cb35-4">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">binwidth =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, </span>
<span id="cb35-5">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ponderador01"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb35-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_viridis_c</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">direction =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">option =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"F"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">guide =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb35-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Political homophily in personal networks"</span>,</span>
<span id="cb35-8">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"E-I homophily (Krackhardt &amp; Stern, 1988)"</span>,</span>
<span id="cb35-9">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source: ELSOC COES 2017"</span>,</span>
<span id="cb35-10">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, </span>
<span id="cb35-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb35-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_light</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/01-multihomophily/index_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="bibliografía" class="level3">
<h3 class="anchored" data-anchor-id="bibliografía">Bibliografía</h3>
<ul>
<li>Krackhardt, D., &amp; Stern, R. N. (1988). Informal networks and organizational crises: An experimental simulation. Social Psychology Quarterly, 123–140.</li>
</ul>


</section>

 ]]></description>
  <category>R</category>
  <category>Networks</category>
  <category>Ego networks</category>
  <category>ERGM ego</category>
  <category>Homophily</category>
  <guid>https://rcantillan.github.io/blog/posts/01-multihomophily/index.html</guid>
  <pubDate>Wed, 09 Aug 2023 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Análisis de Redes Ego-céntricas</title>
  <dc:creator>Roberto Cantillan</dc:creator>
  <link>https://rcantillan.github.io/blog/posts/03-egodescriptives/index.html</link>
  <description><![CDATA[ 



<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>Este documento analiza en detalle las redes ego-céntricas utilizando datos de ELSOC 2017 (w2) y 2019 (w4). Construiremos una base de datos que integra información de egos (encuestados) y sus alteri (contactos mencionados), calculando posteriormente medidas de distancia sociodemográfica entre ellos.</p>
<div id="fig-id" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://rcantillan.github.io/blog/posts/03-egodescriptives/img/egor.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Egonetwork</figcaption>
</figure>
</div>
</section>
<section id="preparación-del-entorno" class="level2">
<h2 class="anchored" data-anchor-id="preparación-del-entorno">Preparación del Entorno</h2>
<p>Primero cargaremos las librerías necesarias. El siguiente código utiliza <code>pacman::p_load()</code>, que tiene la ventaja de instalar los paquetes si no están presentes y luego cargarlos. Cada paquete cumple una función específica:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">pacman<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">p_load</span>(tidyverse,sjlabelled,sjPlot,vcd,texreg,ordinal, </span>
<span id="cb1-2">               egor,haven,car,dplyr,stargazer,janitor,gridExtra,</span>
<span id="cb1-3">               ggeffects, kableExtra, questionr, JWileymisc)</span></code></pre></div>
</div>
</section>
<section id="carga-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="carga-de-datos">Carga de Datos</h2>
<p>A continuación, cargamos las bases de datos de ELSOC. Estos archivos contienen la información de las olas 2017 y 2019. El formato .RData mantiene la estructura original de los datos, incluyendo etiquetas y metadatos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W02_v3.00_R.RData"</span>)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W04_v2.01_R.RData"</span>)</span></code></pre></div>
</div>
</section>
<section id="preparación-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="preparación-de-datos">Preparación de datos</h2>
<p>Este paso es crucial para el análisis de redes. Utilizamos rename() para estandarizar el nombre de la variable identificadora en ambas bases de datos. El prefijo ‘.’ en .egoID sigue las convenciones del paquete egor para variables identificadoras:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">a <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> elsoc_2017 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.egoID =</span> idencuesta)</span>
<span id="cb3-2">b <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> elsoc_2019 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.egoID =</span> idencuesta)</span></code></pre></div>
</div>
<section id="construcción-de-base-de-datos-de-alteri" class="level3">
<h3 class="anchored" data-anchor-id="construcción-de-base-de-datos-de-alteri">Construcción de Base de Datos de Alteri</h3>
<p>Ahora comenzamos la parte más compleja: la construcción de la base de datos de alteri. Para cada alter (contacto mencionado por el ego), necesitamos extraer múltiples características.</p>
</section>
<section id="primer-alter" class="level3">
<h3 class="anchored" data-anchor-id="primer-alter">Primer Alter</h3>
<p>El siguiente código extrae la información del primer alter mencionado por cada ego. Analicemos cada variable seleccionada:</p>
<ul>
<li>alter_sexo: Género del contacto (1=Hombre, 2=Mujer)</li>
<li>alter_edad: Edad en años</li>
<li>alter_rel: Tipo de relación con ego (1=Familiar, 2=Amigo, etc.)</li>
<li>alter_tiempo: Duración de la relación</li>
<li>alter_barrio: Si vive en el mismo barrio que ego</li>
<li>alter_educ: Nivel educativo</li>
<li>alter_relig: Afiliación religiosa</li>
<li>alter_ideol: Orientación política</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">alter_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> a <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-2">        dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(.egoID, </span>
<span id="cb4-3">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_sexo=</span>r13_sexo_01,     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos nombre de variable</span></span>
<span id="cb4-4">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_edad=</span>r13_edad_01,      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># para mantener consistencia</span></span>
<span id="cb4-5">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_rel=</span>r13_relacion_01,   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Los sufijos _01 indican</span></span>
<span id="cb4-6">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_tiempo=</span>r13_tiempo_01,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># que corresponden al</span></span>
<span id="cb4-7">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_barrio=</span>r13_barrio_01,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># primer alter mencionado</span></span>
<span id="cb4-8">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_educ=</span>r13_educ_01,      </span>
<span id="cb4-9">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_relig=</span>r13_relig_01,    </span>
<span id="cb4-10">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_ideol=</span>r13_ideol_01)</span></code></pre></div>
</div>
</section>
<section id="resto-de-alteri" class="level3">
<h3 class="anchored" data-anchor-id="resto-de-alteri">Resto de Alteri</h3>
<p>Repetimos el mismo proceso para los alteri 2 al 5. La única diferencia es el sufijo en los nombres de las variables originales (_02, _03, etc.). Este código es repetitivo pero necesario para mantener la claridad en la estructura de los datos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Segundo alter - sufijo _02 en variables originales</span></span>
<span id="cb5-2">alter_2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> a <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-3">        dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(.egoID, </span>
<span id="cb5-4">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_sexo=</span>r13_sexo_02, </span>
<span id="cb5-5">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_edad=</span>r13_edad_02, </span>
<span id="cb5-6">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_rel=</span>r13_relacion_02,</span>
<span id="cb5-7">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_tiempo=</span>r13_tiempo_02,</span>
<span id="cb5-8">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_barrio=</span>r13_barrio_02, </span>
<span id="cb5-9">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_educ=</span>r13_educ_02, </span>
<span id="cb5-10">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_relig=</span>r13_relig_02, </span>
<span id="cb5-11">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_ideol=</span>r13_ideol_02)</span>
<span id="cb5-12"></span>
<span id="cb5-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Tercer alter - sufijo _03</span></span>
<span id="cb5-14">alter_3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> a <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-15">        dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(.egoID, </span>
<span id="cb5-16">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_sexo=</span>r13_sexo_03, </span>
<span id="cb5-17">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_edad=</span>r13_edad_03, </span>
<span id="cb5-18">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_rel=</span>r13_relacion_03,</span>
<span id="cb5-19">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_tiempo=</span>r13_tiempo_03,</span>
<span id="cb5-20">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_barrio=</span>r13_barrio_03, </span>
<span id="cb5-21">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_educ=</span>r13_educ_03, </span>
<span id="cb5-22">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_relig=</span>r13_relig_03, </span>
<span id="cb5-23">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_ideol=</span>r13_ideol_03)</span>
<span id="cb5-24"></span>
<span id="cb5-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Cuarto alter - sufijo _04</span></span>
<span id="cb5-26">alter_4 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> a <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-27">        dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(.egoID, </span>
<span id="cb5-28">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_sexo=</span>r13_sexo_04, </span>
<span id="cb5-29">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_edad=</span>r13_edad_04, </span>
<span id="cb5-30">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_rel=</span>r13_relacion_04,</span>
<span id="cb5-31">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_tiempo=</span>r13_tiempo_04, </span>
<span id="cb5-32">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_barrio=</span>r13_barrio_04, </span>
<span id="cb5-33">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_educ=</span>r13_educ_04, </span>
<span id="cb5-34">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_relig=</span>r13_relig_04, </span>
<span id="cb5-35">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_ideol=</span>r13_ideol_04)</span>
<span id="cb5-36"></span>
<span id="cb5-37"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Quinto alter - sufijo _05</span></span>
<span id="cb5-38">alter_5 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> a <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-39">        dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(.egoID, </span>
<span id="cb5-40">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_sexo=</span>r13_sexo_05, </span>
<span id="cb5-41">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_edad=</span>r13_edad_05, </span>
<span id="cb5-42">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_rel=</span>r13_relacion_05,</span>
<span id="cb5-43">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_tiempo=</span>r13_tiempo_05, </span>
<span id="cb5-44">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_barrio=</span>r13_barrio_05, </span>
<span id="cb5-45">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_educ=</span>r13_educ_05, </span>
<span id="cb5-46">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_relig=</span>r13_relig_05, </span>
<span id="cb5-47">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_ideol=</span>r13_ideol_05)</span></code></pre></div>
</div>
</section>
<section id="identificación-de-alteri" class="level3">
<h3 class="anchored" data-anchor-id="identificación-de-alteri">Identificación de Alteri</h3>
<p>Para mantener el orden de los alteri en nuestra base de datos, creamos una variable numérica que identifica la posición en que fue mencionado cada alter. Esto es crucial para análisis posteriores que consideren el orden de mención:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Asignamos números identificadores secuenciales</span></span>
<span id="cb6-2">alter_1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Primer alter mencionado</span></span>
<span id="cb6-3">alter_2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Segundo alter</span></span>
<span id="cb6-4">alter_3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Tercer alter</span></span>
<span id="cb6-5">alter_4<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Cuarto alter</span></span>
<span id="cb6-6">alter_5<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Quinto alter</span></span></code></pre></div>
</div>
</section>
<section id="creación-de-base-de-datos-en-formato-long" class="level3">
<h3 class="anchored" data-anchor-id="creación-de-base-de-datos-en-formato-long">Creación de Base de Datos en Formato Long</h3>
<p>Finalmente, combinamos todos los datos de alteri en un único conjunto de datos en formato longitudinal. Este paso es crucial porque:</p>
<ol type="1">
<li>Permite un análisis más eficiente</li>
<li>Facilita la comparación entre alteri</li>
<li>Es el formato requerido por muchas funciones de análisis de redes</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Combinamos todas las bases de datos de alteri</span></span>
<span id="cb7-2">alteris <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(alter_1, alter_2, alter_3, alter_4, alter_5)</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ordenamos por ID de ego para mantener la estructura jerárquica</span></span>
<span id="cb7-5">alteris <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(alteris, .egoID)</span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Creamos un identificador único para cada alter</span></span>
<span id="cb7-8">alteris <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rowid_to_column</span>(alteris, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">var =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".altID"</span>)</span>
<span id="cb7-9"></span>
<span id="cb7-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convertimos a tibble para mejor manipulación</span></span>
<span id="cb7-11">alteris <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>(alteris)</span></code></pre></div>
</div>
</section>
</section>
<section id="recodificación-de-variables" class="level2">
<h2 class="anchored" data-anchor-id="recodificación-de-variables">Recodificación de Variables</h2>
<section id="recodificación-de-atributos-de-alteri" class="level3">
<h3 class="anchored" data-anchor-id="recodificación-de-atributos-de-alteri">Recodificación de Atributos de Alteri</h3>
<p>A continuación, transformamos las variables categóricas de los alteri para facilitar el análisis. Utilizamos la función <code>factor</code> para convertir las variables en factores y <code>Recode</code> del paquete <code>car</code> para recodificar los valores. Esta recodificación es crucial para:</p>
<ol type="1">
<li>Simplificar categorías</li>
<li>Manejar valores perdidos</li>
<li>Crear categorías interpretables</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos nivel educativo</span></span>
<span id="cb8-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1 = básica, 2 = media, 3 = técnica, 4 = universitaria</span></span>
<span id="cb8-3">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_educ <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_educ,</span>
<span id="cb8-4">                                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2:3=2;4=3;5=4;-999=NA"</span>))</span>
<span id="cb8-5"></span>
<span id="cb8-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos religión</span></span>
<span id="cb8-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1-5 representan diferentes afiliaciones religiosas</span></span>
<span id="cb8-8">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_relig <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_relig,</span>
<span id="cb8-9">                                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3=3;4=4;5=5;-999=NA"</span>))</span>
<span id="cb8-10"></span>
<span id="cb8-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos ideología política</span></span>
<span id="cb8-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1-6 representan el espectro político de izquierda a derecha</span></span>
<span id="cb8-13">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_ideol <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_ideol,</span>
<span id="cb8-14">                                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3=3;4=4;5=5;6=6;-999=NA"</span>))</span>
<span id="cb8-15"></span>
<span id="cb8-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos edad en grupos etarios</span></span>
<span id="cb8-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1 = 0-18, 2 = 19-29, 3 = 30-40, 4 = 41-51, 5 = 52-62, 6 = 63+</span></span>
<span id="cb8-18">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_edad <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_edad,</span>
<span id="cb8-19">                                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0:18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6"</span>))</span>
<span id="cb8-20"></span>
<span id="cb8-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos sexo (1 = hombre, 2 = mujer)</span></span>
<span id="cb8-22">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_sexo <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_sexo,</span>
<span id="cb8-23">                                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2"</span>))</span></code></pre></div>
</div>
</section>
<section id="preparación-de-datos-de-ego" class="level3">
<h3 class="anchored" data-anchor-id="preparación-de-datos-de-ego">Preparación de Datos de Ego</h3>
<p>Ahora creamos un dataset con la información de los egos (encuestados). Seleccionamos variables equivalentes a las que tenemos para los alteri para poder hacer comparaciones directas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Seleccionamos y renombramos variables de ego</span></span>
<span id="cb9-2">egos <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> a <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb9-3">       dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(.egoID,                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ID del encuestado</span></span>
<span id="cb9-4">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ego_sexo =</span> m0_sexo,    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Sexo del encuestado</span></span>
<span id="cb9-5">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ego_edad =</span> m0_edad,    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Edad del encuestado</span></span>
<span id="cb9-6">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ego_ideol =</span> c15,       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ideología política</span></span>
<span id="cb9-7">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ego_educ =</span> m01,        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Nivel educativo</span></span>
<span id="cb9-8">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ego_relig =</span> m38)       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Religión</span></span>
<span id="cb9-9"></span>
<span id="cb9-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convertimos a tibble para mejor manipulación</span></span>
<span id="cb9-11">egos <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>(egos)</span></code></pre></div>
</div>
</section>
<section id="recodificación-de-variables-de-ego" class="level3">
<h3 class="anchored" data-anchor-id="recodificación-de-variables-de-ego">Recodificación de Variables de Ego</h3>
<p>Al igual que con los alteri, recodificamos las variables de los egos para asegurar la comparabilidad:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos nivel educativo</span></span>
<span id="cb10-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Agrupamos en 4 niveles: básica, media, técnica, universitaria</span></span>
<span id="cb10-3">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_educ <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_educ,</span>
<span id="cb10-4">                              <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:3=1;4:5=2;6:7=3;8:10=4;-999:-888=NA"</span>))</span>
<span id="cb10-5"></span>
<span id="cb10-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos religión</span></span>
<span id="cb10-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Agrupamos en 5 categorías principales</span></span>
<span id="cb10-8">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_relig <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_relig,</span>
<span id="cb10-9">                               <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;9=3;7:8=4;3:6=5;-999:-888=NA"</span>))</span>
<span id="cb10-10"></span>
<span id="cb10-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos ideología política</span></span>
<span id="cb10-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Escala de 1-6 donde 1 = extrema izquierda, 6 = extrema derecha</span></span>
<span id="cb10-13">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_ideol <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_ideol,</span>
<span id="cb10-14">                               <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"9:10=1;6:8=2;5=3;2:4=4;0:1=5;11:12=6;-999:-888=NA"</span>))</span>
<span id="cb10-15"></span>
<span id="cb10-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos edad en los mismos grupos que los alteri</span></span>
<span id="cb10-17">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_edad <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_edad,</span>
<span id="cb10-18">                              <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6"</span>))</span>
<span id="cb10-19"></span>
<span id="cb10-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos sexo (1 = hombre, 2 = mujer)</span></span>
<span id="cb10-21">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_sexo <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_sexo,</span>
<span id="cb10-22">                              <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2"</span>))</span></code></pre></div>
</div>
</section>
<section id="unión-de-datos-de-ego-y-alteri" class="level3">
<h3 class="anchored" data-anchor-id="unión-de-datos-de-ego-y-alteri">Unión de Datos de Ego y Alteri</h3>
<p>Combinamos las bases de datos de egos y alteri mediante un left join, lo que nos permite mantener todos los alteri y sus correspondientes egos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Unimos las bases de datos usando el ID de ego como llave</span></span>
<span id="cb11-2">obs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(alteris, egos, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".egoID"</span>)</span>
<span id="cb11-3"></span>
<span id="cb11-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Creamos un indicador de caso</span></span>
<span id="cb11-5">obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>case <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb11-6"></span>
<span id="cb11-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos valores perdidos</span></span>
<span id="cb11-8">obs[obs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-999"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb11-9">obs[obs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-888"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span></code></pre></div>
</div>
</section>
</section>
<section id="análisis-descriptivos" class="level2">
<h2 class="anchored" data-anchor-id="análisis-descriptivos">Análisis Descriptivos</h2>
<section id="descriptivos-alter" class="level3">
<h3 class="anchored" data-anchor-id="descriptivos-alter">Descriptivos (alter)</h3>
<p>Observamos la frecuencia de las categorias de los atributos de alteris.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_educ)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">1362</td>
<td style="text-align: right;">11.0</td>
<td style="text-align: right;">17.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">3543</td>
<td style="text-align: right;">28.7</td>
<td style="text-align: right;">46.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">1042</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">13.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">1719</td>
<td style="text-align: right;">13.9</td>
<td style="text-align: right;">22.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">4699</td>
<td style="text-align: right;">38.0</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_relig))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">4907</td>
<td style="text-align: right;">39.7</td>
<td style="text-align: right;">60.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">1407</td>
<td style="text-align: right;">11.4</td>
<td style="text-align: right;">17.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">1128</td>
<td style="text-align: right;">9.1</td>
<td style="text-align: right;">14.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">251</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">3.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">373</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">4.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">4299</td>
<td style="text-align: right;">34.8</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_ideol))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">786</td>
<td style="text-align: right;">6.4</td>
<td style="text-align: right;">11.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">191</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">2.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">382</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">5.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">303</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">4.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">759</td>
<td style="text-align: right;">6.1</td>
<td style="text-align: right;">10.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: right;">4644</td>
<td style="text-align: right;">37.6</td>
<td style="text-align: right;">65.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5300</td>
<td style="text-align: right;">42.9</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_edad)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">349</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">4.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">1477</td>
<td style="text-align: right;">11.9</td>
<td style="text-align: right;">18.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">1875</td>
<td style="text-align: right;">15.2</td>
<td style="text-align: right;">23.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">1713</td>
<td style="text-align: right;">13.9</td>
<td style="text-align: right;">21.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">1466</td>
<td style="text-align: right;">11.9</td>
<td style="text-align: right;">18.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: right;">1186</td>
<td style="text-align: right;">9.6</td>
<td style="text-align: right;">14.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">4299</td>
<td style="text-align: right;">34.8</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_sexo)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">3388</td>
<td style="text-align: right;">27.4</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">4678</td>
<td style="text-align: right;">37.8</td>
<td style="text-align: right;">58</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">4299</td>
<td style="text-align: right;">34.8</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="descriptivos-ego" class="level3">
<h3 class="anchored" data-anchor-id="descriptivos-ego">Descriptivos (ego)</h3>
<p>Observamos la frecuencia de las categorias de los atributos sociodemográficos de ego.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_educ)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2985</td>
<td style="text-align: right;">24.1</td>
<td style="text-align: right;">24.1</td>
</tr>
<tr class="even">
<td style="text-align: right;">5225</td>
<td style="text-align: right;">42.3</td>
<td style="text-align: right;">42.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2010</td>
<td style="text-align: right;">16.3</td>
<td style="text-align: right;">16.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">2145</td>
<td style="text-align: right;">17.3</td>
<td style="text-align: right;">17.3</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_relig))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">6915</td>
<td style="text-align: right;">55.9</td>
<td style="text-align: right;">56.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">2495</td>
<td style="text-align: right;">20.2</td>
<td style="text-align: right;">20.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">1055</td>
<td style="text-align: right;">8.5</td>
<td style="text-align: right;">8.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">485</td>
<td style="text-align: right;">3.9</td>
<td style="text-align: right;">3.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">1380</td>
<td style="text-align: right;">11.2</td>
<td style="text-align: right;">11.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_ideol))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">915</td>
<td style="text-align: right;">7.4</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">1090</td>
<td style="text-align: right;">8.8</td>
<td style="text-align: right;">8.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">2350</td>
<td style="text-align: right;">19.0</td>
<td style="text-align: right;">19.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">1380</td>
<td style="text-align: right;">11.2</td>
<td style="text-align: right;">11.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">1075</td>
<td style="text-align: right;">8.7</td>
<td style="text-align: right;">8.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: right;">5400</td>
<td style="text-align: right;">43.7</td>
<td style="text-align: right;">44.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">155</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_edad)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1865</td>
<td style="text-align: right;">15.1</td>
<td style="text-align: right;">15.1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2530</td>
<td style="text-align: right;">20.5</td>
<td style="text-align: right;">20.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">2720</td>
<td style="text-align: right;">22.0</td>
<td style="text-align: right;">22.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2870</td>
<td style="text-align: right;">23.2</td>
<td style="text-align: right;">23.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">2370</td>
<td style="text-align: right;">19.2</td>
<td style="text-align: right;">19.2</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">freq</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_sexo)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">4755</td>
<td style="text-align: right;">38.5</td>
<td style="text-align: right;">38.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">7610</td>
<td style="text-align: right;">61.5</td>
<td style="text-align: right;">61.5</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Las tablas muestran la distribución de frecuencias para cada característica sociodemográfica. Las columnas representan: 1. La categoría de la variable 2. La frecuencia absoluta (número de casos) 3. El porcentaje del total</p>
<p>Esta información nos permite entender la composición de la muestra tanto a nivel de egos como de alteri, y será fundamental para los análisis posteriores de homofilia y distancia social.</p>
</section>
<section id="análisis-de-homofilia-educativa" class="level3">
<h3 class="anchored" data-anchor-id="análisis-de-homofilia-educativa">Análisis de Homofilia Educativa</h3>
<p>Examinamos la homofilia educativa mediante una tabla cruzada entre los niveles educativos de egos y alteri. Primero recodificamos las etiquetas para mejor interpretación:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Recodificamos etiquetas educativas</span></span>
<span id="cb22-2">obs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> obs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb22-3">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb22-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ego_educ =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(</span>
<span id="cb22-5">      ego_educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"básico"</span>,</span>
<span id="cb22-6">      ego_educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"media"</span>,</span>
<span id="cb22-7">      ego_educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"técnica"</span>,</span>
<span id="cb22-8">      <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"universit."</span></span>
<span id="cb22-9">    )</span>
<span id="cb22-10">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb22-11">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb22-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_educ =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(</span>
<span id="cb22-13">      alter_educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"básico"</span>,</span>
<span id="cb22-14">      alter_educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"media"</span>,</span>
<span id="cb22-15">      alter_educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"técnica"</span>,</span>
<span id="cb22-16">      <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"universit."</span></span>
<span id="cb22-17">    )</span>
<span id="cb22-18">  )</span>
<span id="cb22-19"></span>
<span id="cb22-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Creamos tabla cruzada con porcentajes</span></span>
<span id="cb22-21">table_cont <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> sjPlot<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tab_xtab</span>(</span>
<span id="cb22-22">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">var.row =</span> obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_educ,</span>
<span id="cb22-23">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">var.col =</span> obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_educ,</span>
<span id="cb22-24">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Homofilia Educativa en Redes Personales"</span>,</span>
<span id="cb22-25">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">show.row.prc =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>,</span>
<span id="cb22-26">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">show.summary =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>,</span>
<span id="cb22-27">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">show.col.prc =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>,</span>
<span id="cb22-28">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">use.viewer =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span></span>
<span id="cb22-29">)</span>
<span id="cb22-30">table_cont</span></code></pre></div>
<div class="cell-output-display">

<table style="border-collapse:collapse; border:none;">
<caption style="font-weight: bold; text-align:left;">Homofilia Educativa en Redes Personales</caption>
 <tbody><tr>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2">ego_educ</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="4">alter_educ</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2">Total</th>
 </tr>
 
<tr>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">básico</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">media</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">técnica</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">universit.</td>
 </tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">básico</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">570</span><br><span style="color:#333399;">19.1&nbsp;%</span><br><span style="color:#339933;">41.9&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">825</span><br><span style="color:#333399;">27.6&nbsp;%</span><br><span style="color:#339933;">23.3&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">89</span><br><span style="color:#333399;">3&nbsp;%</span><br><span style="color:#339933;">8.5&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1501</span><br><span style="color:#333399;">50.3&nbsp;%</span><br><span style="color:#339933;">23.4&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">2985</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">24.1&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">media</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">622</span><br><span style="color:#333399;">11.9&nbsp;%</span><br><span style="color:#339933;">45.7&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1881</span><br><span style="color:#333399;">36&nbsp;%</span><br><span style="color:#339933;">53.1&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">336</span><br><span style="color:#333399;">6.4&nbsp;%</span><br><span style="color:#339933;">32.2&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">2386</span><br><span style="color:#333399;">45.7&nbsp;%</span><br><span style="color:#339933;">37.2&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">5225</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">42.3&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">técnica</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">116</span><br><span style="color:#333399;">5.8&nbsp;%</span><br><span style="color:#339933;">8.5&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">481</span><br><span style="color:#333399;">23.9&nbsp;%</span><br><span style="color:#339933;">13.6&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">389</span><br><span style="color:#333399;">19.4&nbsp;%</span><br><span style="color:#339933;">37.3&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1024</span><br><span style="color:#333399;">50.9&nbsp;%</span><br><span style="color:#339933;">16&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">2010</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">16.3&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">universit.</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">54</span><br><span style="color:#333399;">2.5&nbsp;%</span><br><span style="color:#339933;">4&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">356</span><br><span style="color:#333399;">16.6&nbsp;%</span><br><span style="color:#339933;">10&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">228</span><br><span style="color:#333399;">10.6&nbsp;%</span><br><span style="color:#339933;">21.9&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1507</span><br><span style="color:#333399;">70.3&nbsp;%</span><br><span style="color:#339933;">23.5&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">2145</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">17.3&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;">Total</td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">1362</span><br><span style="color:#333399;">11&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">3543</span><br><span style="color:#333399;">28.7&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">1042</span><br><span style="color:#333399;">8.4&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">6418</span><br><span style="color:#333399;">51.9&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">12365</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td> 
</tr>
<tr><td style="text-align:right; font-size:0.9em; font-style:italic; padding:0.2cm;" colspan="6">χ<sup>2</sup>=1202.528 · df=9 · Cramer's V=0.180 · p=0.000</td> 
</tr>
 
</tbody></table>
</div>
</div>
</section>
<section id="visualización-de-homofilia-educativa" class="level3">
<h3 class="anchored" data-anchor-id="visualización-de-homofilia-educativa">Visualización de Homofilia Educativa</h3>
<p>Creamos un heatmap para visualizar los patrones de homofilia educativa:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Preparamos datos para el heatmap</span></span>
<span id="cb23-2">table <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prop.table</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_educ, obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_educ)))</span>
<span id="cb23-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(table) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ego_educ"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Alter_educ"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Prop"</span>)</span>
<span id="cb23-4"></span>
<span id="cb23-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Creamos el heatmap</span></span>
<span id="cb23-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(table, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(Ego_educ, Alter_educ)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_tile</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Prop)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_gradient</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">low =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"white"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">high =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb23-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb23-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Heatmap de Homofilia Educativa"</span>,</span>
<span id="cb23-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nivel Educativo de Ego"</span>,</span>
<span id="cb23-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nivel Educativo de Alter"</span>,</span>
<span id="cb23-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Proporción"</span></span>
<span id="cb23-15">  )</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/03-egodescriptives/index_files/figure-html/homophily-heatmap-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="análisis-de-relaciones-por-tipo" class="level3">
<h3 class="anchored" data-anchor-id="análisis-de-relaciones-por-tipo">Análisis de Relaciones por Tipo</h3>
<p>Calculamos promedios de tiempo de relación según el tipo de vínculo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1">obs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb24-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(</span>
<span id="cb24-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean.clo.esp =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(alter_tiempo[alter_rel <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb24-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean.clo.hijo =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(alter_tiempo[alter_rel <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2"</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb24-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean.clo.pari =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(alter_tiempo[alter_rel <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3"</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb24-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean.clo.amig =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(alter_tiempo[alter_rel <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"4"</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb24-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean.clo.otro =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(alter_tiempo[alter_rel <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"5"</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb24-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">count.par.barr =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>((alter_rel <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> alter_barrio <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb24-9">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb24-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb24-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">mean.clo.esp</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mean.clo.hijo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mean.clo.pari</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mean.clo.amig</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mean.clo.otro</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">count.par.barr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">4.498406</td>
<td style="text-align: right;">4.91511</td>
<td style="text-align: right;">4.877932</td>
<td style="text-align: right;">4.075097</td>
<td style="text-align: right;">3.67823</td>
<td style="text-align: right;">1215</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</section>
<section id="cálculo-de-distancias-sociodemográficas" class="level2">
<h2 class="anchored" data-anchor-id="cálculo-de-distancias-sociodemográficas">Cálculo de Distancias Sociodemográficas</h2>
<section id="creación-de-vectores-de-distancia" class="level3">
<h3 class="anchored" data-anchor-id="creación-de-vectores-de-distancia">Creación de Vectores de Distancia</h3>
<p>Calculamos medidas de distancia sociodemográfica entre ego y alter. Un valor de 1 indica diferencia en el atributo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculamos distancias para cada dimensión</span></span>
<span id="cb25-2">obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo_dist <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_sexo <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_sexo, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb25-3">obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edad_dist <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_edad <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_edad, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb25-4">obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ_dist <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_educ <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_educ, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb25-5">obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideol_dist <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_ideol <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_ideol, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb25-6">obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig_dist <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter_relig <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> obs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego_relig, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
</div>
</section>
<section id="resumen-de-distancias" class="level3">
<h3 class="anchored" data-anchor-id="resumen-de-distancias">Resumen de Distancias</h3>
<p>Finalmente, presentamos un resumen de las distancias sociodemográficas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Creamos tabla resumen de distancias</span></span>
<span id="cb26-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kbl</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">egltable</span>(</span>
<span id="cb26-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo_dist"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"edad_dist"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"educ_dist"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ideol_dist"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"relig_dist"</span>),</span>
<span id="cb26-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> obs,</span>
<span id="cb26-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">strict =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="cb26-6">)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb26-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable_paper</span>() </span></code></pre></div>
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">M (SD)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sexo_dist</td>
<td style="text-align: left;">0.36 (0.48)</td>
</tr>
<tr class="even">
<td style="text-align: left;">edad_dist</td>
<td style="text-align: left;">0.65 (0.48)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">educ_dist</td>
<td style="text-align: left;">0.65 (0.48)</td>
</tr>
<tr class="even">
<td style="text-align: left;">ideol_dist</td>
<td style="text-align: left;">0.55 (0.50)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">relig_dist</td>
<td style="text-align: left;">0.38 (0.49)</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Esta tabla final muestra el porcentaje de díadas ego-alter que presentan diferencias en cada dimensión sociodemográfica, permitiéndonos evaluar los patrones de homofilia en diferentes características.</p>
</section>
</section>
<section id="bibliografía." class="level2">
<h2 class="anchored" data-anchor-id="bibliografía.">Bibliografía.</h2>
<ul>
<li><p>Bargsted Valdés, M. A., Espinoza, V., &amp; Plaza, A. (2020). Pautas de Homofilia en Chile. Papers. Revista de Sociologia, 105(4), 583. https://doi.org/10.5565/rev/papers.2617</p></li>
<li><p>Smith, J. A., McPherson, M., &amp; Smith-Lovin, L. (2014). Social Distance in the United States: Sex, Race, Religion, Age, and Education Homophily among Confidants, 1985 to 2004. American Sociological Review, 79(3), 432–456. https://doi.org/10.1177/0003122414531776</p></li>
</ul>


</section>

 ]]></description>
  <guid>https://rcantillan.github.io/blog/posts/03-egodescriptives/index.html</guid>
  <pubDate>Wed, 09 Aug 2023 04:00:00 GMT</pubDate>
</item>
<item>
  <title>homophily</title>
  <dc:creator>Roberto Cantillan</dc:creator>
  <link>https://rcantillan.github.io/blog/posts/05_multihomophily/index.html</link>
  <description><![CDATA[ 



<div id="fig-id" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/img/Fig14_A_600.gif" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Homophily</figcaption>
</figure>
</div>
<section id="libraries" class="level2">
<h2 class="anchored" data-anchor-id="libraries">libraries</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">pacman<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">p_load</span>(</span>
<span id="cb1-2">  ergm,</span>
<span id="cb1-3">  ergm.ego,</span>
<span id="cb1-4">  car,</span>
<span id="cb1-5">  egor,</span>
<span id="cb1-6">  tidyverse,</span>
<span id="cb1-7">  tibble,</span>
<span id="cb1-8">  texreg,</span>
<span id="cb1-9">  purrr,</span>
<span id="cb1-10">  tidyr,</span>
<span id="cb1-11">  prioritizr,</span>
<span id="cb1-12">  questionr,</span>
<span id="cb1-13">  Rglpk)</span></code></pre></div>
</div>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W02_v3.00_R.RData"</span>)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W04_v2.01_R.RData"</span>)</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W01_v4.01_R.RData"</span>)</span></code></pre></div>
</div>
</section>
<section id="procesamiento" class="level2">
<h2 class="anchored" data-anchor-id="procesamiento">Procesamiento</h2>
<section id="renombrar-id" class="level3">
<h3 class="anchored" data-anchor-id="renombrar-id">Renombrar ID</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">a<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>elsoc_2017 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.egoID =</span> idencuesta)</span></code></pre></div>
</div>
</section>
<section id="crear-data-frame-alteris-para-2017a" class="level3">
<h3 class="anchored" data-anchor-id="crear-data-frame-alteris-para-2017a">Crear data frame alteris para 2017=a</h3>
<p>Creamos subset con data de cada uno de los alteris mencionados, manteniendo el ID de cada ego en el cual están anidados. Las columnas de cada uno de los subset deben tener los mismos nombres.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">columnas <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"edad"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"educ"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"relig"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ideol"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"barrio"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"relacion"</span>)</span>
<span id="cb4-2">num_alters <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb4-3"></span>
<span id="cb4-4">alter_list <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>()</span>
<span id="cb4-5"></span>
<span id="cb4-6"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>num_alters) {</span>
<span id="cb4-7">  alter_cols <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"r13_"</span>, columnas, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sprintf</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%02d"</span>, i))</span>
<span id="cb4-8">  alter <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> a <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-9">    dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(.egoID, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">all_of</span>(alter_cols)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename_with</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> columnas, alter_cols) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> i)</span>
<span id="cb4-12">  </span>
<span id="cb4-13">  alter_list[[i]] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> alter</span>
<span id="cb4-14">}</span>
<span id="cb4-15"></span>
<span id="cb4-16">alteris <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bind_rows</span>(alter_list)</span>
<span id="cb4-17">alteris<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(alteris, .egoID)</span></code></pre></div>
</div>
</section>
<section id="crear-vector-alter-id" class="level3">
<h3 class="anchored" data-anchor-id="crear-vector-alter-id">Crear vector alter id</h3>
<p>En el siguiente chunk creamos un vector identificador para cada uno de los alteris presentes en la data “alteris”. Lo identificamos como objeto <code>tibble</code> y eliminamos el vector “n”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">alteris   <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rowid_to_column</span>(alteris, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">var =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".alterID"</span>)</span>
<span id="cb5-2">alteris   <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>(alteris)</span>
<span id="cb5-3">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span></span></code></pre></div>
</div>
</section>
<section id="recod-alteris" class="level3">
<h3 class="anchored" data-anchor-id="recod-alteris">Recod alteris</h3>
<p>Recodificamos los valores de los atributos de los alteris.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># NA</span></span>
<span id="cb6-2">alteris[alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-999"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb6-3">alteris[alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-888"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb6-4"></span>
<span id="cb6-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Educación </span></span>
<span id="cb6-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#edulab&lt;-c('ltsecondary', 'secondary', 'technicaled', 'collegeed')</span></span>
<span id="cb6-7">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ ,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2:3=2;4=3;5=4"</span>))</span>
<span id="cb6-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4 
1362 3543 1042 1719 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Religión </span></span>
<span id="cb8-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#relilab&lt;-c('catholic','evangelical','other','none')</span></span>
<span id="cb8-3">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3:4=4;5=3"</span>))</span>
<span id="cb8-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4 
4907 1407  373 1379 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ideología </span></span>
<span id="cb10-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#ideolab&lt;-c('rightwinger','centerright','center','centerleft','leftwinger','none')</span></span>
<span id="cb10-3">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideol<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideol,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3=3;4=4;5=5;6=6"</span>))</span>
<span id="cb10-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideol)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4    5    6 
 786  191  382  303  759 4644 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Edad </span></span>
<span id="cb12-2">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edad<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edad)</span>
<span id="cb12-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#alteris$edad &lt;-factor(Recode(alteris$edad ,"0:18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6"))</span></span>
<span id="cb12-4"></span>
<span id="cb12-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Sexo </span></span>
<span id="cb12-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#sexolab&lt;-c('male','female')</span></span>
<span id="cb12-7">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo ,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2"</span>))</span>
<span id="cb12-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2 
3388 4678 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Relación</span></span>
<span id="cb14-2">alteris<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb14-3">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rel=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(relacion<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fam"</span>,</span>
<span id="cb14-4">                              relacion<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nofam"</span>))</span>
<span id="cb14-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relacion)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4    5 
 951 1181 2519 2577  838 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Barrio </span></span>
<span id="cb16-2">alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>barrio<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>barrio,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2"</span>))</span>
<span id="cb16-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(alteris<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>barrio)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2 
4271 3788 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#alteris&lt;-na.omit(alteris)</span></span></code></pre></div>
</div>
</section>
<section id="borrar-alteris-con-5-parámetros-con-na" class="level3">
<h3 class="anchored" data-anchor-id="borrar-alteris-con-5-parámetros-con-na">Borrar alteris con 5 parámetros con NA</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Función para borrar casos con un número determinado de NA's. </span></span>
<span id="cb19-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#delete.na &lt;- function(DF, n=0) {</span></span>
<span id="cb19-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  DF[rowSums(is.na(DF)) &lt;= n,]</span></span>
<span id="cb19-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#}</span></span>
<span id="cb19-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb19-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#alteris&lt;-delete.na(alteris, 4) #borro los casos que tienen más de 4 NA.  </span></span></code></pre></div>
</div>
</section>
<section id="data-frame-egos" class="level3">
<h3 class="anchored" data-anchor-id="data-frame-egos">Data Frame Ego’s</h3>
<p>Creamos un subset con la data de ego equivalente a la data de los alteris. Las nombramos de la misma manera.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1">egos <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>a <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb20-2">       dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(.egoID, </span>
<span id="cb20-3">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sexo=</span>m0_sexo, </span>
<span id="cb20-4">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">edad=</span>m0_edad, </span>
<span id="cb20-5">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">educ=</span>m01, </span>
<span id="cb20-6">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">relig=</span>m38, </span>
<span id="cb20-7">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ideol=</span>c15,</span>
<span id="cb20-8">                     ponderador02,</span>
<span id="cb20-9">                     estrato,</span>
<span id="cb20-10">                     segmento)</span>
<span id="cb20-11"></span>
<span id="cb20-12">egos <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>(egos)</span></code></pre></div>
</div>
</section>
<section id="recod-data-egos" class="level3">
<h3 class="anchored" data-anchor-id="recod-data-egos">Recod data Ego’s</h3>
<p>Recodificamos las variables de la data de ego siguiendo el patrón de la data de alteris.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># NA</span></span>
<span id="cb21-2">egos[egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-999"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb21-3">egos[egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-888"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb21-4"></span>
<span id="cb21-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Educación</span></span>
<span id="cb21-6">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1:3=1;4:5=2;6:7=3;8:10=4"</span>))</span>
<span id="cb21-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>educ)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4 
 597 1045  402  429 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Religión</span></span>
<span id="cb23-2">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2;3:6=3;7:9=4"</span>))</span>
<span id="cb23-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>relig)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4 
1383  499  276  308 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ideología</span></span>
<span id="cb25-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#ideolab2&lt;-c('leftwinger','centerleft','center','centerright','rightwinger','none')</span></span>
<span id="cb25-3">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideol<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideol,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0:2=5;3:4=4;5=3;6:7=2;8:10=1;11:12=6"</span>))</span>
<span id="cb25-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ideol)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4    5    6 
 252  149  470  209  282 1080 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Edad</span></span>
<span id="cb27-2">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edad<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>edad)</span>
<span id="cb27-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#egos$edad &lt;-factor(Recode(egos$edad,"18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6"))</span></span>
<span id="cb27-4"></span>
<span id="cb27-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Sexo</span></span>
<span id="cb27-6">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;2=2"</span>))</span>
<span id="cb27-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sexo)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2 
 951 1522 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Barrio</span></span>
<span id="cb29-2">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>barrio <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matrix</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbinom</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2473</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>),<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2473</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Criterio minimalista</span></span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in matrix(rbinom(2473 * 5, 1, 0.6), 2473, 1): data length differs from
size of matrix: [12365 != 2473 x 1]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1">egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>barrio<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Recode</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>barrio,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1=1;0=2"</span>))</span>
<span id="cb31-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>(egos<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>barrio)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2 
1519  954 </code></pre>
</div>
</div>
</section>
<section id="crear-objeto-egor-requerido-para-trabajar-con-función-ergm.ego" class="level3">
<h3 class="anchored" data-anchor-id="crear-objeto-egor-requerido-para-trabajar-con-función-ergm.ego">Crear objeto Egor (requerido para trabajar con función <code>ergm.ego</code>)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definir diseño complejo</span></span>
<span id="cb33-2">elsoc_ego <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">egor</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alters =</span> alteris, </span>
<span id="cb33-3">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">egos =</span> egos,</span>
<span id="cb33-4">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter_design =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>),</span>
<span id="cb33-5">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ID.vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(</span>
<span id="cb33-6">                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ego =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".egoID"</span>,</span>
<span id="cb33-7">                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alter =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".alterID"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.egor</span>()</span>
<span id="cb33-8"></span>
<span id="cb33-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ego_design</span>(elsoc_ego) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ponderador02"</span>,</span>
<span id="cb33-10">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">strata =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"estrato"</span>,</span>
<span id="cb33-11">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cluster=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"segmento"</span>) </span>
<span id="cb33-12"></span>
<span id="cb33-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># eliminar atributos de diseño</span></span>
<span id="cb33-14">elsoc_ego[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ego"</span>]][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"variables"</span>]][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ponderador02"</span>]]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span></span>
<span id="cb33-15">elsoc_ego[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ego"</span>]][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"variables"</span>]][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"estrato"</span>]]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span></span>
<span id="cb33-16">elsoc_ego[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ego"</span>]][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"variables"</span>]][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"segmento"</span>]]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span></span>
<span id="cb33-17"></span>
<span id="cb33-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># drop NA</span></span>
<span id="cb33-19">variables <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"educ"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"relig"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ideol"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"barrio"</span>)</span>
<span id="cb33-20"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> (variable <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> variables) {</span>
<span id="cb33-21">  elsoc_ego[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ego"</span>]] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> elsoc_ego[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ego"</span>]] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>({{ variable }})</span>
<span id="cb33-22">  elsoc_ego[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"alter"</span>]] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> elsoc_ego[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"alter"</span>]] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">drop_na</span>({{ variable }})</span>
<span id="cb33-23">}</span>
<span id="cb33-24"></span>
<span id="cb33-25"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>(elsoc_ego<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,849 × 10
   .altID .egoID  sexo   edad educ  relig ideol barrio relacion rel  
   &lt;chr&gt;  &lt;chr&gt;   &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;     &lt;dbl&gt; &lt;chr&gt;
 1 1      1101011 1        77 2     1     5     1             1 fam  
 2 6      1101012 1        60 2     1     6     1             1 fam  
 3 11     1101013 2        54 1     1     6     1             3 fam  
 4 12     1101013 2        33 2     1     6     1             3 fam  
 5 16     1101021 1        55 2     1     6     1             4 nofam
 6 21     1101022 2        44 4     4     6     1             2 fam  
 7 26     1101023 1        40 2     1     6     1             3 fam  
 8 31     1101032 2        31 4     1     6     1             2 fam  
 9 32     1101032 1        57 2     1     5     1             1 fam  
10 36     1101033 1        37 2     1     2     1             1 fam  
# ℹ 6,839 more rows</code></pre>
</div>
</div>
</section>
<section id="degree-distribution" class="level3">
<h3 class="anchored" data-anchor-id="degree-distribution">Degree distribution</h3>
<section id="educación" class="level4">
<h4 class="anchored" data-anchor-id="educación">Educación</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">degreedist</span>(elsoc_ego, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"educ"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob=</span>T, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot =</span> T, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="sexo" class="level4">
<h4 class="anchored" data-anchor-id="sexo">Sexo</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">degreedist</span>(elsoc_ego, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob=</span>T, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot =</span> T, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="modelos" class="level2">
<h2 class="anchored" data-anchor-id="modelos">Modelos</h2>
<p><code>nodefactor</code> = controla el grado de los diferentes grupos (ajustando las estimaciones de homofilia por el hecho de que algunos grupos, por ejemplo, los hombres, tienen más vínculos que otros grupos, como las mujeres).</p>
<p>El paquete “ergm” proporciona no sólo estadísticas resumidas sino también valores-p.&nbsp;Sin embargo, como indica Kolaczyk y Csárdi (2020), la justificación teórica para las distribuciones asintóticas chi-cuadrado y F utilizadas por <code>ergm</code> para calcular estos valores no se ha establecido hasta la fecha. Por lo tanto, puede ser pertinente interpretar estos valores de manera informal, como estadísticas resumidas adicionales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set # replicates</span></span>
<span id="cb37-2">reps <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb37-3"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set ppop size and construction</span></span>
<span id="cb37-4">ppop <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15000</span></span>
<span id="cb37-5">ppopwt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'round'</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Round gives consistent netsize/composition</span></span>
<span id="cb37-6">constraint.formula <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bd</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">maxout =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># constraint por grado máximo para cada ego. </span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(elsoc_ego<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ego))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cluster"    "strata"     "has.strata" "prob"       "allprob"   
[6] "call"       "variables"  "fpc"        "pps"       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb40" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(elsoc_ego<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>alter))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] ".altID"   ".egoID"   "sexo"     "edad"     "educ"     "relig"   
 [7] "ideol"    "barrio"   "relacion" "rel"     </code></pre>
</div>
</div>
<section id="modelo-1" class="level3">
<h3 class="anchored" data-anchor-id="modelo-1">Modelo 1</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb42" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1">modelo1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ergm.ego</span>(elsoc_ego <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span></span>
<span id="cb42-2">                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#edges + </span></span>
<span id="cb42-3">                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#degree(1:5) +</span></span>
<span id="cb42-4">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nodefactor</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-5">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nodefactor</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"educ"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-6">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nodefactor</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ideol"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-7">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nodefactor</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"relig"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-8">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nodematch</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sexo"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">diff=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-9">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nodematch</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"educ"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">diff=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-10">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nodematch</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ideol"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">diff=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-11">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nodematch</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"relig"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">diff=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-12">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">absdiff</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"edad"</span>),</span>
<span id="cb42-13">                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># constraints = constraint.formula,</span></span>
<span id="cb42-14">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">control=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">control.ergm.ego</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ppopsize=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5000</span>,</span>
<span id="cb42-15">                                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ppop.wt=</span>ppopwt,</span>
<span id="cb42-16">                                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stats.wt=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data"</span>,</span>
<span id="cb42-17">                                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stats.est=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"survey"</span>),</span>
<span id="cb42-18">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ergm =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">control.ergm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">init.method =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MPLE"</span>,</span>
<span id="cb42-19">                                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.burnin =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2e4</span>,</span>
<span id="cb42-20">                                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.interval =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1e4</span>,</span>
<span id="cb42-21">                                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.samplesize =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5000</span>,</span>
<span id="cb42-22">                                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">parallel =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">16</span>,</span>
<span id="cb42-23">                                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">SAN.nsteps =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1e6</span>,</span>
<span id="cb42-24">                                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMLE.maxit =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>,</span>
<span id="cb42-25">                                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">seed =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">123</span>),</span>
<span id="cb42-26">                )</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Constructing pseudopopulation network.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Note: Constructed network has size 4912, different from requested 5000. Estimation should not be meaningfully affected.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Unable to match target stats. Using MCMLE estimation.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Starting maximum pseudolikelihood estimation (MPLE):</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Obtaining the responsible dyads.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Evaluating the predictor and response matrix.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Maximizing the pseudolikelihood.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Finished MPLE.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Starting Monte Carlo maximum likelihood estimation (MCMLE):</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 1 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 0.5876.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 2.3688.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 2 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 1.4469.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 3 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 0.1007.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 4 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 0.1053.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 5 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 0.2753.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 6 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 0.1875.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 7 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 0.1668.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 8 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 0.1718.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations did not move closer to tolerance region more than 1 time(s) in 4 steps; increasing sample size.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 9 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 0.7877.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 10 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 1.1533.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations are not within tolerance region.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Estimating equations did not move closer to tolerance region more than 1 time(s) in 4 steps; increasing sample size.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Iteration 11 of at most 60:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Optimizing with step length 1.0000.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The log-likelihood improved by 0.0611.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Convergence test p-value: 0.4810. Not converged with 99% confidence; increasing sample size.
Iteration 12 of at most 60:
Optimizing with step length 1.0000.
The log-likelihood improved by 0.0263.
Convergence test p-value: 0.0349. Not converged with 99% confidence; increasing sample size.
Iteration 13 of at most 60:
Optimizing with step length 1.0000.
The log-likelihood improved by 0.0339.
Convergence test p-value: 0.6328. Not converged with 99% confidence; increasing sample size.
Iteration 14 of at most 60:
Optimizing with step length 1.0000.
The log-likelihood improved by 0.0594.
Convergence test p-value: 0.0958. Not converged with 99% confidence; increasing sample size.
Iteration 15 of at most 60:
Optimizing with step length 1.0000.
The log-likelihood improved by 0.0621.
Convergence test p-value: 0.1215. Not converged with 99% confidence; increasing sample size.
Iteration 16 of at most 60:
Optimizing with step length 1.0000.
The log-likelihood improved by 0.0380.
Convergence test p-value: 0.0064. Converged with 99% confidence.
Finished MCMLE.
This model was fit using MCMC.  To examine model diagnostics and check
for degeneracy, use the mcmc.diagnostics() function.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Argument(s) 'ergm' were not recognized or used. Did you mistype an
argument name?</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#?control.ergm.ego</span></span>
<span id="cb99-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#??ignore.max.alters</span></span></code></pre></div>
</div>
</section>
<section id="summary" class="level3">
<h3 class="anchored" data-anchor-id="summary">Summary</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb100" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(modelo1)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
ergm.ego(formula = elsoc_ego ~ nodefactor("sexo", levels = -2) + 
    nodefactor("educ") + nodefactor("ideol") + nodefactor("relig") + 
    nodematch("sexo", diff = TRUE) + nodematch("educ", diff = TRUE) + 
    nodematch("ideol", diff = TRUE) + nodematch("relig", diff = TRUE) + 
    absdiff("edad"), control = control.ergm.ego(ppopsize = 5000, 
    ppop.wt = ppopwt, stats.wt = "data", stats.est = "survey"), 
    ergm = control.ergm(init.method = "MPLE", MCMC.burnin = 20000, 
        MCMC.interval = 10000, MCMC.samplesize = 5000, parallel = 16, 
        SAN.nsteps = 1e+06, MCMLE.maxit = 20, seed = 123))

Monte Carlo Maximum Likelihood Results:

                     Estimate Std. Error MCMC % z value Pr(&gt;|z|)    
offset(netsize.adj) -8.499436   0.000000      0    -Inf  &lt; 1e-04 ***
nodefactor.sexo.1   -0.287714   0.237074      0  -1.214 0.224899    
nodefactor.educ.2    0.304197   0.075718      0   4.017  &lt; 1e-04 ***
nodefactor.educ.3    0.268660   0.096341      0   2.789 0.005293 ** 
nodefactor.educ.4    0.065879   0.099476      0   0.662 0.507801    
nodefactor.ideol.2  -0.074296   0.128869      0  -0.577 0.564258    
nodefactor.ideol.3  -0.100978   0.115700      0  -0.873 0.382796    
nodefactor.ideol.4   0.126159   0.133357      0   0.946 0.344135    
nodefactor.ideol.5   0.015254   0.117220      0   0.130 0.896462    
nodefactor.ideol.6   0.277323   0.111310      0   2.491 0.012723 *  
nodefactor.relig.2  -0.472340   0.116628      0  -4.050  &lt; 1e-04 ***
nodefactor.relig.3   0.027592   0.129759      0   0.213 0.831606    
nodefactor.relig.4   0.268321   0.105711      0   2.538 0.011141 *  
nodematch.sexo.1     0.661834   0.236356      0   2.800 0.005108 ** 
nodematch.sexo.2     0.208714   0.243799      0   0.856 0.391947    
nodematch.educ.1     0.836741   0.120114      0   6.966  &lt; 1e-04 ***
nodematch.educ.2     0.374631   0.106751      0   3.509 0.000449 ***
nodematch.educ.3     0.695801   0.133468      0   5.213  &lt; 1e-04 ***
nodematch.educ.4     1.649832   0.139654      0  11.814  &lt; 1e-04 ***
nodematch.ideol.1    1.697195   0.204372      0   8.304  &lt; 1e-04 ***
nodematch.ideol.2    1.081687   0.327808      0   3.300 0.000968 ***
nodematch.ideol.3   -0.001287   0.234051      0  -0.005 0.995614    
nodematch.ideol.4    0.304884   0.277475      0   1.099 0.271864    
nodematch.ideol.5    1.542141   0.198842      0   7.756  &lt; 1e-04 ***
nodematch.ideol.6    0.576506   0.125686      0   4.587  &lt; 1e-04 ***
nodematch.relig.1    0.869884   0.134594      0   6.463  &lt; 1e-04 ***
nodematch.relig.2    2.402625   0.164414      0  14.613  &lt; 1e-04 ***
nodematch.relig.3    0.783628   0.255982      0   3.061 0.002204 ** 
nodematch.relig.4    0.712308   0.162110      0   4.394  &lt; 1e-04 ***
absdiff.edad        -0.029507   0.002118      0 -13.933  &lt; 1e-04 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1


 The following terms are fixed by offset and are not estimated:
  offset(netsize.adj) </code></pre>
</div>
</div>
<p>Para interpretar los coeficientes, es útil pensar en términos de la probabilidad de que un par dado de nodos tenga un vínculo, condicionada al estado del nodo entre todos los demás pares. Para el término de homofilia de género (segundo orden) en el modelo anterio: El empate entre dos nodos mujeres, casi cuatriplica las probabilidades (odds) de tener un vínculo en la red observada (por su puesto, manteniendo todo lo demás igual).</p>
<p>Vale indicar también que para todas las variables el coeficiente difiere de cero en al menos un error estándar, lo que sugiere algún efecto no trivial de estas variables en la formación de vínculos en la red.</p>
</section>
<section id="bondad-de-ajuste" class="level3">
<h3 class="anchored" data-anchor-id="bondad-de-ajuste">Bondad de ajuste</h3>
<p>La práctica actual para evaluar la bondad de ajuste en modelos ERGM es simular primero numerosos gráficos aleatorios del modelo ajustado y luego comparar varios resúmenes de estos gráficos con los del gráfico observado originalmente. Si las características de los grafos de red observados no coinciden con los valores típicos que surgen de las realizaciones del modelo de gráfico aleatorio ajustado, esto sugiere diferencias sistemáticas entre la clase especificada de modelos y los datos y, por lo tanto, una falta de bondad.</p>
<p>En general, al evaluar la bondad de ajuste en el modelado de redes, los resúmenes de uso común incluyen la distribución de cualquier número de los diversos resúmenes de la estructura de la red: como el grado, la centralidad y la distancia geodésica. Con los ERGMs, sin embargo, una elección natural de resumen son las propias estadísticas <img src="https://latex.codecogs.com/png.latex?g"> que definen el ERGM (es decir, las llamadas estadísticas suficientes). Para evaluar la bondad de ajuste de nuestro modelo anterior de homofilia, la función <code>ergm</code> ejecuta las simulaciones de Monte Carlo necesarias y calcula las comparaciones con la red original en términos de las distribuciones de cada uno de los estadísticos en el modelo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gof</span>(modelo1))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Considerando las características particulares capturadas por las estadísticas, el ajuste del modelo es bastante bueno en general, toda vez que las estadísticas observadas están bastante cerca de la mediana de los valores simulados en la mayoría de los casos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gof</span>(modelo1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">GOF=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"degree"</span>))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="mcmc" class="level3">
<h3 class="anchored" data-anchor-id="mcmc">MCMC</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb104" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mcmc.diagnostics</span>(modelo1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">which =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plots"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-6.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-7.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-8.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-9.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-19-10.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Note: To save space, only one in every 2 iterations of the MCMC sample
  used for estimation was stored for diagnostics. Sample size per chain
  was originally around 5698 with thinning interval 16384.

Note: MCMC diagnostics shown here are from the last round of
  simulation, prior to computation of final parameter estimates.
  Because the final estimates are refinements of those used for this
  simulation run, these diagnostics may understate model performance.
  To directly assess the performance of the final model on in-model
  statistics, please use the GOF command: gof(ergmFitObject,
  GOF=~model).</code></pre>
</div>
</div>
</section>
<section id="simulate" class="level3">
<h3 class="anchored" data-anchor-id="simulate">simulate</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb106" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1">sim.modelo1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">simulate</span>(modelo1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">popsize=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span>,</span>
<span id="cb106-2">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">control=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">control.simulate.ergm.ego</span>(</span>
<span id="cb106-3">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">simulate=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">control.simulate.formula</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MCMC.burnin=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2e6</span>)))</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Note: Constructed network has size 244 different from requested 500. Simulated statistics may need to be rescaled.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb108" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(sim.modelo1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vertex.col=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"educ"</span>)</span>
<span id="cb108-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">legend</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'bottomleft'</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Eduación'</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cex=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.75</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://rcantillan.github.io/blog/posts/05_multihomophily/index_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="tidy" class="level3">
<h3 class="anchored" data-anchor-id="tidy">Tidy</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb109" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1">broom<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tidy</span>(modelo1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">exponentiate =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">conf.int =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">conf.level =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.99</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in tidy.ergm(modelo1, exponentiate = TRUE, conf.int = TRUE, conf.level
= 0.99): Exponentiating but model didn't use log or logit link.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 8
   term       estimate std.error mcmc.error statistic p.value conf.low conf.high
   &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
 1 offset(ne… 0.000204    0               0  -Inf     0       0.000204  0.000204
 2 nodefacto… 0.750       0.237           0    -1.21  2.25e-1 0.407     1.38    
 3 nodefacto… 1.36        0.0757          0     4.02  5.88e-5 1.12      1.65    
 4 nodefacto… 1.31        0.0963          0     2.79  5.29e-3 1.02      1.68    
 5 nodefacto… 1.07        0.0995          0     0.662 5.08e-1 0.827     1.38    
 6 nodefacto… 0.928       0.129           0    -0.577 5.64e-1 0.666     1.29    
 7 nodefacto… 0.904       0.116           0    -0.873 3.83e-1 0.671     1.22    
 8 nodefacto… 1.13        0.133           0     0.946 3.44e-1 0.805     1.60    
 9 nodefacto… 1.02        0.117           0     0.130 8.96e-1 0.751     1.37    
10 nodefacto… 1.32        0.111           0     2.49  1.27e-2 0.991     1.76    
# ℹ 20 more rows</code></pre>
</div>
</div>
</section>
<section id="predict" class="level3">
<h3 class="anchored" data-anchor-id="predict">Predict</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb112" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#predict(modelo1, type = "response")</span></span></code></pre></div>
</div>


</section>
</section>

 ]]></description>
  <category>R</category>
  <category>Networks</category>
  <category>Ego networks</category>
  <category>ERGM ego</category>
  <category>Homophily</category>
  <guid>https://rcantillan.github.io/blog/posts/05_multihomophily/index.html</guid>
  <pubDate>Wed, 26 Oct 2022 03:00:00 GMT</pubDate>
</item>
</channel>
</rss>
