[
  {
    "objectID": "blog/posts/02-multihomophily/index.html",
    "href": "blog/posts/02-multihomophily/index.html",
    "title": "homophily",
    "section": "",
    "text": "Figure 1: Homophily"
  },
  {
    "objectID": "blog/posts/02-multihomophily/index.html#libraries",
    "href": "blog/posts/02-multihomophily/index.html#libraries",
    "title": "homophily",
    "section": "libraries",
    "text": "libraries\n\npacman::p_load(\n  ergm,\n  ergm.ego,\n  car,\n  egor,\n  tidyverse,\n  tibble,\n  texreg,\n  purrr,\n  tidyr,\n  prioritizr,\n  questionr,\n  Rglpk)"
  },
  {
    "objectID": "blog/posts/02-multihomophily/index.html#data",
    "href": "blog/posts/02-multihomophily/index.html#data",
    "title": "homophily",
    "section": "data",
    "text": "data\n\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W02_v3.00_R.RData\")\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W04_v2.01_R.RData\")\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W01_v4.01_R.RData\")"
  },
  {
    "objectID": "blog/posts/02-multihomophily/index.html#procesamiento",
    "href": "blog/posts/02-multihomophily/index.html#procesamiento",
    "title": "homophily",
    "section": "Procesamiento",
    "text": "Procesamiento\n\nRenombrar ID\n\na&lt;-elsoc_2017 %&gt;% dplyr::rename(.egoID = idencuesta)\n\n\n\nCrear data frame alteris para 2017=a\nCreamos subset con data de cada uno de los alteris mencionados, manteniendo el ID de cada ego en el cual están anidados. Las columnas de cada uno de los subset deben tener los mismos nombres.\n\ncolumnas &lt;- c(\"sexo\", \"edad\", \"educ\", \"relig\", \"ideol\", \"barrio\", \"relacion\")\nnum_alters &lt;- 5\n\nalter_list &lt;- list()\n\nfor (i in 1:num_alters) {\n  alter_cols &lt;- paste0(\"r13_\", columnas, \"_\", sprintf(\"%02d\", i))\n  alter &lt;- a %&gt;%\n    dplyr::select(.egoID, all_of(alter_cols)) %&gt;%\n    rename_with(~ columnas, alter_cols) %&gt;%\n    mutate(n = i)\n  \n  alter_list[[i]] &lt;- alter\n}\n\nalteris &lt;- bind_rows(alter_list)\nalteris&lt;-arrange(alteris, .egoID)\n\n\n\nCrear vector alter id\nEn el siguiente chunk creamos un vector identificador para cada uno de los alteris presentes en la data “alteris”. Lo identificamos como objeto tibble y eliminamos el vector “n”.\n\nalteris   &lt;- rowid_to_column(alteris, var = \".alterID\")\nalteris   &lt;- as_tibble(alteris)\nalteris$n &lt;- NULL\n\n\n\nRecod alteris\nRecodificamos los valores de los atributos de los alteris.\n\n# NA\nalteris[alteris==\"-999\"]&lt;-NA\nalteris[alteris==\"-888\"]&lt;-NA\n\n# Educación \n#edulab&lt;-c('ltsecondary', 'secondary', 'technicaled', 'collegeed')\nalteris$educ &lt;-factor(Recode(alteris$educ ,\"1=1;2:3=2;4=3;5=4\"))\ntable(alteris$educ)\n\n\n   1    2    3    4 \n1362 3543 1042 1719 \n\n# Religión \n#relilab&lt;-c('catholic','evangelical','other','none')\nalteris$relig&lt;-factor(Recode(alteris$relig,\"1=1;2=2;3:4=4;5=3\"))\ntable(alteris$relig)\n\n\n   1    2    3    4 \n4907 1407  373 1379 \n\n# Ideología \n#ideolab&lt;-c('rightwinger','centerright','center','centerleft','leftwinger','none')\nalteris$ideol&lt;-factor(Recode(alteris$ideol,\"1=1;2=2;3=3;4=4;5=5;6=6\"))\ntable(alteris$ideol)\n\n\n   1    2    3    4    5    6 \n 786  191  382  303  759 4644 \n\n# Edad \nalteris$edad&lt;-as.numeric(alteris$edad)\n#alteris$edad &lt;-factor(Recode(alteris$edad ,\"0:18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6\"))\n\n# Sexo \n#sexolab&lt;-c('male','female')\nalteris$sexo &lt;-factor(Recode(alteris$sexo ,\"1=1;2=2\"))\ntable(alteris$sexo)\n\n\n   1    2 \n3388 4678 \n\n# Relación\nalteris&lt;-alteris%&gt;%\n  dplyr::mutate(rel=case_when(relacion%in%1:3~\"fam\",\n                              relacion%in%4:5~\"nofam\"))\ntable(alteris$relacion)\n\n\n   1    2    3    4    5 \n 951 1181 2519 2577  838 \n\n# Barrio \nalteris$barrio&lt;-factor(Recode(alteris$barrio,\"1=1;2=2\"))\ntable(alteris$barrio)\n\n\n   1    2 \n4271 3788 \n\n#alteris&lt;-na.omit(alteris)\n\n\n\nBorrar alteris con 5 parámetros con NA\n\n# Función para borrar casos con un número determinado de NA's. \n#delete.na &lt;- function(DF, n=0) {\n#  DF[rowSums(is.na(DF)) &lt;= n,]\n#}\n#\n#alteris&lt;-delete.na(alteris, 4) #borro los casos que tienen más de 4 NA.  \n\n\n\nData Frame Ego’s\nCreamos un subset con la data de ego equivalente a la data de los alteris. Las nombramos de la misma manera.\n\negos &lt;-a %&gt;%\n       dplyr::select(.egoID, \n                     sexo=m0_sexo, \n                     edad=m0_edad, \n                     educ=m01, \n                     relig=m38, \n                     ideol=c15,\n                     ponderador02,\n                     estrato,\n                     segmento)\n\negos &lt;- as_tibble(egos)\n\n\n\nRecod data Ego’s\nRecodificamos las variables de la data de ego siguiendo el patrón de la data de alteris.\n\n# NA\negos[egos==\"-999\"]&lt;-NA\negos[egos==\"-888\"]&lt;-NA\n\n# Educación\negos$educ &lt;-factor(Recode(egos$educ,\"1:3=1;4:5=2;6:7=3;8:10=4\"))\ntable(egos$educ)\n\n\n   1    2    3    4 \n 597 1045  402  429 \n\n# Religión\negos$relig&lt;-factor(Recode(egos$relig,\"1=1;2=2;3:6=3;7:9=4\"))\ntable(egos$relig)\n\n\n   1    2    3    4 \n1383  499  276  308 \n\n# Ideología\n#ideolab2&lt;-c('leftwinger','centerleft','center','centerright','rightwinger','none')\negos$ideol&lt;-factor(Recode(egos$ideol,\"0:2=5;3:4=4;5=3;6:7=2;8:10=1;11:12=6\"))\ntable(egos$ideol)\n\n\n   1    2    3    4    5    6 \n 252  149  470  209  282 1080 \n\n# Edad\negos$edad&lt;-as.numeric(egos$edad)\n#egos$edad &lt;-factor(Recode(egos$edad,\"18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6\"))\n\n# Sexo\negos$sexo &lt;-factor(Recode(egos$sexo,\"1=1;2=2\"))\ntable(egos$sexo)\n\n\n   1    2 \n 951 1522 \n\n# Barrio\negos$barrio &lt;- matrix(rbinom(2473*5,1,0.6),2473,1) # Criterio minimalista\n\nWarning in matrix(rbinom(2473 * 5, 1, 0.6), 2473, 1): data length differs from\nsize of matrix: [12365 != 2473 x 1]\n\negos$barrio&lt;-factor(Recode(egos$barrio,\"1=1;0=2\"))\ntable(egos$barrio)\n\n\n   1    2 \n1502  971 \n\n\n\n\nCrear objeto Egor (requerido para trabajar con función ergm.ego)\n\n# definir diseño complejo\nelsoc_ego &lt;- egor(alters = alteris, \n                  egos = egos,\n                  alter_design = list(max = 5),\n                  ID.vars = list(\n                    ego = \".egoID\",\n                    alter = \".alterID\")) %&gt;% as.egor()\n\nego_design(elsoc_ego) &lt;- list(weight = \"ponderador02\",\n                              strata = \"estrato\",\n                              cluster=\"segmento\") \n\n# eliminar atributos de diseño\nelsoc_ego[[\"ego\"]][[\"variables\"]][[\"ponderador02\"]]&lt;-NULL\nelsoc_ego[[\"ego\"]][[\"variables\"]][[\"estrato\"]]&lt;-NULL\nelsoc_ego[[\"ego\"]][[\"variables\"]][[\"segmento\"]]&lt;-NULL\n\n# drop NA\nvariables &lt;- c(\"sexo\", \"educ\", \"relig\", \"ideol\", \"barrio\")\nfor (variable in variables) {\n  elsoc_ego[[\"ego\"]] &lt;- elsoc_ego[[\"ego\"]] %&gt;% drop_na({{ variable }})\n  elsoc_ego[[\"alter\"]] &lt;- elsoc_ego[[\"alter\"]] %&gt;% drop_na({{ variable }})\n}\n\nas_tibble(elsoc_ego$alter)\n\n# A tibble: 6,849 × 10\n   .altID .egoID  sexo   edad educ  relig ideol barrio relacion rel  \n   &lt;chr&gt;  &lt;chr&gt;   &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;     &lt;dbl&gt; &lt;chr&gt;\n 1 1      1101011 1        77 2     1     5     1             1 fam  \n 2 6      1101012 1        60 2     1     6     1             1 fam  \n 3 11     1101013 2        54 1     1     6     1             3 fam  \n 4 12     1101013 2        33 2     1     6     1             3 fam  \n 5 16     1101021 1        55 2     1     6     1             4 nofam\n 6 21     1101022 2        44 4     4     6     1             2 fam  \n 7 26     1101023 1        40 2     1     6     1             3 fam  \n 8 31     1101032 2        31 4     1     6     1             2 fam  \n 9 32     1101032 1        57 2     1     5     1             1 fam  \n10 36     1101033 1        37 2     1     2     1             1 fam  \n# ℹ 6,839 more rows\n\n\n\n\nDegree distribution\n\nEducación\n\ndegreedist(elsoc_ego, by=\"educ\", prob=T, plot = T, weight=TRUE)\n\n\n\n\n\n\nSexo\n\ndegreedist(elsoc_ego, by=\"sexo\", prob=T, plot = T, weight=TRUE)"
  },
  {
    "objectID": "blog/posts/02-multihomophily/index.html#modelos",
    "href": "blog/posts/02-multihomophily/index.html#modelos",
    "title": "homophily",
    "section": "Modelos",
    "text": "Modelos\nnodefactor = controla el grado de los diferentes grupos (ajustando las estimaciones de homofilia por el hecho de que algunos grupos, por ejemplo, los hombres, tienen más vínculos que otros grupos, como las mujeres).\nEl paquete “ergm” proporciona no sólo estadísticas resumidas sino también valores-p. Sin embargo, como indica Kolaczyk y Csárdi (2020), la justificación teórica para las distribuciones asintóticas chi-cuadrado y F utilizadas por ergm para calcular estos valores no se ha establecido hasta la fecha. Por lo tanto, puede ser pertinente interpretar estos valores de manera informal, como estadísticas resumidas adicionales.\n\n## Set # replicates\nreps = 1\n## Set ppop size and construction\nppop = 15000\nppopwt = 'round' # Round gives consistent netsize/composition\nconstraint.formula &lt;- (~ bd(maxout = 5)) # constraint por grado máximo para cada ego. \n\n\nprint(names(elsoc_ego$ego))\n\n[1] \"cluster\"    \"strata\"     \"has.strata\" \"prob\"       \"allprob\"   \n[6] \"call\"       \"variables\"  \"fpc\"        \"pps\"       \n\nprint(names(elsoc_ego$alter))\n\n [1] \".altID\"   \".egoID\"   \"sexo\"     \"edad\"     \"educ\"     \"relig\"   \n [7] \"ideol\"    \"barrio\"   \"relacion\" \"rel\"     \n\n\n\nModelo 1\n\nmodelo1 &lt;- ergm.ego(elsoc_ego ~\n                    #edges + \n                    #degree(1:5) +\n                    nodefactor(\"sexo\", levels = -2) +\n                    nodefactor(\"educ\") +\n                    nodefactor(\"ideol\") +\n                    nodefactor(\"relig\") +\n                    nodematch(\"sexo\", diff=TRUE) +\n                    nodematch(\"educ\", diff=TRUE) +\n                    nodematch(\"ideol\", diff=TRUE)+\n                    nodematch(\"relig\", diff=TRUE)+\n                    absdiff(\"edad\"),\n                # constraints = constraint.formula,\n                 control=control.ergm.ego(ppopsize=5000,\n                                         ppop.wt=ppopwt,\n                                         stats.wt=\"data\",\n                                         stats.est=\"survey\"),\n                   ergm = control.ergm(init.method = \"MPLE\",\n                                       MCMC.burnin = 2e4,\n                                       MCMC.interval = 1e4,\n                                       MCMC.samplesize = 5000,\n                                       parallel = 16,\n                                       SAN.nsteps = 1e6,\n                                       MCMLE.maxit = 20,\n                                       seed = 123),\n                )\n\nConstructing pseudopopulation network.\n\n\nNote: Constructed network has size 4912, different from requested 5000. Estimation should not be meaningfully affected.\n\n\nUnable to match target stats. Using MCMLE estimation.\n\n\nStarting maximum pseudolikelihood estimation (MPLE):\n\n\nObtaining the responsible dyads.\n\n\nEvaluating the predictor and response matrix.\n\n\nWarning in mple.existence(pl): The MPLE does not exist!\n\n\nMaximizing the pseudolikelihood.\n\n\nFinished MPLE.\n\n\nStarting Monte Carlo maximum likelihood estimation (MCMLE):\n\n\nIteration 1 of at most 60:\n\n\nOptimizing with step length 0.5136.\n\n\nThe log-likelihood improved by 2.1922.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 2 of at most 60:\n\n\nOptimizing with step length 0.9266.\n\n\nThe log-likelihood improved by 2.1115.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 3 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.2823.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 4 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.3020.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 5 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.4138.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 6 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.5471.\n\n\nEstimating equations are not within tolerance region.\n\n\nEstimating equations did not move closer to tolerance region more than 1 time(s) in 4 steps; increasing sample size.\n\n\nIteration 7 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.1795.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 8 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.1830.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 9 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.1391.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 10 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.1100.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 11 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.0854.\n\n\nConvergence test p-value: 0.9994. Not converged with 99% confidence; increasing sample size.\nIteration 12 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.2347.\nEstimating equations are not within tolerance region.\nIteration 13 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.4171.\nEstimating equations are not within tolerance region.\nEstimating equations did not move closer to tolerance region more than 1 time(s) in 4 steps; increasing sample size.\nIteration 14 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.2549.\nEstimating equations are not within tolerance region.\nIteration 15 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.0495.\nConvergence test p-value: 0.7603. Not converged with 99% confidence; increasing sample size.\nIteration 16 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.0759.\nConvergence test p-value: 0.2538. Not converged with 99% confidence; increasing sample size.\nIteration 17 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.0312.\nConvergence test p-value: 0.0215. Not converged with 99% confidence; increasing sample size.\nIteration 18 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.0219.\nConvergence test p-value: 0.0048. Converged with 99% confidence.\nFinished MCMLE.\nThis model was fit using MCMC.  To examine model diagnostics and check\nfor degeneracy, use the mcmc.diagnostics() function.\n\n\nWarning: Argument(s) 'ergm' were not recognized or used. Did you mistype an\nargument name?\n\n#?control.ergm.ego\n#??ignore.max.alters\n\n\n\nSummary\n\nsummary(modelo1)\n\nCall:\nergm.ego(formula = elsoc_ego ~ nodefactor(\"sexo\", levels = -2) + \n    nodefactor(\"educ\") + nodefactor(\"ideol\") + nodefactor(\"relig\") + \n    nodematch(\"sexo\", diff = TRUE) + nodematch(\"educ\", diff = TRUE) + \n    nodematch(\"ideol\", diff = TRUE) + nodematch(\"relig\", diff = TRUE) + \n    absdiff(\"edad\"), control = control.ergm.ego(ppopsize = 5000, \n    ppop.wt = ppopwt, stats.wt = \"data\", stats.est = \"survey\"), \n    ergm = control.ergm(init.method = \"MPLE\", MCMC.burnin = 20000, \n        MCMC.interval = 10000, MCMC.samplesize = 5000, parallel = 16, \n        SAN.nsteps = 1e+06, MCMLE.maxit = 20, seed = 123))\n\nMonte Carlo Maximum Likelihood Results:\n\n                      Estimate Std. Error MCMC % z value Pr(&gt;|z|)    \noffset(netsize.adj) -8.499e+00  0.000e+00      0    -Inf  &lt; 1e-04 ***\nnodefactor.sexo.1   -2.894e-01  2.279e-01      0  -1.270 0.204191    \nnodefactor.educ.2    3.075e-01  7.893e-02      0   3.897  &lt; 1e-04 ***\nnodefactor.educ.3    2.708e-01  9.643e-02      0   2.809 0.004975 ** \nnodefactor.educ.4    6.797e-02  9.941e-02      0   0.684 0.494155    \nnodefactor.ideol.2  -7.564e-02  1.322e-01      0  -0.572 0.567307    \nnodefactor.ideol.3  -1.018e-01  1.115e-01      0  -0.913 0.361197    \nnodefactor.ideol.4   1.269e-01  1.297e-01      0   0.979 0.327542    \nnodefactor.ideol.5   1.544e-02  1.088e-01      0   0.142 0.887099    \nnodefactor.ideol.6   2.769e-01  1.030e-01      0   2.688 0.007187 ** \nnodefactor.relig.2  -4.736e-01  1.203e-01      0  -3.937  &lt; 1e-04 ***\nnodefactor.relig.3   2.481e-02  1.381e-01      0   0.180 0.857421    \nnodefactor.relig.4   2.674e-01  1.045e-01      0   2.559 0.010504 *  \nnodematch.sexo.1     6.649e-01  2.299e-01      0   2.893 0.003820 ** \nnodematch.sexo.2     2.079e-01  2.316e-01      0   0.898 0.369368    \nnodematch.educ.1     8.394e-01  1.291e-01      0   6.501  &lt; 1e-04 ***\nnodematch.educ.2     3.725e-01  1.067e-01      0   3.489 0.000484 ***\nnodematch.educ.3     6.967e-01  1.345e-01      0   5.178  &lt; 1e-04 ***\nnodematch.educ.4     1.652e+00  1.339e-01      0  12.336  &lt; 1e-04 ***\nnodematch.ideol.1    1.697e+00  1.978e-01      0   8.579  &lt; 1e-04 ***\nnodematch.ideol.2    1.077e+00  3.238e-01      0   3.325 0.000883 ***\nnodematch.ideol.3   -1.418e-07  2.289e-01      0   0.000 1.000000    \nnodematch.ideol.4    2.974e-01  2.774e-01      0   1.072 0.283541    \nnodematch.ideol.5    1.539e+00  1.952e-01      0   7.883  &lt; 1e-04 ***\nnodematch.ideol.6    5.762e-01  1.196e-01      0   4.819  &lt; 1e-04 ***\nnodematch.relig.1    8.678e-01  1.379e-01      0   6.292  &lt; 1e-04 ***\nnodematch.relig.2    2.404e+00  1.672e-01      0  14.381  &lt; 1e-04 ***\nnodematch.relig.3    7.903e-01  2.737e-01      0   2.887 0.003884 ** \nnodematch.relig.4    7.112e-01  1.590e-01      0   4.473  &lt; 1e-04 ***\nabsdiff.edad        -2.958e-02  2.168e-03      0 -13.643  &lt; 1e-04 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n The following terms are fixed by offset and are not estimated:\n  offset(netsize.adj) \n\n\nPara interpretar los coeficientes, es útil pensar en términos de la probabilidad de que un par dado de nodos tenga un vínculo, condicionada al estado del nodo entre todos los demás pares. Para el término de homofilia de género (segundo orden) en el modelo anterio: El empate entre dos nodos mujeres, casi cuatriplica las probabilidades (odds) de tener un vínculo en la red observada (por su puesto, manteniendo todo lo demás igual).\nVale indicar también que para todas las variables el coeficiente difiere de cero en al menos un error estándar, lo que sugiere algún efecto no trivial de estas variables en la formación de vínculos en la red.\n\n\nBondad de ajuste\nLa práctica actual para evaluar la bondad de ajuste en modelos ERGM es simular primero numerosos gráficos aleatorios del modelo ajustado y luego comparar varios resúmenes de estos gráficos con los del gráfico observado originalmente. Si las características de los grafos de red observados no coinciden con los valores típicos que surgen de las realizaciones del modelo de gráfico aleatorio ajustado, esto sugiere diferencias sistemáticas entre la clase especificada de modelos y los datos y, por lo tanto, una falta de bondad.\nEn general, al evaluar la bondad de ajuste en el modelado de redes, los resúmenes de uso común incluyen la distribución de cualquier número de los diversos resúmenes de la estructura de la red: como el grado, la centralidad y la distancia geodésica. Con los ERGMs, sin embargo, una elección natural de resumen son las propias estadísticas \\(g\\) que definen el ERGM (es decir, las llamadas estadísticas suficientes). Para evaluar la bondad de ajuste de nuestro modelo anterior de homofilia, la función ergm ejecuta las simulaciones de Monte Carlo necesarias y calcula las comparaciones con la red original en términos de las distribuciones de cada uno de los estadísticos en el modelo.\n\nplot(gof(modelo1))\n\n\n\n\nConsiderando las características particulares capturadas por las estadísticas, el ajuste del modelo es bastante bueno en general, toda vez que las estadísticas observadas están bastante cerca de la mediana de los valores simulados en la mayoría de los casos.\n\nplot(gof(modelo1, GOF=\"degree\"))\n\n\n\n\n\n\nMCMC\n\nmcmc.diagnostics(modelo1, which = \"plots\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote: To save space, only one in every 2 iterations of the MCMC sample\n  used for estimation was stored for diagnostics. Sample size per chain\n  was originally around 5678 with thinning interval 16384.\n\nNote: MCMC diagnostics shown here are from the last round of\n  simulation, prior to computation of final parameter estimates.\n  Because the final estimates are refinements of those used for this\n  simulation run, these diagnostics may understate model performance.\n  To directly assess the performance of the final model on in-model\n  statistics, please use the GOF command: gof(ergmFitObject,\n  GOF=~model).\n\n\n\n\nsimulate\n\nsim.modelo1 &lt;- simulate(modelo1, popsize=500,\n                       control=control.simulate.ergm.ego(\n                       simulate=control.simulate.formula(MCMC.burnin=2e6)))\n\nNote: Constructed network has size 244 different from requested 500. Simulated statistics may need to be rescaled.\n\n\n\nplot(sim.modelo1, vertex.col=\"educ\")\nlegend('bottomleft',fill=1:4,legend=paste('Eduación',1:4),cex=0.75)\n\n\n\n\n\n\nTidy\n\nbroom::tidy(modelo1, exponentiate = TRUE, conf.int = TRUE, conf.level = 0.99)\n\nWarning in tidy.ergm(modelo1, exponentiate = TRUE, conf.int = TRUE, conf.level\n= 0.99): Exponentiating but model didn't use log or logit link.\n\n\n# A tibble: 30 × 8\n   term       estimate std.error mcmc.error statistic p.value conf.low conf.high\n   &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n 1 offset(ne… 0.000204    0               0  -Inf     0       0.000204  0.000204\n 2 nodefacto… 0.749       0.228           0    -1.27  2.04e-1 0.416     1.35    \n 3 nodefacto… 1.36        0.0789          0     3.90  9.76e-5 1.11      1.67    \n 4 nodefacto… 1.31        0.0964          0     2.81  4.97e-3 1.02      1.68    \n 5 nodefacto… 1.07        0.0994          0     0.684 4.94e-1 0.829     1.38    \n 6 nodefacto… 0.927       0.132           0    -0.572 5.67e-1 0.660     1.30    \n 7 nodefacto… 0.903       0.112           0    -0.913 3.61e-1 0.678     1.20    \n 8 nodefacto… 1.14        0.130           0     0.979 3.28e-1 0.813     1.59    \n 9 nodefacto… 1.02        0.109           0     0.142 8.87e-1 0.767     1.34    \n10 nodefacto… 1.32        0.103           0     2.69  7.19e-3 1.01      1.72    \n# ℹ 20 more rows\n\n\n\n\nPredict\n\n#predict(modelo1, type = \"response\")"
  },
  {
    "objectID": "blog/posts/05_multihomophily/index.html",
    "href": "blog/posts/05_multihomophily/index.html",
    "title": "homophily",
    "section": "",
    "text": "Figure 1: Homophily"
  },
  {
    "objectID": "blog/posts/05_multihomophily/index.html#libraries",
    "href": "blog/posts/05_multihomophily/index.html#libraries",
    "title": "homophily",
    "section": "libraries",
    "text": "libraries\n\npacman::p_load(\n  ergm,\n  ergm.ego,\n  car,\n  egor,\n  tidyverse,\n  tibble,\n  texreg,\n  purrr,\n  tidyr,\n  prioritizr,\n  questionr,\n  Rglpk)"
  },
  {
    "objectID": "blog/posts/05_multihomophily/index.html#data",
    "href": "blog/posts/05_multihomophily/index.html#data",
    "title": "homophily",
    "section": "data",
    "text": "data\n\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W02_v3.00_R.RData\")\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W04_v2.01_R.RData\")\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W01_v4.01_R.RData\")"
  },
  {
    "objectID": "blog/posts/05_multihomophily/index.html#procesamiento",
    "href": "blog/posts/05_multihomophily/index.html#procesamiento",
    "title": "homophily",
    "section": "Procesamiento",
    "text": "Procesamiento\n\nRenombrar ID\n\na&lt;-elsoc_2017 %&gt;% dplyr::rename(.egoID = idencuesta)\n\n\n\nCrear data frame alteris para 2017=a\nCreamos subset con data de cada uno de los alteris mencionados, manteniendo el ID de cada ego en el cual están anidados. Las columnas de cada uno de los subset deben tener los mismos nombres.\n\ncolumnas &lt;- c(\"sexo\", \"edad\", \"educ\", \"relig\", \"ideol\", \"barrio\", \"relacion\")\nnum_alters &lt;- 5\n\nalter_list &lt;- list()\n\nfor (i in 1:num_alters) {\n  alter_cols &lt;- paste0(\"r13_\", columnas, \"_\", sprintf(\"%02d\", i))\n  alter &lt;- a %&gt;%\n    dplyr::select(.egoID, all_of(alter_cols)) %&gt;%\n    rename_with(~ columnas, alter_cols) %&gt;%\n    mutate(n = i)\n  \n  alter_list[[i]] &lt;- alter\n}\n\nalteris &lt;- bind_rows(alter_list)\nalteris&lt;-arrange(alteris, .egoID)\n\n\n\nCrear vector alter id\nEn el siguiente chunk creamos un vector identificador para cada uno de los alteris presentes en la data “alteris”. Lo identificamos como objeto tibble y eliminamos el vector “n”.\n\nalteris   &lt;- rowid_to_column(alteris, var = \".alterID\")\nalteris   &lt;- as_tibble(alteris)\nalteris$n &lt;- NULL\n\n\n\nRecod alteris\nRecodificamos los valores de los atributos de los alteris.\n\n# NA\nalteris[alteris==\"-999\"]&lt;-NA\nalteris[alteris==\"-888\"]&lt;-NA\n\n# Educación \n#edulab&lt;-c('ltsecondary', 'secondary', 'technicaled', 'collegeed')\nalteris$educ &lt;-factor(Recode(alteris$educ ,\"1=1;2:3=2;4=3;5=4\"))\ntable(alteris$educ)\n\n\n   1    2    3    4 \n1362 3543 1042 1719 \n\n# Religión \n#relilab&lt;-c('catholic','evangelical','other','none')\nalteris$relig&lt;-factor(Recode(alteris$relig,\"1=1;2=2;3:4=4;5=3\"))\ntable(alteris$relig)\n\n\n   1    2    3    4 \n4907 1407  373 1379 \n\n# Ideología \n#ideolab&lt;-c('rightwinger','centerright','center','centerleft','leftwinger','none')\nalteris$ideol&lt;-factor(Recode(alteris$ideol,\"1=1;2=2;3=3;4=4;5=5;6=6\"))\ntable(alteris$ideol)\n\n\n   1    2    3    4    5    6 \n 786  191  382  303  759 4644 \n\n# Edad \nalteris$edad&lt;-as.numeric(alteris$edad)\n#alteris$edad &lt;-factor(Recode(alteris$edad ,\"0:18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6\"))\n\n# Sexo \n#sexolab&lt;-c('male','female')\nalteris$sexo &lt;-factor(Recode(alteris$sexo ,\"1=1;2=2\"))\ntable(alteris$sexo)\n\n\n   1    2 \n3388 4678 \n\n# Relación\nalteris&lt;-alteris%&gt;%\n  dplyr::mutate(rel=case_when(relacion%in%1:3~\"fam\",\n                              relacion%in%4:5~\"nofam\"))\ntable(alteris$relacion)\n\n\n   1    2    3    4    5 \n 951 1181 2519 2577  838 \n\n# Barrio \nalteris$barrio&lt;-factor(Recode(alteris$barrio,\"1=1;2=2\"))\ntable(alteris$barrio)\n\n\n   1    2 \n4271 3788 \n\n#alteris&lt;-na.omit(alteris)\n\n\n\nBorrar alteris con 5 parámetros con NA\n\n# Función para borrar casos con un número determinado de NA's. \n#delete.na &lt;- function(DF, n=0) {\n#  DF[rowSums(is.na(DF)) &lt;= n,]\n#}\n#\n#alteris&lt;-delete.na(alteris, 4) #borro los casos que tienen más de 4 NA.  \n\n\n\nData Frame Ego’s\nCreamos un subset con la data de ego equivalente a la data de los alteris. Las nombramos de la misma manera.\n\negos &lt;-a %&gt;%\n       dplyr::select(.egoID, \n                     sexo=m0_sexo, \n                     edad=m0_edad, \n                     educ=m01, \n                     relig=m38, \n                     ideol=c15,\n                     ponderador02,\n                     estrato,\n                     segmento)\n\negos &lt;- as_tibble(egos)\n\n\n\nRecod data Ego’s\nRecodificamos las variables de la data de ego siguiendo el patrón de la data de alteris.\n\n# NA\negos[egos==\"-999\"]&lt;-NA\negos[egos==\"-888\"]&lt;-NA\n\n# Educación\negos$educ &lt;-factor(Recode(egos$educ,\"1:3=1;4:5=2;6:7=3;8:10=4\"))\ntable(egos$educ)\n\n\n   1    2    3    4 \n 597 1045  402  429 \n\n# Religión\negos$relig&lt;-factor(Recode(egos$relig,\"1=1;2=2;3:6=3;7:9=4\"))\ntable(egos$relig)\n\n\n   1    2    3    4 \n1383  499  276  308 \n\n# Ideología\n#ideolab2&lt;-c('leftwinger','centerleft','center','centerright','rightwinger','none')\negos$ideol&lt;-factor(Recode(egos$ideol,\"0:2=5;3:4=4;5=3;6:7=2;8:10=1;11:12=6\"))\ntable(egos$ideol)\n\n\n   1    2    3    4    5    6 \n 252  149  470  209  282 1080 \n\n# Edad\negos$edad&lt;-as.numeric(egos$edad)\n#egos$edad &lt;-factor(Recode(egos$edad,\"18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6\"))\n\n# Sexo\negos$sexo &lt;-factor(Recode(egos$sexo,\"1=1;2=2\"))\ntable(egos$sexo)\n\n\n   1    2 \n 951 1522 \n\n# Barrio\negos$barrio &lt;- matrix(rbinom(2473*5,1,0.6),2473,1) # Criterio minimalista\n\nWarning in matrix(rbinom(2473 * 5, 1, 0.6), 2473, 1): data length differs from\nsize of matrix: [12365 != 2473 x 1]\n\negos$barrio&lt;-factor(Recode(egos$barrio,\"1=1;0=2\"))\ntable(egos$barrio)\n\n\n   1    2 \n1519  954 \n\n\n\n\nCrear objeto Egor (requerido para trabajar con función ergm.ego)\n\n# definir diseño complejo\nelsoc_ego &lt;- egor(alters = alteris, \n                  egos = egos,\n                  alter_design = list(max = 5),\n                  ID.vars = list(\n                    ego = \".egoID\",\n                    alter = \".alterID\")) %&gt;% as.egor()\n\nego_design(elsoc_ego) &lt;- list(weight = \"ponderador02\",\n                              strata = \"estrato\",\n                              cluster=\"segmento\") \n\n# eliminar atributos de diseño\nelsoc_ego[[\"ego\"]][[\"variables\"]][[\"ponderador02\"]]&lt;-NULL\nelsoc_ego[[\"ego\"]][[\"variables\"]][[\"estrato\"]]&lt;-NULL\nelsoc_ego[[\"ego\"]][[\"variables\"]][[\"segmento\"]]&lt;-NULL\n\n# drop NA\nvariables &lt;- c(\"sexo\", \"educ\", \"relig\", \"ideol\", \"barrio\")\nfor (variable in variables) {\n  elsoc_ego[[\"ego\"]] &lt;- elsoc_ego[[\"ego\"]] %&gt;% drop_na({{ variable }})\n  elsoc_ego[[\"alter\"]] &lt;- elsoc_ego[[\"alter\"]] %&gt;% drop_na({{ variable }})\n}\n\nas_tibble(elsoc_ego$alter)\n\n# A tibble: 6,849 × 10\n   .altID .egoID  sexo   edad educ  relig ideol barrio relacion rel  \n   &lt;chr&gt;  &lt;chr&gt;   &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;     &lt;dbl&gt; &lt;chr&gt;\n 1 1      1101011 1        77 2     1     5     1             1 fam  \n 2 6      1101012 1        60 2     1     6     1             1 fam  \n 3 11     1101013 2        54 1     1     6     1             3 fam  \n 4 12     1101013 2        33 2     1     6     1             3 fam  \n 5 16     1101021 1        55 2     1     6     1             4 nofam\n 6 21     1101022 2        44 4     4     6     1             2 fam  \n 7 26     1101023 1        40 2     1     6     1             3 fam  \n 8 31     1101032 2        31 4     1     6     1             2 fam  \n 9 32     1101032 1        57 2     1     5     1             1 fam  \n10 36     1101033 1        37 2     1     2     1             1 fam  \n# ℹ 6,839 more rows\n\n\n\n\nDegree distribution\n\nEducación\n\ndegreedist(elsoc_ego, by=\"educ\", prob=T, plot = T, weight=TRUE)\n\n\n\n\n\n\nSexo\n\ndegreedist(elsoc_ego, by=\"sexo\", prob=T, plot = T, weight=TRUE)"
  },
  {
    "objectID": "blog/posts/05_multihomophily/index.html#modelos",
    "href": "blog/posts/05_multihomophily/index.html#modelos",
    "title": "homophily",
    "section": "Modelos",
    "text": "Modelos\nnodefactor = controla el grado de los diferentes grupos (ajustando las estimaciones de homofilia por el hecho de que algunos grupos, por ejemplo, los hombres, tienen más vínculos que otros grupos, como las mujeres).\nEl paquete “ergm” proporciona no sólo estadísticas resumidas sino también valores-p. Sin embargo, como indica Kolaczyk y Csárdi (2020), la justificación teórica para las distribuciones asintóticas chi-cuadrado y F utilizadas por ergm para calcular estos valores no se ha establecido hasta la fecha. Por lo tanto, puede ser pertinente interpretar estos valores de manera informal, como estadísticas resumidas adicionales.\n\n## Set # replicates\nreps = 1\n## Set ppop size and construction\nppop = 15000\nppopwt = 'round' # Round gives consistent netsize/composition\nconstraint.formula &lt;- (~ bd(maxout = 5)) # constraint por grado máximo para cada ego. \n\n\nprint(names(elsoc_ego$ego))\n\n[1] \"cluster\"    \"strata\"     \"has.strata\" \"prob\"       \"allprob\"   \n[6] \"call\"       \"variables\"  \"fpc\"        \"pps\"       \n\nprint(names(elsoc_ego$alter))\n\n [1] \".altID\"   \".egoID\"   \"sexo\"     \"edad\"     \"educ\"     \"relig\"   \n [7] \"ideol\"    \"barrio\"   \"relacion\" \"rel\"     \n\n\n\nModelo 1\n\nmodelo1 &lt;- ergm.ego(elsoc_ego ~\n                    #edges + \n                    #degree(1:5) +\n                    nodefactor(\"sexo\", levels = -2) +\n                    nodefactor(\"educ\") +\n                    nodefactor(\"ideol\") +\n                    nodefactor(\"relig\") +\n                    nodematch(\"sexo\", diff=TRUE) +\n                    nodematch(\"educ\", diff=TRUE) +\n                    nodematch(\"ideol\", diff=TRUE)+\n                    nodematch(\"relig\", diff=TRUE)+\n                    absdiff(\"edad\"),\n                # constraints = constraint.formula,\n                 control=control.ergm.ego(ppopsize=5000,\n                                         ppop.wt=ppopwt,\n                                         stats.wt=\"data\",\n                                         stats.est=\"survey\"),\n                   ergm = control.ergm(init.method = \"MPLE\",\n                                       MCMC.burnin = 2e4,\n                                       MCMC.interval = 1e4,\n                                       MCMC.samplesize = 5000,\n                                       parallel = 16,\n                                       SAN.nsteps = 1e6,\n                                       MCMLE.maxit = 20,\n                                       seed = 123),\n                )\n\nConstructing pseudopopulation network.\n\n\nNote: Constructed network has size 4912, different from requested 5000. Estimation should not be meaningfully affected.\n\n\nUnable to match target stats. Using MCMLE estimation.\n\n\nStarting maximum pseudolikelihood estimation (MPLE):\n\n\nObtaining the responsible dyads.\n\n\nEvaluating the predictor and response matrix.\n\n\nMaximizing the pseudolikelihood.\n\n\nFinished MPLE.\n\n\nStarting Monte Carlo maximum likelihood estimation (MCMLE):\n\n\nIteration 1 of at most 60:\n\n\nOptimizing with step length 0.5876.\n\n\nThe log-likelihood improved by 2.3688.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 2 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 1.4469.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 3 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.1007.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 4 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.1053.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 5 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.2753.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 6 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.1875.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 7 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.1668.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 8 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.1718.\n\n\nEstimating equations are not within tolerance region.\n\n\nEstimating equations did not move closer to tolerance region more than 1 time(s) in 4 steps; increasing sample size.\n\n\nIteration 9 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.7877.\n\n\nEstimating equations are not within tolerance region.\n\n\nIteration 10 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 1.1533.\n\n\nEstimating equations are not within tolerance region.\n\n\nEstimating equations did not move closer to tolerance region more than 1 time(s) in 4 steps; increasing sample size.\n\n\nIteration 11 of at most 60:\n\n\nOptimizing with step length 1.0000.\n\n\nThe log-likelihood improved by 0.0611.\n\n\nConvergence test p-value: 0.4810. Not converged with 99% confidence; increasing sample size.\nIteration 12 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.0263.\nConvergence test p-value: 0.0349. Not converged with 99% confidence; increasing sample size.\nIteration 13 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.0339.\nConvergence test p-value: 0.6328. Not converged with 99% confidence; increasing sample size.\nIteration 14 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.0594.\nConvergence test p-value: 0.0958. Not converged with 99% confidence; increasing sample size.\nIteration 15 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.0621.\nConvergence test p-value: 0.1215. Not converged with 99% confidence; increasing sample size.\nIteration 16 of at most 60:\nOptimizing with step length 1.0000.\nThe log-likelihood improved by 0.0380.\nConvergence test p-value: 0.0064. Converged with 99% confidence.\nFinished MCMLE.\nThis model was fit using MCMC.  To examine model diagnostics and check\nfor degeneracy, use the mcmc.diagnostics() function.\n\n\nWarning: Argument(s) 'ergm' were not recognized or used. Did you mistype an\nargument name?\n\n#?control.ergm.ego\n#??ignore.max.alters\n\n\n\nSummary\n\nsummary(modelo1)\n\nCall:\nergm.ego(formula = elsoc_ego ~ nodefactor(\"sexo\", levels = -2) + \n    nodefactor(\"educ\") + nodefactor(\"ideol\") + nodefactor(\"relig\") + \n    nodematch(\"sexo\", diff = TRUE) + nodematch(\"educ\", diff = TRUE) + \n    nodematch(\"ideol\", diff = TRUE) + nodematch(\"relig\", diff = TRUE) + \n    absdiff(\"edad\"), control = control.ergm.ego(ppopsize = 5000, \n    ppop.wt = ppopwt, stats.wt = \"data\", stats.est = \"survey\"), \n    ergm = control.ergm(init.method = \"MPLE\", MCMC.burnin = 20000, \n        MCMC.interval = 10000, MCMC.samplesize = 5000, parallel = 16, \n        SAN.nsteps = 1e+06, MCMLE.maxit = 20, seed = 123))\n\nMonte Carlo Maximum Likelihood Results:\n\n                     Estimate Std. Error MCMC % z value Pr(&gt;|z|)    \noffset(netsize.adj) -8.499436   0.000000      0    -Inf  &lt; 1e-04 ***\nnodefactor.sexo.1   -0.287714   0.237074      0  -1.214 0.224899    \nnodefactor.educ.2    0.304197   0.075718      0   4.017  &lt; 1e-04 ***\nnodefactor.educ.3    0.268660   0.096341      0   2.789 0.005293 ** \nnodefactor.educ.4    0.065879   0.099476      0   0.662 0.507801    \nnodefactor.ideol.2  -0.074296   0.128869      0  -0.577 0.564258    \nnodefactor.ideol.3  -0.100978   0.115700      0  -0.873 0.382796    \nnodefactor.ideol.4   0.126159   0.133357      0   0.946 0.344135    \nnodefactor.ideol.5   0.015254   0.117220      0   0.130 0.896462    \nnodefactor.ideol.6   0.277323   0.111310      0   2.491 0.012723 *  \nnodefactor.relig.2  -0.472340   0.116628      0  -4.050  &lt; 1e-04 ***\nnodefactor.relig.3   0.027592   0.129759      0   0.213 0.831606    \nnodefactor.relig.4   0.268321   0.105711      0   2.538 0.011141 *  \nnodematch.sexo.1     0.661834   0.236356      0   2.800 0.005108 ** \nnodematch.sexo.2     0.208714   0.243799      0   0.856 0.391947    \nnodematch.educ.1     0.836741   0.120114      0   6.966  &lt; 1e-04 ***\nnodematch.educ.2     0.374631   0.106751      0   3.509 0.000449 ***\nnodematch.educ.3     0.695801   0.133468      0   5.213  &lt; 1e-04 ***\nnodematch.educ.4     1.649832   0.139654      0  11.814  &lt; 1e-04 ***\nnodematch.ideol.1    1.697195   0.204372      0   8.304  &lt; 1e-04 ***\nnodematch.ideol.2    1.081687   0.327808      0   3.300 0.000968 ***\nnodematch.ideol.3   -0.001287   0.234051      0  -0.005 0.995614    \nnodematch.ideol.4    0.304884   0.277475      0   1.099 0.271864    \nnodematch.ideol.5    1.542141   0.198842      0   7.756  &lt; 1e-04 ***\nnodematch.ideol.6    0.576506   0.125686      0   4.587  &lt; 1e-04 ***\nnodematch.relig.1    0.869884   0.134594      0   6.463  &lt; 1e-04 ***\nnodematch.relig.2    2.402625   0.164414      0  14.613  &lt; 1e-04 ***\nnodematch.relig.3    0.783628   0.255982      0   3.061 0.002204 ** \nnodematch.relig.4    0.712308   0.162110      0   4.394  &lt; 1e-04 ***\nabsdiff.edad        -0.029507   0.002118      0 -13.933  &lt; 1e-04 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n The following terms are fixed by offset and are not estimated:\n  offset(netsize.adj) \n\n\nPara interpretar los coeficientes, es útil pensar en términos de la probabilidad de que un par dado de nodos tenga un vínculo, condicionada al estado del nodo entre todos los demás pares. Para el término de homofilia de género (segundo orden) en el modelo anterio: El empate entre dos nodos mujeres, casi cuatriplica las probabilidades (odds) de tener un vínculo en la red observada (por su puesto, manteniendo todo lo demás igual).\nVale indicar también que para todas las variables el coeficiente difiere de cero en al menos un error estándar, lo que sugiere algún efecto no trivial de estas variables en la formación de vínculos en la red.\n\n\nBondad de ajuste\nLa práctica actual para evaluar la bondad de ajuste en modelos ERGM es simular primero numerosos gráficos aleatorios del modelo ajustado y luego comparar varios resúmenes de estos gráficos con los del gráfico observado originalmente. Si las características de los grafos de red observados no coinciden con los valores típicos que surgen de las realizaciones del modelo de gráfico aleatorio ajustado, esto sugiere diferencias sistemáticas entre la clase especificada de modelos y los datos y, por lo tanto, una falta de bondad.\nEn general, al evaluar la bondad de ajuste en el modelado de redes, los resúmenes de uso común incluyen la distribución de cualquier número de los diversos resúmenes de la estructura de la red: como el grado, la centralidad y la distancia geodésica. Con los ERGMs, sin embargo, una elección natural de resumen son las propias estadísticas \\(g\\) que definen el ERGM (es decir, las llamadas estadísticas suficientes). Para evaluar la bondad de ajuste de nuestro modelo anterior de homofilia, la función ergm ejecuta las simulaciones de Monte Carlo necesarias y calcula las comparaciones con la red original en términos de las distribuciones de cada uno de los estadísticos en el modelo.\n\nplot(gof(modelo1))\n\n\n\n\nConsiderando las características particulares capturadas por las estadísticas, el ajuste del modelo es bastante bueno en general, toda vez que las estadísticas observadas están bastante cerca de la mediana de los valores simulados en la mayoría de los casos.\n\nplot(gof(modelo1, GOF=\"degree\"))\n\n\n\n\n\n\nMCMC\n\nmcmc.diagnostics(modelo1, which = \"plots\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote: To save space, only one in every 2 iterations of the MCMC sample\n  used for estimation was stored for diagnostics. Sample size per chain\n  was originally around 5698 with thinning interval 16384.\n\nNote: MCMC diagnostics shown here are from the last round of\n  simulation, prior to computation of final parameter estimates.\n  Because the final estimates are refinements of those used for this\n  simulation run, these diagnostics may understate model performance.\n  To directly assess the performance of the final model on in-model\n  statistics, please use the GOF command: gof(ergmFitObject,\n  GOF=~model).\n\n\n\n\nsimulate\n\nsim.modelo1 &lt;- simulate(modelo1, popsize=500,\n                       control=control.simulate.ergm.ego(\n                       simulate=control.simulate.formula(MCMC.burnin=2e6)))\n\nNote: Constructed network has size 244 different from requested 500. Simulated statistics may need to be rescaled.\n\n\n\nplot(sim.modelo1, vertex.col=\"educ\")\nlegend('bottomleft',fill=1:4,legend=paste('Eduación',1:4),cex=0.75)\n\n\n\n\n\n\nTidy\n\nbroom::tidy(modelo1, exponentiate = TRUE, conf.int = TRUE, conf.level = 0.99)\n\nWarning in tidy.ergm(modelo1, exponentiate = TRUE, conf.int = TRUE, conf.level\n= 0.99): Exponentiating but model didn't use log or logit link.\n\n\n# A tibble: 30 × 8\n   term       estimate std.error mcmc.error statistic p.value conf.low conf.high\n   &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n 1 offset(ne… 0.000204    0               0  -Inf     0       0.000204  0.000204\n 2 nodefacto… 0.750       0.237           0    -1.21  2.25e-1 0.407     1.38    \n 3 nodefacto… 1.36        0.0757          0     4.02  5.88e-5 1.12      1.65    \n 4 nodefacto… 1.31        0.0963          0     2.79  5.29e-3 1.02      1.68    \n 5 nodefacto… 1.07        0.0995          0     0.662 5.08e-1 0.827     1.38    \n 6 nodefacto… 0.928       0.129           0    -0.577 5.64e-1 0.666     1.29    \n 7 nodefacto… 0.904       0.116           0    -0.873 3.83e-1 0.671     1.22    \n 8 nodefacto… 1.13        0.133           0     0.946 3.44e-1 0.805     1.60    \n 9 nodefacto… 1.02        0.117           0     0.130 8.96e-1 0.751     1.37    \n10 nodefacto… 1.32        0.111           0     2.49  1.27e-2 0.991     1.76    \n# ℹ 20 more rows\n\n\n\n\nPredict\n\n#predict(modelo1, type = \"response\")"
  },
  {
    "objectID": "blog/index.html",
    "href": "blog/index.html",
    "title": "Blog",
    "section": "",
    "text": "Blog\n\nThis space brings together social network analysis and R programming to explore important social issues. By analyzing data from various social networks, we delve into topics like social capital, inequality, and the dynamics of social structures. Our goal is to provide tools and knowledge to help researchers better understand these topics and foster collaboration within the field.\n\n\n\n\n\n\n\n\n\n\n\n\n   \n     \n     \n       Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Author\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\nDisrupción y Estructura en redes de producción cietífica\n\n\n\n\n\n\nRoberto Cantillan\n\n\nNov 1, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nEI Index\n\n\n\n\n\n\nRoberto Cantillan\n\n\nAug 9, 2023\n\n\n\n\n\n\n\n\n\n\n\n\nAnálisis de Redes Ego-céntricas\n\n\n\n\n\n\nRoberto Cantillan\n\n\nAug 9, 2023\n\n\n\n\n\n\n\n\n\n\n\n\nhomophily\n\n\n\n\n\n\nRoberto Cantillan\n\n\nOct 26, 2022\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "blog/posts/01-multihomophily/index.html",
    "href": "blog/posts/01-multihomophily/index.html",
    "title": "EI Index",
    "section": "",
    "text": "En el presente documento se realiza un trabajo de datos para construir una base en formato long con la encuesta COES en su ola w2 y ola w4. Adicionalmente, se analizan datos panel con el modelo within-between (Bell & Jhones, 2014; Bell et al. 2019), ideales para el análisis de estructuras jerárquicas de datos, incluidos los datos datos de series de tiempo (de corte transversal), y de tipo panel.\nEl objetivo es explorar potenciales relaciones entre indicadores de homofilia y algunos indicadores de comportamiento cívico. El análisis de datos es realizado con el paquete panelr, diseñado para entorno R, el cual tiene como base el paquete lm4. Se prefiere el primero puesto que se reducen sustantivamente procedimientos y lineas de códigos y se obtienen los mismos resultados que si se realizará con el pquete lm4.\nPara atributos categóricos de los alter de la red ego, además de la proporción de alter similares a ego, una medida generalmente usada ha sido el índice EI (Krackhardt & Stern, 1988, Perry et al., 2018). Esta medida se define como el número de alter diferentes de ego (lazos externos E) menos el número de alter iguales a ego (lazos internos I), dividido por el número de alter. Esta es una medida “reversa” de homofilia toa vez que una medida alta de este índice índica mayor heterofilia. Además, debido a que es una transformación lineal de la medida de proporción de lazos homofilicos, su correlación es un perfecto -.1\n\\[EI = \\frac{E - I}{E + I}\\]\nA continuación, desarrollamos el trabajo de código. Todo el análisis es realizado con datos de la encuesta ELSOC COES, considerando las olas 2 y 4. Las bases de datos y la documentación pueden ser descargadas desde el siguiente link\n\nCargar librerias y bbdd\n\npacman::p_load(ggplot2, \n               ggthemes, \n               tidyverse, \n               sjlabelled,\n               sjPlot, \n               car, \n               vcd, \n               texreg, \n               ordinal,\n               nnet, \n               MASS, \n               mlogit, \n               matrixStats, \n               expss,\n               sjlabelled, \n               sjmisc, \n               tidyverse, \n               weights,\n               survey,\n               viridis)\n\n\n\nCargamos data\n\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W02_v3.00_R.RData\")\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W04_v2.01_R.RData\")\n\n\n\nSubset 2017\n\n# Armar BBDD 2019 \nego2017 &lt;- elsoc_2017 %&gt;%\n  dplyr::select(idencuesta,\n                sexo=m0_sexo,\n                sexoalter01=r13_sexo_01,\n                sexoalter02=r13_sexo_02,\n                sexoalter03=r13_sexo_03,\n                sexoalter04=r13_sexo_04,\n                sexoalter05=r13_sexo_05,\n                edad=m0_edad,\n                edadalter01=r13_edad_01,\n                edadalter02=r13_edad_02,\n                edadalter03=r13_edad_03,\n                edadalter04=r13_edad_04,\n                edadalter05=r13_edad_05,\n                relig=m38,\n                religalter01=r13_relig_01,\n                religalter02=r13_relig_02,\n                religalter03=r13_relig_03,\n                religalter04=r13_relig_04,\n                religalter05=r13_relig_05,\n                educ=m01,\n                educalter01=r13_educ_01,\n                educalter02=r13_educ_02,\n                educalter03=r13_educ_03,\n                educalter04=r13_educ_04,\n                educalter05=r13_educ_05,\n                ideol=c15,\n                ideolalter01=r13_ideol_01,\n                ideolalter02=r13_ideol_02,\n                ideolalter03=r13_ideol_03,\n                ideolalter04=r13_ideol_04,\n                ideolalter05=r13_ideol_05,\n                c08_01,\n                c08_02,\n                c08_03,\n                c08_04,\n                ponderador01) \n\n\n\nRevisar BBDD\n\nego2017 &lt;- data.frame(ego2017)\n#head(ego2017)\ndim(ego2017)\n\n[1] 2473   36\n\n# Definir NA's\nego2017[ego2017==\"-999\"] &lt;- NA\nego2017[ego2017==\"-888\"] &lt;- NA\n\n\n\nRecod variables 2017\n\nSexo\n\nsexolab&lt;-c(\"hombre\",\"mujer\")\nego2017$sexo_h&lt;-factor(Recode(ego2017$sexo,\"1=1;2=2;-888=NA;-999=NA\"),labels=sexolab)\nego2017$alterSexo1&lt;-factor(Recode(ego2017$sexoalter01,\"1=1;2=2;-888=NA;-999=NA\"),labels=sexolab)\nego2017$alterSexo2&lt;-factor(Recode(ego2017$sexoalter02,\"1=1;2=2;-888=NA;-999=NA\"),labels=sexolab)\nego2017$alterSexo3&lt;-factor(Recode(ego2017$sexoalter03,\"1=1;2=2;-888=NA;-999=NA\"),labels=sexolab)\nego2017$alterSexo4&lt;-factor(Recode(ego2017$sexoalter04,\"1=1;2=2;-888=NA;-999=NA\"),labels=sexolab)\nego2017$alterSexo5&lt;-factor(Recode(ego2017$sexoalter05,\"1=1;2=2;-888=NA;-999=NA\"),labels=sexolab)\nwith(ego2017, summary(cbind(alterSexo1,alterSexo2,alterSexo3,alterSexo4,alterSexo5)))\n\n   alterSexo1      alterSexo2      alterSexo3      alterSexo4   \n Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  \n 1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000  \n Median :2.000   Median :2.000   Median :2.000   Median :2.000  \n Mean   :1.617   Mean   :1.583   Mean   :1.552   Mean   :1.546  \n 3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000  \n Max.   :2.000   Max.   :2.000   Max.   :2.000   Max.   :2.000  \n NA's   :1       NA's   :372     NA's   :864     NA's   :1370   \n   alterSexo5   \n Min.   :1.000  \n 1st Qu.:1.000  \n Median :2.000  \n Mean   :1.557  \n 3rd Qu.:2.000  \n Max.   :2.000  \n NA's   :1692   \n\n\n\n\nEdad\n\nedadlab &lt;- c(\"18-24\", \"25-34\", \"35-44\", \"45-54\", \"55-64\", \"&gt;65\")\nego2017$edadR&lt;-factor(Recode(ego2017$edad,\"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6\"),labels=edadlab)\n\nego2017$alterAge1&lt;-factor(Recode(ego2017$edadalter01,\"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6\"),labels=edadlab)\nego2017$alterAge2&lt;-factor(Recode(ego2017$edadalter02,\"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6\"),labels=edadlab)\nego2017$alterAge3&lt;-factor(Recode(ego2017$edadalter03,\"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6\"),labels=edadlab)\nego2017$alterAge4&lt;-factor(Recode(ego2017$edadalter04,\"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6\"),labels=edadlab)\nego2017$alterAge5&lt;-factor(Recode(ego2017$edadalter05,\"lo:24=1;25:34=2;35:44=3;45:54=4;55:64=5;65:hi=6\"),labels=edadlab)\nwith(ego2017, summary(cbind(alterAge1,alterAge2,alterAge3,alterAge4,alterAge5)))\n\n   alterAge1       alterAge2       alterAge3       alterAge4       alterAge5   \n Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.00  \n 1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.00  \n Median :4.000   Median :3.000   Median :3.000   Median :3.000   Median :3.00  \n Mean   :3.607   Mean   :3.376   Mean   :3.328   Mean   :3.312   Mean   :3.37  \n 3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.00  \n Max.   :6.000   Max.   :6.000   Max.   :6.000   Max.   :6.000   Max.   :6.00  \n NA's   :1       NA's   :372     NA's   :864     NA's   :1370    NA's   :1692  \n\n\n\n\nReligión\n\nrellab = c(\"Catolico\",\"Evangelico\",\"Otra Religion\",\"no religioso\")\nego2017$religid&lt;-factor(Recode(ego2017$relig,\"1=1;2=2;3:6=3;7:9=4;-999:-888=4\"),labels=rellab)\nego2017$alterRelig1&lt;-factor(Recode(ego2017$religalter01,\"1=1;2=2;3:4=4;5=3;-999:-888=4\"),labels=rellab)\nego2017$alterRelig2&lt;-factor(Recode(ego2017$religalter02,\"1=1;2=2;3:4=4;5=3;-999:-888=4\"),labels=rellab)\nego2017$alterRelig3&lt;-factor(Recode(ego2017$religalter03,\"1=1;2=2;3:4=4;5=3;-999:-888=4\"),labels=rellab)\nego2017$alterRelig4&lt;-factor(Recode(ego2017$religalter04,\"1=1;2=2;3:4=4;5=3;-999:-888=4\"),labels=rellab)\nego2017$alterRelig5&lt;-factor(Recode(ego2017$religalter05,\"1=1;2=2;3:4=4;5=3;-999:-888=4\"),labels=rellab)\nwith(ego2017, summary(cbind(alterRelig1,alterRelig2,alterRelig3,alterRelig4,alterRelig5)))\n\n  alterRelig1     alterRelig2     alterRelig3     alterRelig4   \n Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  \n 1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000  \n Median :1.000   Median :1.000   Median :1.000   Median :1.000  \n Mean   :1.747   Mean   :1.762   Mean   :1.836   Mean   :1.784  \n 3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000  \n Max.   :4.000   Max.   :4.000   Max.   :4.000   Max.   :4.000  \n NA's   :1       NA's   :372     NA's   :864     NA's   :1370   \n  alterRelig5   \n Min.   :1.000  \n 1st Qu.:1.000  \n Median :1.000  \n Mean   :1.809  \n 3rd Qu.:2.000  \n Max.   :4.000  \n NA's   :1692   \n\n\n\n\nEducación\n\nedulab = c(\"Basica\", \"Media\", \"Sup. Tecnica\", \"Sup. Univ\")\nego2017$educaF&lt;-factor(Recode(ego2017$educ,\"1:3=1;4:5=2;6:7=3;8:10=4;-888=NA;-999=NA\"),labels=edulab)\nego2017$alterEduca1&lt;-factor(Recode(ego2017$educalter01,\"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA\"),labels=edulab)\nego2017$alterEduca2&lt;-factor(Recode(ego2017$educalter02,\"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA\"),labels=edulab)\nego2017$alterEduca3&lt;-factor(Recode(ego2017$educalter03,\"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA\"),labels=edulab)\nego2017$alterEduca4&lt;-factor(Recode(ego2017$educalter04,\"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA\"),labels=edulab)\nego2017$alterEduca5&lt;-factor(Recode(ego2017$educalter05,\"1=1;2:3=2;4=3;5=4;-888=NA;-999=NA\"),labels=edulab)\nwith(ego2017, summary(cbind(alterEduca1,alterEduca2,alterEduca3,alterEduca4,alterEduca5)))\n\n  alterEduca1     alterEduca2     alterEduca3     alterEduca4   \n Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  \n 1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000  \n Median :2.000   Median :2.000   Median :2.000   Median :2.000  \n Mean   :2.344   Mean   :2.394   Mean   :2.438   Mean   :2.489  \n 3rd Qu.:3.000   3rd Qu.:3.000   3rd Qu.:3.000   3rd Qu.:4.000  \n Max.   :4.000   Max.   :4.000   Max.   :4.000   Max.   :4.000  \n NA's   :142     NA's   :481     NA's   :940     NA's   :1412   \n  alterEduca5   \n Min.   :1.000  \n 1st Qu.:2.000  \n Median :2.000  \n Mean   :2.454  \n 3rd Qu.:3.000  \n Max.   :4.000  \n NA's   :1724   \n\n\n\n\nPosición Política\n\npollab &lt;- c(\"Izq\", \"Centro\", \"Der\", \"Ind/Ninguno\", \"NA\")\nego2017$izqderR&lt;-factor(Recode(ego2017$ideol,\"0:3=1;4:6=2;7:10=3;11:12=4;NA=5\"),labels=pollab)\nego2017$alterPospol1=factor(Recode(ego2017$ideolalter01,\"1:2=3;3=2;4:5=1;6=4;NA=5\"),labels=pollab)\nego2017$alterPospol2=factor(Recode(ego2017$ideolalter02,\"1:2=3;3=2;4:5=1;6=4;NA=5\"),labels=pollab)\nego2017$alterPospol3=factor(Recode(ego2017$ideolalter03,\"1:2=3;3=2;4:5=1;6=4;NA=5\"),labels=pollab)\nego2017$alterPospol4=factor(Recode(ego2017$ideolalter04,\"1:2=3;3=2;4:5=1;6=4;NA=5\"),labels=pollab)\nego2017$alterPospol5=factor(Recode(ego2017$ideolalter05,\"1:2=3;3=2;4:5=1;6=4;NA=5\"),labels=pollab)\nwith(ego2017,summary(cbind(alterPospol1,alterPospol2,alterPospol3,alterPospol4,alterPospol5)))\n\n  alterPospol1   alterPospol2    alterPospol3    alterPospol4    alterPospol5  \n Min.   :1.00   Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  \n 1st Qu.:3.00   1st Qu.:3.000   1st Qu.:4.000   1st Qu.:4.000   1st Qu.:4.000  \n Median :4.00   Median :4.000   Median :4.000   Median :5.000   Median :5.000  \n Mean   :3.58   Mean   :3.747   Mean   :4.013   Mean   :4.318   Mean   :4.493  \n 3rd Qu.:4.00   3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.000   3rd Qu.:5.000  \n Max.   :5.00   Max.   :5.000   Max.   :5.000   Max.   :5.000   Max.   :5.000  \n\n\n\n\nTamaño de la red\n\nego2017$tamred = as.numeric(!is.na(ego2017$sexoalter01)) + \n  as.numeric(!is.na(ego2017$sexoalter02)) +\n  as.numeric(!is.na(ego2017$sexoalter03)) + \n  as.numeric(!is.na(ego2017$sexoalter04)) +\n  as.numeric(!is.na(ego2017$sexoalter05))\nprint(prop.table(table(ego2017$tamred)), 2)\n\n\n     0      1      2      3      4      5 \n0.0004 0.1500 0.1989 0.2046 0.1302 0.3158 \n\nego2017$tamred[ego2017$tamred==0] &lt;- NA\ntable(ego2017$tamred)\n\n\n  1   2   3   4   5 \n371 492 506 322 781 \n\n\n\n\n\nPlot tamred\n\nposición política de alteres segun tamaño de la red de ego.\n\nego2017$alterPospol1t&lt;-Recode(ego2017$alterPospol1,\"1:2=3;3=2;4:5=1;6:5=4\")\nego2017$alterPospol2t&lt;-Recode(ego2017$alterPospol2,\"1:2=3;3=2;4:5=1;6:5=4\")\nego2017$alterPospol3t&lt;-Recode(ego2017$alterPospol3,\"1:2=3;3=2;4:5=1;6:5=4\")\nego2017$alterPospol4t&lt;-Recode(ego2017$alterPospol4,\"1:2=3;3=2;4:5=1;6:5=4\")\nego2017$alterPospol5t&lt;-Recode(ego2017$alterPospol5,\"1:2=3;3=2;4:5=1;6:5=4\")\n\nTpospol1=with(ego2017,table(tamred,alterPospol1t), na.rm=T)\nTpospol2=with(ego2017,table(tamred,alterPospol2t), na.rm=T)\nTpospol3=with(ego2017,table(tamred,alterPospol3t), na.rm=T)\nTpospol4=with(ego2017,table(tamred,alterPospol4t), na.rm=T)\nTpospol5=with(ego2017,table(tamred,alterPospol5t), na.rm=T)\n\nHpospol=Tpospol1+Tpospol2+Tpospol3+Tpospol4+Tpospol5\nHpospol=round(Hpospol, 0)\ndimnames(Hpospol)=list(tamred= c(\"1\", \"2\", \"3\", \"4\",\"5\"),\n                       alter = c(\"Izq\", \"Centro\", \"Der\", \"Ind/Ns\", \"NA\"))\n\nhom_tam&lt;-as.data.frame(round(prop.table(Hpospol,1),2))\n\nhom_tam%&gt;%\n  drop_na()%&gt;%\n  ggplot(aes(x = tamred, y = Freq, fill = alter, na.rm = TRUE), weight = ponderador01) + \n  geom_bar(position = 'dodge', stat = 'identity') +\n  labs(title = \"Alter political position\", x = \"Network size\", y = \"\") +\n  scale_fill_viridis_d(alpha = 1, begin = 0, end = 1, direction = 1, option = \"F\",) +  \n  scale_y_continuous(limits = c(0, 1)) +\n  theme_light()\n\n\n\n\n\n\n\nHomofilia por posición política\n\nlibrary(car)\n#rec\nego2017$izqderRx&lt;-Recode(ego2017$ideol,\"0:3=1;3:6=2;7:10=3;11:12=4;-999:-888=NA\")\nego2017$alterPospol1x=Recode(ego2017$ideolalter01,\"1:2=3;3=2;4:5=1;6=4;-999:-888=NA\")\nego2017$alterPospol2x=Recode(ego2017$ideolalter02,\"1:2=3;3=2;4:5=1;6=4;-999:-888=NA\")\nego2017$alterPospol3x=Recode(ego2017$ideolalter03,\"1:2=3;3=2;4:5=1;6=4;-999:-888=NA\")\nego2017$alterPospol4x=Recode(ego2017$ideolalter04,\"1:2=3;3=2;4:5=1;6=4;-999:-888=NA\")\nego2017$alterPospol5x=Recode(ego2017$ideolalter05,\"1:2=3;3=2;4:5=1;6=4;-999:-888=NA\")\n\nTpospol1=with(ego2017,table(izqderRx,alterPospol1x))\nTpospol2=with(ego2017,table(izqderRx,alterPospol2x))\nTpospol3=with(ego2017,table(izqderRx,alterPospol3x))\nTpospol4=with(ego2017,table(izqderRx,alterPospol4x))\nTpospol5=with(ego2017,table(izqderRx,alterPospol5x))\n\nHpospol=Tpospol1+Tpospol2+Tpospol3+Tpospol4+Tpospol5\nHpospol=round(Hpospol, 0)\ndimnames(Hpospol)=list(ego=c(\"Izq\", \"Centro\", \"Der\", \"Ind/Ns\"),\n                       alter=c(\"Izq\", \"Centro\", \"Der\", \"Ind/Ns\"))\nround(prop.table(Hpospol,1),2)\n\n        alter\nego       Izq Centro  Der Ind/Ns\n  Izq    0.41   0.04 0.10   0.45\n  Centro 0.14   0.10 0.14   0.61\n  Der    0.12   0.07 0.39   0.42\n  Ind/Ns 0.05   0.02 0.06   0.87\n\nqq3&lt;-as.data.frame(round(prop.table(Hpospol,1),2))\n\nqq3%&gt;%\nggplot(aes(x=ego, y=Freq, fill=alter),  weight = ponderador01) + \n  geom_bar(position = 'dodge', stat='identity') +\n  labs(title=\"Political dyads\", x=\"Ego political position\", y=\"\")+\n  scale_fill_viridis_d(alpha = 1, begin = 0, end = 1, direction = 1, option = \"F\",) + \n  scale_y_continuous(limits = c(0, 1))+\n    theme_light()\n\n\n\n\n\n\nCálculo E-I homofilia por posición política (ELSOC 2017)\n\nIndice E-I de Krackhardt y Stern (1988).\nCreamos los alteres como externos (con otras categorías distinta a la del ego) o como internos (misma categoría que el ego). Los valores de -1 implican perfecta homofilia y los valores de +1 corresponden a perfecta heterofilia.\n\n\n\nEI posición política\n\nego2017$pospol_alt1_clasif&lt;-ifelse(ego2017$izqderR==ego2017$alterPospol1,\"External\", \"Internal\")\nego2017$pospol_alt2_clasif&lt;-ifelse(ego2017$izqderR==ego2017$alterPospol2,\"External\", \"Internal\")\nego2017$pospol_alt3_clasif&lt;-ifelse(ego2017$izqderR==ego2017$alterPospol3,\"External\", \"Internal\")\nego2017$pospol_alt4_clasif&lt;-ifelse(ego2017$izqderR==ego2017$alterPospol4,\"External\", \"Internal\")\nego2017$pospol_alt5_clasif&lt;-ifelse(ego2017$izqderR==ego2017$alterPospol5,\"External\", \"Internal\")\n\n#Ahora se agrega la información sobre los tipos de vínculos\nego2017$pospol_external&lt;-count_row_if(criterion = \"External\", \n                                        ego2017$pospol_alt1_clasif, \n                                        ego2017$pospol_alt2_clasif,\n                                        ego2017$pospol_alt3_clasif, \n                                        ego2017$pospol_alt4_clasif, \n                                        ego2017$pospol_alt5_clasif) \n\nego2017$pospol_internal&lt;-count_row_if(criterion = \"Internal\", \n                                        ego2017$pospol_alt1_clasif, \n                                        ego2017$pospol_alt2_clasif,\n                                        ego2017$pospol_alt3_clasif, \n                                        ego2017$pospol_alt4_clasif, \n                                        ego2017$pospol_alt5_clasif) \n\n#Finalmente, calculamos el indicador EI\nego2017$EI_index_pospol&lt;-(ego2017$pospol_external-ego2017$pospol_internal)/\n                         (ego2017$pospol_external+ego2017$pospol_internal)\n\nsummary(ego2017$EI_index_pospol)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n -1.000  -1.000  -0.600  -0.423  -0.200   1.000 \n\n\n\n\nEI religión\n\nego2017$alterRelig1_clasif&lt;-ifelse(ego2017$religid==ego2017$alterRelig1,\"External\",\"Internal\")\nego2017$alterRelig2_clasif&lt;-ifelse(ego2017$religid==ego2017$alterRelig2,\"External\",\"Internal\")\nego2017$alterRelig3_clasif&lt;-ifelse(ego2017$religid==ego2017$alterRelig3,\"External\",\"Internal\")\nego2017$alterRelig4_clasif&lt;-ifelse(ego2017$religid==ego2017$alterRelig4,\"External\",\"Internal\")\nego2017$alterRelig5_clasif&lt;-ifelse(ego2017$religid==ego2017$alterRelig5,\"External\",\"Internal\")\n\n#Ahora se agrega la información sobre los tipos de vínculos\nego2017$relig_external&lt;-count_row_if(criterion = \"External\", \n                                     ego2017$alterRelig1_clasif, \n                                     ego2017$alterRelig2_clasif,\n                                     ego2017$alterRelig3_clasif, \n                                     ego2017$alterRelig4_clasif, \n                                     ego2017$alterRelig5_clasif) \n\nego2017$relig_internal&lt;-count_row_if(criterion = \"Internal\", \n                                     ego2017$alterRelig1_clasif, \n                                     ego2017$alterRelig2_clasif,\n                                     ego2017$alterRelig3_clasif, \n                                     ego2017$alterRelig4_clasif, \n                                     ego2017$alterRelig5_clasif) \n\n#Finalmente, calculamos el indicador EI\nego2017$EI_index_relig&lt;-(ego2017$relig_external-ego2017$relig_internal)/\n                        (ego2017$relig_external+ego2017$relig_internal)\n\nsummary(ego2017$EI_index_relig)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n-1.0000 -0.3333  0.6000  0.2776  1.0000  1.0000       8 \n\n\n\n\nEI educación\n\nego2017$alterEduca1_clasif&lt;-ifelse(ego2017$educaF==ego2017$alterEduca1,\"External\",\"Internal\")\nego2017$alterEduca2_clasif&lt;-ifelse(ego2017$educaF==ego2017$alterEduca2,\"External\",\"Internal\")\nego2017$alterEduca3_clasif&lt;-ifelse(ego2017$educaF==ego2017$alterEduca3,\"External\",\"Internal\")\nego2017$alterEduca4_clasif&lt;-ifelse(ego2017$educaF==ego2017$alterEduca4,\"External\",\"Internal\")\nego2017$alterEduca5_clasif&lt;-ifelse(ego2017$educaF==ego2017$alterEduca5,\"External\",\"Internal\")\n\n#Ahora se agrega la información sobre los tipos de vínculos\nego2017$educ_external&lt;-count_row_if(criterion = \"External\", \n                                    ego2017$alterEduca1_clasif, \n                                    ego2017$alterEduca2_clasif,\n                                    ego2017$alterEduca3_clasif, \n                                    ego2017$alterEduca4_clasif, \n                                    ego2017$alterEduca5_clasif) \n\nego2017$educ_internal&lt;-count_row_if(criterion = \"Internal\", \n                                    ego2017$alterEduca1_clasif, \n                                    ego2017$alterEduca2_clasif,\n                                    ego2017$alterEduca3_clasif, \n                                    ego2017$alterEduca4_clasif, \n                                    ego2017$alterEduca5_clasif) \n\n#Finalmente, calculamos el indicador EI\nego2017$EI_index_educ&lt;-(ego2017$educ_external-ego2017$educ_internal)/\n                        (ego2017$educ_external+ego2017$educ_internal)\n\nsummary(ego2017$EI_index_educ)\n\n    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's \n-1.00000 -1.00000  0.00000 -0.03621  0.60000  1.00000       59 \n\n\n\n\nEI Sexo\n\nego2017$alterSexo1_clasif&lt;-ifelse(ego2017$sexo_h==ego2017$alterSexo1,\"External\",\"Internal\")\nego2017$alterSexo2_clasif&lt;-ifelse(ego2017$sexo_h==ego2017$alterSexo2,\"External\",\"Internal\")\nego2017$alterSexo3_clasif&lt;-ifelse(ego2017$sexo_h==ego2017$alterSexo3,\"External\",\"Internal\")\nego2017$alterSexo4_clasif&lt;-ifelse(ego2017$sexo_h==ego2017$alterSexo4,\"External\",\"Internal\")\nego2017$alterSexo5_clasif&lt;-ifelse(ego2017$sexo_h==ego2017$alterSexo5,\"External\",\"Internal\")\n\n#Ahora se agrega la información sobre los tipos de vínculos\nego2017$sexo_external&lt;-count_row_if(criterion = \"External\", \n                                    ego2017$alterSexo1_clasif, \n                                    ego2017$alterSexo2_clasif,\n                                    ego2017$alterSexo3_clasif, \n                                    ego2017$alterSexo4_clasif, \n                                    ego2017$alterSexo5_clasif) \n\nego2017$sexo_internal&lt;-count_row_if(criterion = \"Internal\", \n                                    ego2017$alterSexo1_clasif, \n                                    ego2017$alterSexo2_clasif,\n                                    ego2017$alterSexo3_clasif, \n                                    ego2017$alterSexo4_clasif, \n                                    ego2017$alterSexo5_clasif) \n\n#Finalmente, calculamos el indicador EI\nego2017$EI_index_sexo&lt;-(ego2017$sexo_external-ego2017$sexo_internal)/\n                       (ego2017$sexo_external+ego2017$sexo_internal)\n\nsummary(ego2017$EI_index_sexo)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n-1.0000 -0.2000  0.3333  0.2583  1.0000  1.0000       1 \n\n\n\n\nEI edad\n\nego2017$alterAge1_clasif&lt;-ifelse(ego2017$edadR==ego2017$alterAge1,\"External\",\"Internal\")\nego2017$alterAge2_clasif&lt;-ifelse(ego2017$edadR==ego2017$alterAge2,\"External\",\"Internal\")\nego2017$alterAge3_clasif&lt;-ifelse(ego2017$edadR==ego2017$alterAge3,\"External\",\"Internal\")\nego2017$alterAge4_clasif&lt;-ifelse(ego2017$edadR==ego2017$alterAge4,\"External\",\"Internal\")\nego2017$alterAge5_clasif&lt;-ifelse(ego2017$edadR==ego2017$alterAge5,\"External\",\"Internal\")\n\n#Ahora se agrega la información sobre los tipos de vínculos\nego2017$age_external&lt;-count_row_if(criterion = \"External\", \n                                   ego2017$alterAge1_clasif, \n                                   ego2017$alterAge2_clasif,\n                                   ego2017$alterAge3_clasif, \n                                   ego2017$alterAge4_clasif, \n                                   ego2017$alterAge5_clasif) \n\nego2017$age_internal&lt;-count_row_if(criterion = \"Internal\", \n                                   ego2017$alterAge1_clasif, \n                                   ego2017$alterAge2_clasif,\n                                   ego2017$alterAge3_clasif, \n                                   ego2017$alterAge4_clasif, \n                                   ego2017$alterAge5_clasif) \n\n#Finalmente, calculamos el indicador EI\nego2017$EI_index_age&lt;-(abs(ego2017$age_external-ego2017$age_internal)/\n                      (ego2017$age_external+ego2017$age_internal))\n\nsummary(ego2017$EI_index_age)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n 0.0000  0.3333  0.6000  0.6177  1.0000  1.0000       1 \n\n\n\n## Ploteamos\nggplot(data = ego2017) + \n  geom_histogram(mapping = aes(x = EI_index_pospol, fill = ..count..), \n                 binwidth = 0.1, \n                 weight = \"ponderador01\") + \n  scale_fill_viridis_c(direction = 1, option = \"F\", guide = FALSE) + \n  labs(title = \"Political homophily in personal networks\",\n       subtitle = \"E-I homophily (Krackhardt & Stern, 1988)\",\n       caption = \"source: ELSOC COES 2017\",\n       x = \"\", \n       y = \"\") +\n  theme_light()\n\n\n\n\n\n\nBibliografía\n\nKrackhardt, D., & Stern, R. N. (1988). Informal networks and organizational crises: An experimental simulation. Social Psychology Quarterly, 123–140."
  },
  {
    "objectID": "blog/posts/03-egodescriptives/index.html",
    "href": "blog/posts/03-egodescriptives/index.html",
    "title": "Análisis de Redes Ego-céntricas",
    "section": "",
    "text": "Este documento analiza en detalle las redes ego-céntricas utilizando datos de ELSOC 2017 (w2) y 2019 (w4). Construiremos una base de datos que integra información de egos (encuestados) y sus alteri (contactos mencionados), calculando posteriormente medidas de distancia sociodemográfica entre ellos.\n\n\n\nFigure 1: Egonetwork"
  },
  {
    "objectID": "blog/posts/03-egodescriptives/index.html#introducción",
    "href": "blog/posts/03-egodescriptives/index.html#introducción",
    "title": "Análisis de Redes Ego-céntricas",
    "section": "",
    "text": "Este documento analiza en detalle las redes ego-céntricas utilizando datos de ELSOC 2017 (w2) y 2019 (w4). Construiremos una base de datos que integra información de egos (encuestados) y sus alteri (contactos mencionados), calculando posteriormente medidas de distancia sociodemográfica entre ellos.\n\n\n\nFigure 1: Egonetwork"
  },
  {
    "objectID": "blog/posts/03-egodescriptives/index.html#preparación-del-entorno",
    "href": "blog/posts/03-egodescriptives/index.html#preparación-del-entorno",
    "title": "Análisis de Redes Ego-céntricas",
    "section": "Preparación del Entorno",
    "text": "Preparación del Entorno\nPrimero cargaremos las librerías necesarias. El siguiente código utiliza pacman::p_load(), que tiene la ventaja de instalar los paquetes si no están presentes y luego cargarlos. Cada paquete cumple una función específica:\n\npacman::p_load(tidyverse,sjlabelled,sjPlot,vcd,texreg,ordinal, \n               egor,haven,car,dplyr,stargazer,janitor,gridExtra,\n               ggeffects, kableExtra, questionr, JWileymisc)"
  },
  {
    "objectID": "blog/posts/03-egodescriptives/index.html#carga-de-datos",
    "href": "blog/posts/03-egodescriptives/index.html#carga-de-datos",
    "title": "Análisis de Redes Ego-céntricas",
    "section": "Carga de Datos",
    "text": "Carga de Datos\nA continuación, cargamos las bases de datos de ELSOC. Estos archivos contienen la información de las olas 2017 y 2019. El formato .RData mantiene la estructura original de los datos, incluyendo etiquetas y metadatos:\n\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W02_v3.00_R.RData\")\nload(\"/home/rober/Documents/rcantillan.github.io/dat/ELSOC/ELSOC_W04_v2.01_R.RData\")"
  },
  {
    "objectID": "blog/posts/03-egodescriptives/index.html#preparación-de-datos",
    "href": "blog/posts/03-egodescriptives/index.html#preparación-de-datos",
    "title": "Análisis de Redes Ego-céntricas",
    "section": "Preparación de datos",
    "text": "Preparación de datos\nEste paso es crucial para el análisis de redes. Utilizamos rename() para estandarizar el nombre de la variable identificadora en ambas bases de datos. El prefijo ‘.’ en .egoID sigue las convenciones del paquete egor para variables identificadoras:\n\na &lt;- elsoc_2017 %&gt;% rename(.egoID = idencuesta)\nb &lt;- elsoc_2019 %&gt;% rename(.egoID = idencuesta)\n\n\nConstrucción de Base de Datos de Alteri\nAhora comenzamos la parte más compleja: la construcción de la base de datos de alteri. Para cada alter (contacto mencionado por el ego), necesitamos extraer múltiples características.\n\n\nPrimer Alter\nEl siguiente código extrae la información del primer alter mencionado por cada ego. Analicemos cada variable seleccionada:\n\nalter_sexo: Género del contacto (1=Hombre, 2=Mujer)\nalter_edad: Edad en años\nalter_rel: Tipo de relación con ego (1=Familiar, 2=Amigo, etc.)\nalter_tiempo: Duración de la relación\nalter_barrio: Si vive en el mismo barrio que ego\nalter_educ: Nivel educativo\nalter_relig: Afiliación religiosa\nalter_ideol: Orientación política\n\n\nalter_1 &lt;- a %&gt;%\n        dplyr::select(.egoID, \n                      alter_sexo=r13_sexo_01,     # Recodificamos nombre de variable\n                      alter_edad=r13_edad_01,      # para mantener consistencia\n                      alter_rel=r13_relacion_01,   # Los sufijos _01 indican\n                      alter_tiempo=r13_tiempo_01,  # que corresponden al\n                      alter_barrio=r13_barrio_01,  # primer alter mencionado\n                      alter_educ=r13_educ_01,      \n                      alter_relig=r13_relig_01,    \n                      alter_ideol=r13_ideol_01)\n\n\n\nResto de Alteri\nRepetimos el mismo proceso para los alteri 2 al 5. La única diferencia es el sufijo en los nombres de las variables originales (_02, _03, etc.). Este código es repetitivo pero necesario para mantener la claridad en la estructura de los datos:\n\n# Segundo alter - sufijo _02 en variables originales\nalter_2 &lt;- a %&gt;%\n        dplyr::select(.egoID, \n                      alter_sexo=r13_sexo_02, \n                      alter_edad=r13_edad_02, \n                      alter_rel=r13_relacion_02,\n                      alter_tiempo=r13_tiempo_02,\n                      alter_barrio=r13_barrio_02, \n                      alter_educ=r13_educ_02, \n                      alter_relig=r13_relig_02, \n                      alter_ideol=r13_ideol_02)\n\n# Tercer alter - sufijo _03\nalter_3 &lt;- a %&gt;%\n        dplyr::select(.egoID, \n                      alter_sexo=r13_sexo_03, \n                      alter_edad=r13_edad_03, \n                      alter_rel=r13_relacion_03,\n                      alter_tiempo=r13_tiempo_03,\n                      alter_barrio=r13_barrio_03, \n                      alter_educ=r13_educ_03, \n                      alter_relig=r13_relig_03, \n                      alter_ideol=r13_ideol_03)\n\n# Cuarto alter - sufijo _04\nalter_4 &lt;- a %&gt;%\n        dplyr::select(.egoID, \n                      alter_sexo=r13_sexo_04, \n                      alter_edad=r13_edad_04, \n                      alter_rel=r13_relacion_04,\n                      alter_tiempo=r13_tiempo_04, \n                      alter_barrio=r13_barrio_04, \n                      alter_educ=r13_educ_04, \n                      alter_relig=r13_relig_04, \n                      alter_ideol=r13_ideol_04)\n\n# Quinto alter - sufijo _05\nalter_5 &lt;- a %&gt;%\n        dplyr::select(.egoID, \n                      alter_sexo=r13_sexo_05, \n                      alter_edad=r13_edad_05, \n                      alter_rel=r13_relacion_05,\n                      alter_tiempo=r13_tiempo_05, \n                      alter_barrio=r13_barrio_05, \n                      alter_educ=r13_educ_05, \n                      alter_relig=r13_relig_05, \n                      alter_ideol=r13_ideol_05)\n\n\n\nIdentificación de Alteri\nPara mantener el orden de los alteri en nuestra base de datos, creamos una variable numérica que identifica la posición en que fue mencionado cada alter. Esto es crucial para análisis posteriores que consideren el orden de mención:\n\n# Asignamos números identificadores secuenciales\nalter_1$n &lt;- 1  # Primer alter mencionado\nalter_2$n &lt;- 2  # Segundo alter\nalter_3$n &lt;- 3  # Tercer alter\nalter_4$n &lt;- 4  # Cuarto alter\nalter_5$n &lt;- 5  # Quinto alter\n\n\n\nCreación de Base de Datos en Formato Long\nFinalmente, combinamos todos los datos de alteri en un único conjunto de datos en formato longitudinal. Este paso es crucial porque:\n\nPermite un análisis más eficiente\nFacilita la comparación entre alteri\nEs el formato requerido por muchas funciones de análisis de redes\n\n\n# Combinamos todas las bases de datos de alteri\nalteris &lt;- rbind(alter_1, alter_2, alter_3, alter_4, alter_5)\n\n# Ordenamos por ID de ego para mantener la estructura jerárquica\nalteris &lt;- arrange(alteris, .egoID)\n\n# Creamos un identificador único para cada alter\nalteris &lt;- rowid_to_column(alteris, var = \".altID\")\n\n# Convertimos a tibble para mejor manipulación\nalteris &lt;- as_tibble(alteris)"
  },
  {
    "objectID": "blog/posts/03-egodescriptives/index.html#recodificación-de-variables",
    "href": "blog/posts/03-egodescriptives/index.html#recodificación-de-variables",
    "title": "Análisis de Redes Ego-céntricas",
    "section": "Recodificación de Variables",
    "text": "Recodificación de Variables\n\nRecodificación de Atributos de Alteri\nA continuación, transformamos las variables categóricas de los alteri para facilitar el análisis. Utilizamos la función factor para convertir las variables en factores y Recode del paquete car para recodificar los valores. Esta recodificación es crucial para:\n\nSimplificar categorías\nManejar valores perdidos\nCrear categorías interpretables\n\n\n# Recodificamos nivel educativo\n# 1 = básica, 2 = media, 3 = técnica, 4 = universitaria\nalteris$alter_educ &lt;- factor(Recode(alteris$alter_educ,\n                                   \"1=1;2:3=2;4=3;5=4;-999=NA\"))\n\n# Recodificamos religión\n# 1-5 representan diferentes afiliaciones religiosas\nalteris$alter_relig &lt;- factor(Recode(alteris$alter_relig,\n                                    \"1=1;2=2;3=3;4=4;5=5;-999=NA\"))\n\n# Recodificamos ideología política\n# 1-6 representan el espectro político de izquierda a derecha\nalteris$alter_ideol &lt;- factor(Recode(alteris$alter_ideol,\n                                    \"1=1;2=2;3=3;4=4;5=5;6=6;-999=NA\"))\n\n# Recodificamos edad en grupos etarios\n# 1 = 0-18, 2 = 19-29, 3 = 30-40, 4 = 41-51, 5 = 52-62, 6 = 63+\nalteris$alter_edad &lt;- factor(Recode(alteris$alter_edad,\n                                   \"0:18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6\"))\n\n# Recodificamos sexo (1 = hombre, 2 = mujer)\nalteris$alter_sexo &lt;- factor(Recode(alteris$alter_sexo,\n                                   \"1=1;2=2\"))\n\n\n\nPreparación de Datos de Ego\nAhora creamos un dataset con la información de los egos (encuestados). Seleccionamos variables equivalentes a las que tenemos para los alteri para poder hacer comparaciones directas:\n\n# Seleccionamos y renombramos variables de ego\negos &lt;- a %&gt;%\n       dplyr::select(.egoID,                # ID del encuestado\n                     ego_sexo = m0_sexo,    # Sexo del encuestado\n                     ego_edad = m0_edad,    # Edad del encuestado\n                     ego_ideol = c15,       # Ideología política\n                     ego_educ = m01,        # Nivel educativo\n                     ego_relig = m38)       # Religión\n\n# Convertimos a tibble para mejor manipulación\negos &lt;- as_tibble(egos)\n\n\n\nRecodificación de Variables de Ego\nAl igual que con los alteri, recodificamos las variables de los egos para asegurar la comparabilidad:\n\n# Recodificamos nivel educativo\n# Agrupamos en 4 niveles: básica, media, técnica, universitaria\negos$ego_educ &lt;- factor(Recode(egos$ego_educ,\n                              \"1:3=1;4:5=2;6:7=3;8:10=4;-999:-888=NA\"))\n\n# Recodificamos religión\n# Agrupamos en 5 categorías principales\negos$ego_relig &lt;- factor(Recode(egos$ego_relig,\n                               \"1=1;2=2;9=3;7:8=4;3:6=5;-999:-888=NA\"))\n\n# Recodificamos ideología política\n# Escala de 1-6 donde 1 = extrema izquierda, 6 = extrema derecha\negos$ego_ideol &lt;- factor(Recode(egos$ego_ideol,\n                               \"9:10=1;6:8=2;5=3;2:4=4;0:1=5;11:12=6;-999:-888=NA\"))\n\n# Recodificamos edad en los mismos grupos que los alteri\negos$ego_edad &lt;- factor(Recode(egos$ego_edad,\n                              \"18=1;19:29=2;30:40=3;41:51=4;52:62=5;63:100=6\"))\n\n# Recodificamos sexo (1 = hombre, 2 = mujer)\negos$ego_sexo &lt;- factor(Recode(egos$ego_sexo,\n                              \"1=1;2=2\"))\n\n\n\nUnión de Datos de Ego y Alteri\nCombinamos las bases de datos de egos y alteri mediante un left join, lo que nos permite mantener todos los alteri y sus correspondientes egos:\n\n# Unimos las bases de datos usando el ID de ego como llave\nobs &lt;- left_join(alteris, egos, by = \".egoID\")\n\n# Creamos un indicador de caso\nobs$case &lt;- 1\n\n# Recodificamos valores perdidos\nobs[obs == \"-999\"] &lt;- NA\nobs[obs == \"-888\"] &lt;- NA"
  },
  {
    "objectID": "blog/posts/03-egodescriptives/index.html#análisis-descriptivos",
    "href": "blog/posts/03-egodescriptives/index.html#análisis-descriptivos",
    "title": "Análisis de Redes Ego-céntricas",
    "section": "Análisis Descriptivos",
    "text": "Análisis Descriptivos\n\nDescriptivos (alter)\nObservamos la frecuencia de las categorias de los atributos de alteris.\n\nkbl(freq(obs$alter_educ)) %&gt;%kable_paper()\n\n\n\n\n\nn\n%\nval%\n\n\n\n\n1\n1362\n11.0\n17.8\n\n\n2\n3543\n28.7\n46.2\n\n\n3\n1042\n8.4\n13.6\n\n\n4\n1719\n13.9\n22.4\n\n\nNA\n4699\n38.0\nNA\n\n\n\n\n\n\nkbl(freq(obs$alter_relig))%&gt;%kable_paper()\n\n\n\n\n\nn\n%\nval%\n\n\n\n\n1\n4907\n39.7\n60.8\n\n\n2\n1407\n11.4\n17.4\n\n\n3\n1128\n9.1\n14.0\n\n\n4\n251\n2.0\n3.1\n\n\n5\n373\n3.0\n4.6\n\n\nNA\n4299\n34.8\nNA\n\n\n\n\n\n\nkbl(freq(obs$alter_ideol))%&gt;%kable_paper()\n\n\n\n\n\nn\n%\nval%\n\n\n\n\n1\n786\n6.4\n11.1\n\n\n2\n191\n1.5\n2.7\n\n\n3\n382\n3.1\n5.4\n\n\n4\n303\n2.5\n4.3\n\n\n5\n759\n6.1\n10.7\n\n\n6\n4644\n37.6\n65.7\n\n\nNA\n5300\n42.9\nNA\n\n\n\n\n\n\nkbl(freq(obs$alter_edad)) %&gt;%kable_paper()\n\n\n\n\n\nn\n%\nval%\n\n\n\n\n1\n349\n2.8\n4.3\n\n\n2\n1477\n11.9\n18.3\n\n\n3\n1875\n15.2\n23.2\n\n\n4\n1713\n13.9\n21.2\n\n\n5\n1466\n11.9\n18.2\n\n\n6\n1186\n9.6\n14.7\n\n\nNA\n4299\n34.8\nNA\n\n\n\n\n\n\nkbl(freq(obs$alter_sexo)) %&gt;%kable_paper()\n\n\n\n\n\nn\n%\nval%\n\n\n\n\n1\n3388\n27.4\n42\n\n\n2\n4678\n37.8\n58\n\n\nNA\n4299\n34.8\nNA\n\n\n\n\n\n\n\n\n\nDescriptivos (ego)\nObservamos la frecuencia de las categorias de los atributos sociodemográficos de ego.\n\nkbl(freq(obs$ego_educ)) %&gt;%kable_paper()\n\n\n\n\nn\n%\nval%\n\n\n\n\n2985\n24.1\n24.1\n\n\n5225\n42.3\n42.3\n\n\n2010\n16.3\n16.3\n\n\n2145\n17.3\n17.3\n\n\n\n\n\n\nkbl(freq(obs$ego_relig))%&gt;%kable_paper()\n\n\n\n\n\nn\n%\nval%\n\n\n\n\n1\n6915\n55.9\n56.1\n\n\n2\n2495\n20.2\n20.2\n\n\n3\n1055\n8.5\n8.6\n\n\n4\n485\n3.9\n3.9\n\n\n5\n1380\n11.2\n11.2\n\n\nNA\n35\n0.3\nNA\n\n\n\n\n\n\nkbl(freq(obs$ego_ideol))%&gt;%kable_paper()\n\n\n\n\n\nn\n%\nval%\n\n\n\n\n1\n915\n7.4\n7.5\n\n\n2\n1090\n8.8\n8.9\n\n\n3\n2350\n19.0\n19.2\n\n\n4\n1380\n11.2\n11.3\n\n\n5\n1075\n8.7\n8.8\n\n\n6\n5400\n43.7\n44.2\n\n\nNA\n155\n1.3\nNA\n\n\n\n\n\n\nkbl(freq(obs$ego_edad)) %&gt;%kable_paper()\n\n\n\n\nn\n%\nval%\n\n\n\n\n10\n0.1\n0.1\n\n\n1865\n15.1\n15.1\n\n\n2530\n20.5\n20.5\n\n\n2720\n22.0\n22.0\n\n\n2870\n23.2\n23.2\n\n\n2370\n19.2\n19.2\n\n\n\n\n\n\nkbl(freq(obs$ego_sexo)) %&gt;%kable_paper()\n\n\n\n\nn\n%\nval%\n\n\n\n\n4755\n38.5\n38.5\n\n\n7610\n61.5\n61.5\n\n\n\n\n\n\n\nLas tablas muestran la distribución de frecuencias para cada característica sociodemográfica. Las columnas representan: 1. La categoría de la variable 2. La frecuencia absoluta (número de casos) 3. El porcentaje del total\nEsta información nos permite entender la composición de la muestra tanto a nivel de egos como de alteri, y será fundamental para los análisis posteriores de homofilia y distancia social.\n\n\nAnálisis de Homofilia Educativa\nExaminamos la homofilia educativa mediante una tabla cruzada entre los niveles educativos de egos y alteri. Primero recodificamos las etiquetas para mejor interpretación:\n\n# Recodificamos etiquetas educativas\nobs &lt;- obs %&gt;%\n  dplyr::mutate(\n    ego_educ = case_when(\n      ego_educ == 1 ~ \"básico\",\n      ego_educ == 2 ~ \"media\",\n      ego_educ == 3 ~ \"técnica\",\n      TRUE ~ \"universit.\"\n    )\n  ) %&gt;%\n  dplyr::mutate(\n    alter_educ = case_when(\n      alter_educ == 1 ~ \"básico\",\n      alter_educ == 2 ~ \"media\",\n      alter_educ == 3 ~ \"técnica\",\n      TRUE ~ \"universit.\"\n    )\n  )\n\n# Creamos tabla cruzada con porcentajes\ntable_cont &lt;- sjPlot::tab_xtab(\n  var.row = obs$ego_educ,\n  var.col = obs$alter_educ,\n  title = \"Homofilia Educativa en Redes Personales\",\n  show.row.prc = TRUE,\n  show.summary = TRUE,\n  show.col.prc = TRUE,\n  use.viewer = FALSE\n)\ntable_cont\n\n\n\nHomofilia Educativa en Redes Personales\n \n ego_educ\n alter_educ\n Total\n \n \n\n básico\n media\n técnica\n universit.\n \n \n \nbásico\n57019.1 %41.9 %\n82527.6 %23.3 %\n893 %8.5 %\n150150.3 %23.4 %\n2985100 %24.1 % \n\n \n \nmedia\n62211.9 %45.7 %\n188136 %53.1 %\n3366.4 %32.2 %\n238645.7 %37.2 %\n5225100 %42.3 % \n\n \n \ntécnica\n1165.8 %8.5 %\n48123.9 %13.6 %\n38919.4 %37.3 %\n102450.9 %16 %\n2010100 %16.3 % \n\n \n \nuniversit.\n542.5 %4 %\n35616.6 %10 %\n22810.6 %21.9 %\n150770.3 %23.5 %\n2145100 %17.3 % \n\n \n \nTotal\n136211 %100 %\n354328.7 %100 %\n10428.4 %100 %\n641851.9 %100 %\n12365100 %100 % \n\nχ2=1202.528 · df=9 · Cramer's V=0.180 · p=0.000 \n\n \n\n\n\n\n\nVisualización de Homofilia Educativa\nCreamos un heatmap para visualizar los patrones de homofilia educativa:\n\n# Preparamos datos para el heatmap\ntable &lt;- as.data.frame(prop.table(table(obs$ego_educ, obs$alter_educ)))\ncolnames(table) &lt;- c(\"Ego_educ\", \"Alter_educ\", \"Prop\")\n\n# Creamos el heatmap\nggplot(table, aes(Ego_educ, Alter_educ)) +\n  geom_tile(aes(fill = Prop)) +\n  scale_fill_gradient(low = \"white\", high = \"black\") +\n  theme_minimal() +\n  labs(\n    title = \"Heatmap de Homofilia Educativa\",\n    x = \"Nivel Educativo de Ego\",\n    y = \"Nivel Educativo de Alter\",\n    fill = \"Proporción\"\n  )\n\n\n\n\n\n\nAnálisis de Relaciones por Tipo\nCalculamos promedios de tiempo de relación según el tipo de vínculo:\n\nobs %&gt;%\n  summarise(\n    mean.clo.esp = mean(alter_tiempo[alter_rel == \"1\"], na.rm = TRUE),\n    mean.clo.hijo = mean(alter_tiempo[alter_rel == \"2\"], na.rm = TRUE),\n    mean.clo.pari = mean(alter_tiempo[alter_rel == \"3\"], na.rm = TRUE),\n    mean.clo.amig = mean(alter_tiempo[alter_rel == \"4\"], na.rm = TRUE),\n    mean.clo.otro = mean(alter_tiempo[alter_rel == \"5\"], na.rm = TRUE),\n    count.par.barr = sum((alter_rel == \"3\" & alter_barrio == \"1\"), na.rm = TRUE)\n  ) %&gt;%\n  kbl() %&gt;%\n  kable_paper()\n\n\n\n\nmean.clo.esp\nmean.clo.hijo\nmean.clo.pari\nmean.clo.amig\nmean.clo.otro\ncount.par.barr\n\n\n\n\n4.498406\n4.91511\n4.877932\n4.075097\n3.67823\n1215"
  },
  {
    "objectID": "blog/posts/03-egodescriptives/index.html#cálculo-de-distancias-sociodemográficas",
    "href": "blog/posts/03-egodescriptives/index.html#cálculo-de-distancias-sociodemográficas",
    "title": "Análisis de Redes Ego-céntricas",
    "section": "Cálculo de Distancias Sociodemográficas",
    "text": "Cálculo de Distancias Sociodemográficas\n\nCreación de Vectores de Distancia\nCalculamos medidas de distancia sociodemográfica entre ego y alter. Un valor de 1 indica diferencia en el atributo:\n\n# Calculamos distancias para cada dimensión\nobs$sexo_dist &lt;- ifelse(obs$alter_sexo == obs$ego_sexo, 0, 1)\nobs$edad_dist &lt;- ifelse(obs$alter_edad == obs$ego_edad, 0, 1)\nobs$educ_dist &lt;- ifelse(obs$alter_educ == obs$ego_educ, 0, 1)\nobs$ideol_dist &lt;- ifelse(obs$alter_ideol == obs$ego_ideol, 0, 1)\nobs$relig_dist &lt;- ifelse(obs$alter_relig == obs$ego_relig, 0, 1)\n\n\n\nResumen de Distancias\nFinalmente, presentamos un resumen de las distancias sociodemográficas:\n\n# Creamos tabla resumen de distancias\nkbl(egltable(\n  c(\"sexo_dist\", \"edad_dist\", \"educ_dist\", \"ideol_dist\", \"relig_dist\"),\n  data = obs,\n  strict = TRUE\n)) %&gt;%\n  kable_paper() \n\n\n\n\n\nM (SD)\n\n\n\n\nsexo_dist\n0.36 (0.48)\n\n\nedad_dist\n0.65 (0.48)\n\n\neduc_dist\n0.65 (0.48)\n\n\nideol_dist\n0.55 (0.50)\n\n\nrelig_dist\n0.38 (0.49)\n\n\n\n\n\n\n\nEsta tabla final muestra el porcentaje de díadas ego-alter que presentan diferencias en cada dimensión sociodemográfica, permitiéndonos evaluar los patrones de homofilia en diferentes características."
  },
  {
    "objectID": "blog/posts/03-egodescriptives/index.html#bibliografía.",
    "href": "blog/posts/03-egodescriptives/index.html#bibliografía.",
    "title": "Análisis de Redes Ego-céntricas",
    "section": "Bibliografía.",
    "text": "Bibliografía.\n\nBargsted Valdés, M. A., Espinoza, V., & Plaza, A. (2020). Pautas de Homofilia en Chile. Papers. Revista de Sociologia, 105(4), 583. https://doi.org/10.5565/rev/papers.2617\nSmith, J. A., McPherson, M., & Smith-Lovin, L. (2014). Social Distance in the United States: Sex, Race, Religion, Age, and Education Homophily among Confidants, 1985 to 2004. American Sociological Review, 79(3), 432–456. https://doi.org/10.1177/0003122414531776"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html",
    "href": "blog/posts/04-twomode-ergm/index.html",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "",
    "text": "La ciencia de la sustentabilidad requiere urgentemente de innovación transformadora para abordar desafíos socio-ambientales complejos. Comprender cómo emerge la investigación disruptiva en las redes científicas es, por tanto, crucial. Li et al. (2024) han demostrado una relación inversa entre productividad y disrupción científica, pero los mecanismos estructurales subyacentes a este fenómeno permanecen poco claros, particularmente en el contexto de redes modo-2 que vinculan autores y publicaciones.\nSiguiendo a Gondal (2011), entendemos que el análisis de campos científicos emergentes requiere considerar simultáneamente las propiedades micro y macro de las redes de producción de conocimiento. A nivel macro, las redes científicas tienden a exhibir tres propiedades estructurales fundamentales: 1) estructuras centro-periferia, 2) cohesión estructural, y 3) características de mundo pequeño. Estas propiedades emergen de procesos micro como el acoplamiento preferencial, la homofilia y la diferenciación disciplinar.\nEn campos emergentes como la ciencia de la sustentabilidad, Gondal sugiere que la centralización temprana juega un rol crucial: unos pocos académicos altamente productivos se vuelven fundamentales para el desarrollo y la conectividad del campo. Esta centralización puede explicarse por la necesidad de legitimación en etapas tempranas caracterizadas por bajo consenso y alta incertidumbre. Sin embargo, esta dinámica puede tener implicaciones complejas para la capacidad disruptiva del campo, especialmente considerando la relación inversa entre productividad y disrupción identificada por Li et al. (2024).\nLos modelos ERGM proporcionan un marco metodológico robusto para examinar cómo estas dinámicas micro-macro emergen de la interacción entre características individuales y patrones estructurales. A diferencia de aproximaciones tradicionales que analizan separadamente las dinámicas macro y micro, los ERGM permiten modelar explícitamente cómo las características de autores y papers, junto con sus patrones de vinculación, influyen en la estructura general de la red científica. Utilizando el dataset SciSciNet, este trabajo analiza las estructuras emergentes en una red bipartita de co-autoría científica latinoamericana entre 1990-2000, con particular atención a la relación entre disrupción científica y los procesos de centralización temprana propuestos por Gondal."
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#introducción",
    "href": "blog/posts/04-twomode-ergm/index.html#introducción",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "",
    "text": "La ciencia de la sustentabilidad requiere urgentemente de innovación transformadora para abordar desafíos socio-ambientales complejos. Comprender cómo emerge la investigación disruptiva en las redes científicas es, por tanto, crucial. Li et al. (2024) han demostrado una relación inversa entre productividad y disrupción científica, pero los mecanismos estructurales subyacentes a este fenómeno permanecen poco claros, particularmente en el contexto de redes modo-2 que vinculan autores y publicaciones.\nSiguiendo a Gondal (2011), entendemos que el análisis de campos científicos emergentes requiere considerar simultáneamente las propiedades micro y macro de las redes de producción de conocimiento. A nivel macro, las redes científicas tienden a exhibir tres propiedades estructurales fundamentales: 1) estructuras centro-periferia, 2) cohesión estructural, y 3) características de mundo pequeño. Estas propiedades emergen de procesos micro como el acoplamiento preferencial, la homofilia y la diferenciación disciplinar.\nEn campos emergentes como la ciencia de la sustentabilidad, Gondal sugiere que la centralización temprana juega un rol crucial: unos pocos académicos altamente productivos se vuelven fundamentales para el desarrollo y la conectividad del campo. Esta centralización puede explicarse por la necesidad de legitimación en etapas tempranas caracterizadas por bajo consenso y alta incertidumbre. Sin embargo, esta dinámica puede tener implicaciones complejas para la capacidad disruptiva del campo, especialmente considerando la relación inversa entre productividad y disrupción identificada por Li et al. (2024).\nLos modelos ERGM proporcionan un marco metodológico robusto para examinar cómo estas dinámicas micro-macro emergen de la interacción entre características individuales y patrones estructurales. A diferencia de aproximaciones tradicionales que analizan separadamente las dinámicas macro y micro, los ERGM permiten modelar explícitamente cómo las características de autores y papers, junto con sus patrones de vinculación, influyen en la estructura general de la red científica. Utilizando el dataset SciSciNet, este trabajo analiza las estructuras emergentes en una red bipartita de co-autoría científica latinoamericana entre 1990-2000, con particular atención a la relación entre disrupción científica y los procesos de centralización temprana propuestos por Gondal."
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#configuración-inicial-y-carga-de-datos",
    "href": "blog/posts/04-twomode-ergm/index.html#configuración-inicial-y-carga-de-datos",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Configuración Inicial y Carga de Datos",
    "text": "Configuración Inicial y Carga de Datos\n\n# 1. Cargar paquetes necesarios\nlibrary(osfr)\nlibrary(tidyverse)\nlibrary(ergm)\nlibrary(Matrix)\nlibrary(network)\nlibrary(ggraph)\nlibrary(tidygraph)\nlibrary(kableExtra)\nlibrary(igraph)\nlibrary(sna)\n\n\n# Configurar tema para visualizaciones\ntheme_set(theme_minimal())\n\n\n# 2. datos \nload(\"/home/rober/Documents/rcantillan.github.io/blog/posts/04-twomode-ergm/data/b3_fromlatam_1990_2000.RData\")\n\n# 3. Filtrar datos de Latam\n#b3_fromlatam &lt;- b3_joined %&gt;%\n#  filter(DocType == \"Journal\") %&gt;%\n#  group_by(PaperID) %&gt;%\n#  filter(latam_prop &gt;= 0.5 |\n#           any(AuthorSequenceNumber == 1 & is_latam == 1)) %&gt;%\n#  ungroup()\n#\n## 4. Filtrar por tiempo\n#rm(b3_joined)\n#gc()\n#b3_fromlatam_1990_2000 &lt;- b3_fromlatam %&gt;% filter(Year &lt; 2000)"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#preparación-de-datos",
    "href": "blog/posts/04-twomode-ergm/index.html#preparación-de-datos",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Preparación de Datos",
    "text": "Preparación de Datos\nSiguiendo la conceptualización de Gondal sobre campos científicos emergentes, es crucial identificar y operacionalizar tres tipos de variables:\n\nIndicadores de centralización temprana (ej. productividad, citaciones)\nMedidas de diferenciación disciplinar (ej. campos STEM vs SHAPE)\nMétricas de disrupción que capturen la innovación en el campo\n\nLa siguiente preparación de datos organiza estas dimensiones:\n\n\nCode\n# 5. Preparación y limpieza\nclean_data &lt;- b3_fromlatam_1990_2000 %&gt;%\n  filter(!is.na(Disruption),\n         !is.na(CitationCount), \n         !is.na(H.index_auth),\n         !is.na(Average_C10_auth),\n         !is.na(Productivity_auth),\n         !is.na(Affiliation_Name),\n         !is.na(is_latam),\n         !is.na(Institution_Count),\n         !is.na(Field_Name),\n         !is.na(Field_Type)) %&gt;%\n  filter(Field_Type == \"Top\")\n\n# 6. Estandarización de variables para comparabilidad entre campos\nclean_data &lt;- clean_data %&gt;%\n  mutate(\n    disruption_std = as.vector(scale(Disruption)),\n    citations_std = as.vector(scale(log1p(CitationCount))),\n    h_index_std = as.vector(scale(log1p(H.index_auth))),\n    avg_c10_std = as.vector(scale(log1p(Average_C10_auth))),\n    productivity_std = as.vector(scale(log1p(Productivity_auth))),\n    # Clasificación disciplinar siguiendo la distinción \n    # teórica entre campos más y menos establecidos\n    field_broad = case_when(\n      Field_Name %in% c(\n        \"Biology\", \"Chemistry\", \"Computer science\",\n        \"Engineering\", \"Environmental science\", \"Geography\",\n        \"Materials science\", \"Mathematics\", \"Medicine\"\n      ) ~ \"STEM\",\n      Field_Name %in% c(\n        \"Business\", \"Economics\", \"Political science\", \"Sociology\"\n      ) ~ \"SHAPE\",\n      TRUE ~ NA_character_\n    )\n  )"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#construcción-de-la-red-bipartita",
    "href": "blog/posts/04-twomode-ergm/index.html#construcción-de-la-red-bipartita",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Construcción de la Red Bipartita",
    "text": "Construcción de la Red Bipartita\nLa perspectiva de Gondal sobre la dualidad estructural sugiere que la estructura del conocimiento emerge de la interacción entre dos modos: autores y documentos. Para capturar esta dualidad, construimos una red bipartita donde:\n\nEl primer modo (papers) representa los vehículos de conocimiento\nEl segundo modo (autores) representa los productores de conocimiento\nLos vínculos entre modos capturan las relaciones de autoría\n\nEsta estructura nos permite examinar cómo las propiedades de cada modo contribuyen a la emergencia de patrones macro:\n\n\nCode\n# 7. Atributos por modo siguiendo la dualidad estructural\npaper_attributes &lt;- clean_data %&gt;%\n  group_by(PaperID) %&gt;%\n  slice(1) %&gt;%\n  ungroup() %&gt;%\n  select(PaperID, disruption_std, citations_std, \n         Institution_Count, Field_Name, field_broad)\n\nauthor_attributes &lt;- clean_data %&gt;%\n  group_by(AuthorID) %&gt;%\n  slice(1) %&gt;%\n  ungroup()\n\n# 8. Crear matriz de incidencia y red bipartita\npapers &lt;- unique(paper_attributes$PaperID)\nauthors &lt;- unique(author_attributes$AuthorID)\n\n# Matriz de incidencia que captura la dualidad autor-paper\npaper_author_matrix &lt;- sparseMatrix(\n  i = match(clean_data$PaperID, papers),\n  j = match(clean_data$AuthorID, authors),\n  x = 1,\n  dims = c(length(papers), length(authors))\n)"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#construcción-y-visualización-de-la-red",
    "href": "blog/posts/04-twomode-ergm/index.html#construcción-y-visualización-de-la-red",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Construcción y Visualización de la Red",
    "text": "Construcción y Visualización de la Red\nLa visualización de redes bipartitas presenta desafíos particulares que Gondal (2011) aborda en su análisis. Es crucial representar visualmente las tres propiedades macro que teóricamente caracterizan los campos emergentes: estructura centro-periferia, cohesión estructural y características de mundo pequeño. Para esto, primero necesitamos establecer atributos que nos permitan identificar roles estructurales:\n\n# Crear la red bipartita con los atributos necesarios\nnet_bipartite &lt;- network(\n  paper_author_matrix,\n  matrix.type = \"bipartite\",\n  directed = FALSE\n)\n\n# Asignación de atributos siguiendo la teoría de Gondal\n# Modo 1 (Papers): Vehículos de conocimiento\nnet_bipartite %v% \"disruption\" &lt;- paper_attributes$disruption_std\nnet_bipartite %v% \"citations\" &lt;- paper_attributes$citations_std\nnet_bipartite %v% \"inst_count\" &lt;- paper_attributes$Institution_Count\nnet_bipartite %v% \"field\" &lt;- paper_attributes$Field_Name\nnet_bipartite %v% \"field_broad\" &lt;- paper_attributes$field_broad\n\n# Modo 2 (Autores): Productores de conocimiento\nnet_bipartite %v% \"h_index\" &lt;- author_attributes$h_index_std\nnet_bipartite %v% \"avg_c10\" &lt;- author_attributes$avg_c10_std\nnet_bipartite %v% \"affiliation\" &lt;- author_attributes$Affiliation_Name\nnet_bipartite %v% \"is_latam\" &lt;- author_attributes$is_latam\nnet_bipartite %v% \"productivity\" &lt;- author_attributes$productivity_std"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#visualización-de-la-estructura-centro-periferia",
    "href": "blog/posts/04-twomode-ergm/index.html#visualización-de-la-estructura-centro-periferia",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Visualización de la Estructura Centro-Periferia",
    "text": "Visualización de la Estructura Centro-Periferia\nSiguiendo a Gondal, la estructura centro-periferia es especialmente relevante en campos emergentes. Para visualizarla, necesitamos primero identificar los roles estructurales de los nodos:\n\n# Configuración de roles estructurales\nn_vertices &lt;- network.size(net_bipartite)\nbipartite_value &lt;- 161  # Número de papers\n\n# Vector para identificar tipos de nodos\nis_actor &lt;- rep(FALSE, n_vertices)\nis_actor[(bipartite_value + 1):n_vertices] &lt;- TRUE\nnet_bipartite %v% \"is_actor\" &lt;- is_actor\n\n# Etiquetas para visualización\nnode_labels &lt;- rep(\"Autor\", n_vertices)\nnode_labels[1:bipartite_value] &lt;- \"Paper\"\nnet_bipartite %v% \"tipo\" &lt;- node_labels\n\n# Calculamos grados para el objeto network\nnode_degrees &lt;- degree(net_bipartite, gmode=\"graph\")\nscaled_degrees &lt;- scales::rescale(node_degrees, to = c(2, 15))\n\n# Asignamos los grados como atributo de vértice\nnet_bipartite %v% \"node_size\" &lt;- scaled_degrees\n\nggraph(net_bipartite, layout = \"graphopt\") + \n  # Edges\n  geom_edge_link0(edge_colour = \"black\", \n                  edge_width = 0.4,\n                  alpha = 1) +\n  # Nodos\n  geom_node_point(aes(fill = tipo,\n                      size = node_size,\n                      shape = tipo),\n                  colour = \"white\",\n                  stroke = 0.5) +\n  # Escalas personalizadas\n  scale_fill_manual(values = c(\"Paper\" = \"#003f5c\", \n                              \"Autor\" = \"#ffa600\"),\n                    guide = guide_legend(override.aes = list(size = 5))) +  # Reducido de 8 a 5\n  scale_shape_manual(values = c(\"Paper\" = 24, \n                               \"Autor\" = 21),\n                    guide = guide_legend(override.aes = list(size = 5))) +  # Reducido de 8 a 5\n  scale_size_continuous(range = c(2, 6),\n                       guide = \"none\") +\n  \n  # Tema y leyendas\n  theme_graph(background = \"white\") +\n  theme(legend.position = \"right\",\n        legend.box.background = element_rect(color = \"black\", size = 0.3),\n        legend.key.size = unit(1, 'cm'),  # Reducido de 1.5 a 1\n        legend.key.height = unit(0.8, 'cm'), # Reducido de 1.5 a 1\n        legend.key.width = unit(0.6, 'cm'),  # Reducido de 1.5 a 1\n        legend.margin = margin(6, 6, 6, 6),\n        legend.text = element_text(size = 10),\n        plot.title = element_text(size = 14, face = \"bold\"),\n        plot.subtitle = element_text(size = 11)) +\n  \n  # Etiquetas\n  labs(fill = \"Tipo de Entidad\",\n       shape = \"Tipo de Entidad\", \n       title = \"Red de Colaboración Bipartita\",\n       subtitle = \"\")"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#propiedades-estructurales-de-la-red",
    "href": "blog/posts/04-twomode-ergm/index.html#propiedades-estructurales-de-la-red",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Propiedades Estructurales de la Red",
    "text": "Propiedades Estructurales de la Red\nSiguiendo a Gondal (2011), analizamos tres propiedades estructurales fundamentales de la red bipartita de colaboración científica:\n\nEstadísticas Descriptivas Básicas\n\n# Estadísticas básicas de la red\nsummary(net_bipartite, print.adj = FALSE)\n\n# Densidad\nnetwork.density(net_bipartite)\n\n# Distancia promedio y diámetro \ngeodist &lt;- geodist(net_bipartite)\nmean(geodist$gdist[geodist$gdist != Inf])\nmax(geodist$gdist[geodist$gdist != Inf])\n\n\n# Análisis de k-cores\nkcores &lt;- kcores(net_bipartite)\n\n# Distribución de k-cores\ntable(kcores)\n\nkcores\n  2   4 \n424  21 \n\n# Componentes\ncomponents &lt;- component.dist(net_bipartite)\ntable(components$csize)\n\n\n 2  3  4  5  6  7  9 15 22 \n67 34 21  7  5  2  1  1  1 \n\n\n\n# Crear tabla resumen de estadísticos de red\nnetwork_summary &lt;- data.frame(\n  Metric = c(\n    \"Número de nodos (total)\",\n    \"  Papers\",\n    \"  Autores\",\n    \"Enlaces totales\",\n    \"Densidad\",\n    \"Distancia promedio\",\n    \"Diámetro\",\n    \"Distribución k-cores\",\n    \"  k=2\",\n    \"  k=4\",\n    \"Componentes\",\n    \"  Tamaño máximo\",\n    \"  Componentes aislados\"\n  ),\n  Value = c(\n    \"445\",\n    \"161\",\n    \"284\",\n    \"312\",\n    \"0.003\",\n    \"1.86\",\n    \"8\",\n    \"\",\n    \"424\",\n    \"21\",\n    \"\",\n    \"22\",\n    \"139\"\n  ),\n  Description = c(\n    \"Total de vértices en la red\",\n    \"Artículos científicos\",\n    \"Investigadores\",\n    \"Vínculos de coautoría\",\n    \"Proporción de vínculos posibles realizados\",\n    \"Número promedio de pasos entre nodos\",\n    \"Máxima distancia entre dos nodos\",\n    \"Distribución de núcleos-k\",\n    \"Nodos con al menos 2 conexiones\",\n    \"Nodos con al menos 4 conexiones\",\n    \"Subgrupos conectados\",\n    \"Tamaño del componente más grande\",\n    \"Número de componentes desconectados\"\n  )\n)\n\n# Mostrar tabla con formato\nnetwork_summary %&gt;%\n  kable(col.names = c(\"Métrica\", \"Valor\", \"Descripción\"),\n        caption = \"Estadísticas Descriptivas de la Red\") %&gt;%\n  kable_classic_2(full_width = F) %&gt;% \n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\", \"responsive\")) %&gt;% \n  pack_rows(\"Características Básicas\", 1, 4) %&gt;%\n  pack_rows(\"Medidas de Cohesión\", 5, 7) %&gt;%\n  pack_rows(\"Estructura Núcleo-Periferia\", 8, 10) %&gt;%\n  pack_rows(\"Fragmentación\", 11, 13)\n\n\n\nEstadísticas Descriptivas de la Red\n\n\nMétrica\nValor\nDescripción\n\n\n\n\nCaracterísticas Básicas\n\n\nNúmero de nodos (total)\n445\nTotal de vértices en la red\n\n\nPapers\n161\nArtículos científicos\n\n\nAutores\n284\nInvestigadores\n\n\nEnlaces totales\n312\nVínculos de coautoría\n\n\nMedidas de Cohesión\n\n\nDensidad\n0.003\nProporción de vínculos posibles realizados\n\n\nDistancia promedio\n1.86\nNúmero promedio de pasos entre nodos\n\n\nDiámetro\n8\nMáxima distancia entre dos nodos\n\n\nEstructura Núcleo-Periferia\n\n\nDistribución k-cores\n\nDistribución de núcleos-k\n\n\nk=2\n424\nNodos con al menos 2 conexiones\n\n\nk=4\n21\nNodos con al menos 4 conexiones\n\n\nFragmentación\n\n\nComponentes\n\nSubgrupos conectados\n\n\nTamaño máximo\n22\nTamaño del componente más grande\n\n\nComponentes aislados\n139\nNúmero de componentes desconectados"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#análisis-de-distribución-de-grados",
    "href": "blog/posts/04-twomode-ergm/index.html#análisis-de-distribución-de-grados",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Análisis de Distribución de Grados",
    "text": "Análisis de Distribución de Grados\nGondal sugiere que en campos emergentes, la distribución de grados debería mostrar señales de centralización temprana. Específicamente, deberíamos observar:\n\nUna alta proporción de autores con pocos vínculos\nUn pequeño grupo de autores altamente conectados\nPatrones diferentes entre papers y autores\n\n\ndegreedist(net_bipartite)\n\nBipartite mode 2 degree distribution:\n  0   1   2   3   4   5 \n161 264  15   3   1   1 \nBipartite mode 1 degree distribution:\n  0   1   2   3   4   5   6   8 \n284  80  45  20   8   4   1   3 \n\n\n\n# Crear dataframes para cada modo\nmode1_data &lt;- data.frame(\n  grado = c(0, 1, 2, 3, 4, 5, 6, 8),\n  frecuencia = c(284, 80, 45, 20, 8, 4, 1, 3),\n  modo = \"Modo 1 (Papers)\"\n)\n\nmode2_data &lt;- data.frame(\n  grado = c(0, 1, 2, 3, 4, 5),\n  frecuencia = c(161, 264, 15, 3, 1, 1),\n  modo = \"Modo 2 (Autores)\"\n)\n\n# Combinar los datos\ndegree_data &lt;- rbind(mode1_data, mode2_data)\n\n# Crear el gráfico\nggplot(degree_data, aes(x = grado, y = frecuencia, fill = modo)) +\n  geom_bar(stat = \"identity\", position = \"dodge\", alpha = 0.8) +\n  scale_fill_manual(values = c( \"#ffa600\", \"#003f5c\")) +\n  labs(title = \"Distribución de Grados\",\n       subtitle = \"\",\n       x = \"Grado\",\n       y = \"\",\n       fill = \"Entidad\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\"),\n    legend.position = \"bottom\"\n  ) +\n  scale_x_continuous(breaks = 0:8) +\n  scale_y_continuous(expand = c(0, 30)) +\n  geom_text(aes(label = frecuencia), \n            position = position_dodge(width = 0.9),\n            vjust = -0.5,\n            size = 3)\n\n\n\n\n\n# Para las métricas, usamos funciones de sna\nbipartite_metrics &lt;- data.frame(\n  node = network.vertex.names(net_bipartite),\n  tipo = net_bipartite %v% \"tipo\",\n  degree = degree(net_bipartite, gmode=\"graph\"),\n  betweenness = betweenness(net_bipartite),\n  eigenvector = evcent(net_bipartite)\n) %&gt;%\n  group_by(tipo) %&gt;%\n  summarise(\n    avg_degree = mean(degree),\n    max_degree = max(degree),\n    avg_betweenness = mean(betweenness),\n    avg_eigenvector = mean(eigenvector)\n  )\n\nWarning in evcent(net_bipartite): Maximum iterations exceeded in evcent_R\nwithout convergence.  This matrix may be pathological - increase maxiter or try\neigen().\n\nkable(as_tibble(bipartite_metrics), caption = \"Resumen centralidad por entidad\") %&gt;% \n  kable_classic_2(full_width = F) %&gt;% \n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\", \"responsive\"))\n\n\n\nResumen centralidad por entidad\n\n\ntipo\navg_degree\nmax_degree\navg_betweenness\navg_eigenvector\n\n\n\n\nAutor\n1.098591\n5\n2.809859\n0.0086389\n\n\nPaper\n1.937888\n8\n9.366460\n0.0060304"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#análisis-ergm-modelando-mecanismos-generativos",
    "href": "blog/posts/04-twomode-ergm/index.html#análisis-ergm-modelando-mecanismos-generativos",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Análisis ERGM: Modelando Mecanismos Generativos",
    "text": "Análisis ERGM: Modelando Mecanismos Generativos\nSiguiendo a Gondal (2011), el modelamiento ERGM nos permite examinar los mecanismos micro que generan las estructuras macro observadas. Desarrollamos una estrategia de modelamiento en cuatro etapas, cada una capturando diferentes aspectos teóricos:\n\nModelo Base: Examina la tendencia base a formar vínculos y el efecto de los campos disciplinares\nModelo de Grados: Incorpora la geometría ponderada de grados para capturar centralización\nModelo con Covariables: Agrega atributos nodales como disrupción y productividad\nModelo Final: Integra efectos de interacción y homofilia disciplinar\n\n\n\nCode\n# 10. Modelos ERGM\n## 1. Modelo simple \nmodel_simple &lt;- ergm(\n  net_bipartite ~ edges + b1factor(\"field_broad\"),\n  control = control.ergm(\n    MCMLE.maxit = 5,\n    MCMC.samplesize = 1000,\n    MCMLE.termination = \"Hummel\"\n  )\n)\n\n## 2. Modelo con términos de grado\nmodel_degrees &lt;- ergm(\n  net_bipartite ~ \n    edges +\n    gwb1degree(decay = 0.25, fixed = T) +\n    gwb2degree(decay = 0.25, fixed = T) +\n    b1factor(\"field_broad\"),\n  control = control.ergm(\n    init = c(coef(model_simple), rep(0, 2)),\n    MCMLE.maxit = 10,\n    MCMC.samplesize = 2000,\n    MCMLE.termination = \"Hummel\"\n  )\n)\n\n## 3. Modelo con covariables\nmodel_covars &lt;- ergm(\n  net_bipartite ~ \n    edges +\n    gwb1degree(decay = 0.25, fixed = T) +\n    gwb2degree(decay = 0.25, fixed = T) +\n    b1factor(\"field_broad\") +\n    b1cov(\"disruption\") +\n    b2cov(\"productivity\"),\n  control = control.ergm(\n    init = c(coef(model_degrees), rep(0, 2)),\n    MCMLE.maxit = 15,\n    MCMC.samplesize = 3000,\n    MCMLE.termination = \"Hummel\"\n  )\n)\n\n## 4. Modelo final optimizado\nmodel_final &lt;- ergm(\n  net_bipartite ~ \n    edges +\n    gwb1degree(decay = 0.25, fixed = T) +\n    gwb2degree(decay = 0.25, fixed = T) +\n    b1cov(\"disruption\") +\n    b2cov(\"productivity\") +\n    b1factor(\"field_broad\") +\n    b1nodematch(\"field_broad\", diff=T) +\n    b1cov(\"disruption\"):b2cov(\"productivity\"),\n  control = control.ergm(\n    init = c(coef(model_covars), rep(0, 3)),\n    seed = 123,\n    MCMLE.maxit = 14,\n    MCMC.burnin = 1000,      \n    MCMC.interval = 50,      \n    MCMC.samplesize = 2000,  \n    parallel = 2,\n    parallel.type = \"PSOCK\",\n    MCMLE.termination = \"Hummel\"\n  )\n)\n\n\n\nsummary(model_final)\n\nCall:\nergm(formula = net_bipartite ~ edges + gwb1degree(decay = 0.25, \n    fixed = T) + gwb2degree(decay = 0.25, fixed = T) + b1cov(\"disruption\") + \n    b2cov(\"productivity\") + b1factor(\"field_broad\") + b1nodematch(\"field_broad\", \n    diff = T) + b1cov(\"disruption\"):b2cov(\"productivity\"), control = control.ergm(init = c(coef(model_covars), \n    rep(0, 3)), seed = 123, MCMLE.maxit = 14, MCMC.burnin = 1000, \n    MCMC.interval = 50, MCMC.samplesize = 2000, parallel = 2, \n    parallel.type = \"PSOCK\", MCMLE.termination = \"Hummel\"))\n\nMonte Carlo Maximum Likelihood Results:\n\n                                     Estimate Std. Error MCMC % z value\nedges                               -9.203853   0.230544      0 -39.922\ngwb1deg.fixed.0.25                  -0.025349   0.379722      0  -0.067\ngwb2deg.fixed.0.25                   8.415840   0.792326      0  10.622\nb1cov.disruption                     0.250488   0.030125      0   8.315\nb2cov.productivity                  -0.176610   0.011439     12 -15.440\nb1factor.field_broad.STEM            0.720912   0.147742      0   4.880\nb1nodematch.field_broad.SHAPE        1.145804   0.005592      0 204.893\nb1nodematch.field_broad.STEM         0.182787   0.402028      0   0.455\nb1cov.disruption:b2cov.productivity  0.026336   0.029922      0   0.880\n                                    Pr(&gt;|z|)    \nedges                                 &lt;1e-04 ***\ngwb1deg.fixed.0.25                     0.947    \ngwb2deg.fixed.0.25                    &lt;1e-04 ***\nb1cov.disruption                      &lt;1e-04 ***\nb2cov.productivity                    &lt;1e-04 ***\nb1factor.field_broad.STEM             &lt;1e-04 ***\nb1nodematch.field_broad.SHAPE         &lt;1e-04 ***\nb1nodematch.field_broad.STEM           0.649    \nb1cov.disruption:b2cov.productivity    0.379    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n     Null Deviance: 63387  on 45724  degrees of freedom\n Residual Deviance: 33338  on 45715  degrees of freedom\n \nAIC: 33356  BIC: 33434  (Smaller is better. MC Std. Err. = 1884)\n\n\n\nDiagnósticos del Modelo\n\n# Bondad de ajuste\ngof_model &lt;- gof(model_final)\nplot(gof_model)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# MCMC diagnósticos\nmcmc.diagnostics(model_final)\n\n\n\n\n\n\n\n\n\n\nSample statistics summary:\n\nIterations = 26368000:70400000\nThinning interval = 51200 \nNumber of chains = 2 \nSample size per chain = 861 \n\n1. Empirical mean and standard deviation for each variable,\n   plus standard error of the mean:\n\n                                          Mean        SD  Naive SE\nedges                                 2873.303   454.888  10.96195\ngwb1deg.fixed.0.25                       7.084     2.974   0.07167\ngwb2deg.fixed.0.25                       8.952     2.311   0.05568\nb1cov.disruption                       191.970    36.613   0.88232\nb2cov.productivity                   -2351.764   462.216  11.13854\nb1factor.field_broad.STEM              -11.666     8.958   0.21587\nb1nodematch.field_broad.SHAPE       117886.063 18638.778 449.15979\nb1nodematch.field_broad.STEM            -1.067     3.126   0.07534\nb1cov.disruption:b2cov.productivity     43.180    36.829   0.88750\n                                    Time-series SE\nedges                                    2.329e+02\ngwb1deg.fixed.0.25                       9.076e-02\ngwb2deg.fixed.0.25                       3.922e-01\nb1cov.disruption                         1.287e+00\nb2cov.productivity                       2.302e+02\nb1factor.field_broad.STEM                7.143e-01\nb1nodematch.field_broad.SHAPE            9.716e+03\nb1nodematch.field_broad.STEM             7.528e-02\nb1cov.disruption:b2cov.productivity      1.301e+00\n\n2. Quantiles for each variable:\n\n                                          2.5%        25%        50%        75%\nedges                                2255.0000   2510.000   2830.500   3078.000\ngwb1deg.fixed.0.25                      0.8091      5.157      7.239      9.147\ngwb2deg.fixed.0.25                      4.4309      7.456      8.921     10.503\nb1cov.disruption                      122.3901    167.216    190.157    215.205\nb2cov.productivity                  -3461.6042  -2594.550  -2389.737  -2088.569\nb1factor.field_broad.STEM             -30.0000    -18.000    -12.000     -5.000\nb1nodematch.field_broad.SHAPE       92974.0000 102943.000 116225.000 126191.000\nb1nodematch.field_broad.STEM           -7.0000     -3.000     -1.000      1.000\nb1cov.disruption:b2cov.productivity   -27.3975     17.347     43.188     68.207\n                                        97.5%\nedges                                 4042.00\ngwb1deg.fixed.0.25                      12.43\ngwb2deg.fixed.0.25                      13.63\nb1cov.disruption                       268.28\nb2cov.productivity                   -1613.88\nb1factor.field_broad.STEM                6.00\nb1nodematch.field_broad.SHAPE       166038.00\nb1nodematch.field_broad.STEM             5.00\nb1cov.disruption:b2cov.productivity    115.16\n\n\nSample statistics cross-correlations:\n                                          edges gwb1deg.fixed.0.25\nedges                                1.00000000       -0.172522115\ngwb1deg.fixed.0.25                  -0.17252211        1.000000000\ngwb2deg.fixed.0.25                   0.66059838        0.002725154\nb1cov.disruption                    -0.07771376       -0.259994785\nb2cov.productivity                  -0.95843224        0.174370751\nb1factor.field_broad.STEM           -0.40123436        0.494980540\nb1nodematch.field_broad.SHAPE        0.99989700       -0.173689653\nb1nodematch.field_broad.STEM        -0.04750127        0.233161349\nb1cov.disruption:b2cov.productivity  0.04830690       -0.051283722\n                                    gwb2deg.fixed.0.25 b1cov.disruption\nedges                                      0.660598378     -0.077713761\ngwb1deg.fixed.0.25                         0.002725154     -0.259994785\ngwb2deg.fixed.0.25                         1.000000000     -0.022243256\nb1cov.disruption                          -0.022243256      1.000000000\nb2cov.productivity                        -0.616621141      0.081924264\nb1factor.field_broad.STEM                 -0.094626904      0.003782881\nb1nodematch.field_broad.SHAPE              0.654178966     -0.078928188\nb1nodematch.field_broad.STEM               0.231033433      0.057840555\nb1cov.disruption:b2cov.productivity        0.047024313      0.146076341\n                                    b2cov.productivity\nedges                                      -0.95843224\ngwb1deg.fixed.0.25                          0.17437075\ngwb2deg.fixed.0.25                         -0.61662114\nb1cov.disruption                            0.08192426\nb2cov.productivity                          1.00000000\nb1factor.field_broad.STEM                   0.40047431\nb1nodematch.field_broad.SHAPE              -0.95864483\nb1nodematch.field_broad.STEM                0.06282278\nb1cov.disruption:b2cov.productivity        -0.05672420\n                                    b1factor.field_broad.STEM\nedges                                            -0.401234358\ngwb1deg.fixed.0.25                                0.494980540\ngwb2deg.fixed.0.25                               -0.094626904\nb1cov.disruption                                  0.003782881\nb2cov.productivity                                0.400474312\nb1factor.field_broad.STEM                         1.000000000\nb1nodematch.field_broad.SHAPE                    -0.404181223\nb1nodematch.field_broad.STEM                      0.466323491\nb1cov.disruption:b2cov.productivity              -0.007898034\n                                    b1nodematch.field_broad.SHAPE\nedges                                                  0.99989700\ngwb1deg.fixed.0.25                                    -0.17368965\ngwb2deg.fixed.0.25                                     0.65417897\nb1cov.disruption                                      -0.07892819\nb2cov.productivity                                    -0.95864483\nb1factor.field_broad.STEM                             -0.40418122\nb1nodematch.field_broad.SHAPE                          1.00000000\nb1nodematch.field_broad.STEM                          -0.05339355\nb1cov.disruption:b2cov.productivity                    0.04807190\n                                    b1nodematch.field_broad.STEM\nedges                                                -0.04750127\ngwb1deg.fixed.0.25                                    0.23316135\ngwb2deg.fixed.0.25                                    0.23103343\nb1cov.disruption                                      0.05784056\nb2cov.productivity                                    0.06282278\nb1factor.field_broad.STEM                             0.46632349\nb1nodematch.field_broad.SHAPE                        -0.05339355\nb1nodematch.field_broad.STEM                          1.00000000\nb1cov.disruption:b2cov.productivity                   0.01387605\n                                    b1cov.disruption:b2cov.productivity\nedges                                                       0.048306905\ngwb1deg.fixed.0.25                                         -0.051283722\ngwb2deg.fixed.0.25                                          0.047024313\nb1cov.disruption                                            0.146076341\nb2cov.productivity                                         -0.056724203\nb1factor.field_broad.STEM                                  -0.007898034\nb1nodematch.field_broad.SHAPE                               0.048071900\nb1nodematch.field_broad.STEM                                0.013876050\nb1cov.disruption:b2cov.productivity                         1.000000000\n\nSample statistics auto-correlation:\nChain 1 \n               edges gwb1deg.fixed.0.25 gwb2deg.fixed.0.25 b1cov.disruption\nLag 0      1.0000000         1.00000000          1.0000000       1.00000000\nLag 51200  0.9957073         0.10760221          0.4258354       0.29578143\nLag 102400 0.9913866         0.10424942          0.4239399       0.13494803\nLag 153600 0.9870320         0.11978661          0.4079817       0.06202022\nLag 204800 0.9825409         0.05762790          0.4060338       0.06616840\nLag 256000 0.9780135         0.05145538          0.4188977       0.04642549\n           b2cov.productivity b1factor.field_broad.STEM\nLag 0               1.0000000                 1.0000000\nLag 51200           0.9951934                 0.3161863\nLag 102400          0.9902297                 0.1863174\nLag 153600          0.9851775                 0.1993029\nLag 204800          0.9800136                 0.1660351\nLag 256000          0.9748722                 0.1131634\n           b1nodematch.field_broad.SHAPE b1nodematch.field_broad.STEM\nLag 0                          1.0000000                  1.000000000\nLag 51200                      0.9958176                 -0.010987626\nLag 102400                     0.9915110                  0.009067214\nLag 153600                     0.9871141                 -0.023315398\nLag 204800                     0.9826529                 -0.064200933\nLag 256000                     0.9781489                 -0.007776156\n           b1cov.disruption:b2cov.productivity\nLag 0                              1.000000000\nLag 51200                          0.355810694\nLag 102400                         0.142856019\nLag 153600                         0.074919115\nLag 204800                         0.015522930\nLag 256000                        -0.008811173\nChain 2 \n               edges gwb1deg.fixed.0.25 gwb2deg.fixed.0.25 b1cov.disruption\nLag 0      1.0000000       1.000000e+00          1.0000000       1.00000000\nLag 51200  0.9966113       9.300632e-02          0.3585864       0.33185214\nLag 102400 0.9932613       7.217821e-02          0.3487627       0.15676357\nLag 153600 0.9896649       7.800557e-05          0.3638300       0.06569429\nLag 204800 0.9860621      -1.900990e-03          0.3640678       0.02662369\nLag 256000 0.9824082       1.204084e-02          0.3648956       0.04600024\n           b2cov.productivity b1factor.field_broad.STEM\nLag 0               1.0000000                 1.0000000\nLag 51200           0.9976672                 0.2407956\nLag 102400          0.9953312                 0.1274517\nLag 153600          0.9927430                 0.1754514\nLag 204800          0.9901385                 0.1341961\nLag 256000          0.9874578                 0.1285860\n           b1nodematch.field_broad.SHAPE b1nodematch.field_broad.STEM\nLag 0                          1.0000000                   1.00000000\nLag 51200                      0.9967629                   0.00269752\nLag 102400                     0.9933895                  -0.02381824\nLag 153600                     0.9899089                   0.02625233\nLag 204800                     0.9863511                   0.01951925\nLag 256000                     0.9827354                  -0.06260308\n           b1cov.disruption:b2cov.productivity\nLag 0                              1.000000000\nLag 51200                          0.375026853\nLag 102400                         0.141676291\nLag 153600                         0.086654826\nLag 204800                         0.040823203\nLag 256000                         0.005910934\n\nSample statistics burn-in diagnostic (Geweke):\nChain 1 \n\nFraction in 1st window = 0.1\nFraction in 2nd window = 0.5 \n\n                              edges                  gwb1deg.fixed.0.25 \n                         -2.4677899                           2.4151524 \n                 gwb2deg.fixed.0.25                    b1cov.disruption \n                         -3.6503130                           1.0515568 \n                 b2cov.productivity           b1factor.field_broad.STEM \n                          3.2471482                           5.2155740 \n      b1nodematch.field_broad.SHAPE        b1nodematch.field_broad.STEM \n                         -2.4519307                           0.6756746 \nb1cov.disruption:b2cov.productivity \n                          0.2588515 \n\nIndividual P-values (lower = worse):\n                              edges                  gwb1deg.fixed.0.25 \n                       1.359501e-02                        1.572863e-02 \n                 gwb2deg.fixed.0.25                    b1cov.disruption \n                       2.619210e-04                        2.930029e-01 \n                 b2cov.productivity           b1factor.field_broad.STEM \n                       1.165677e-03                        1.832488e-07 \n      b1nodematch.field_broad.SHAPE        b1nodematch.field_broad.STEM \n                       1.420920e-02                        4.992473e-01 \nb1cov.disruption:b2cov.productivity \n                       7.957498e-01 \nJoint P-value (lower = worse):  0.02823704 \nChain 2 \n\nFraction in 1st window = 0.1\nFraction in 2nd window = 0.5 \n\n                              edges                  gwb1deg.fixed.0.25 \n                         -4.5824721                           1.2957169 \n                 gwb2deg.fixed.0.25                    b1cov.disruption \n                         -6.2305249                           0.6692033 \n                 b2cov.productivity           b1factor.field_broad.STEM \n                          7.7468666                           5.6561198 \n      b1nodematch.field_broad.SHAPE        b1nodematch.field_broad.STEM \n                         -4.4312582                           0.5317990 \nb1cov.disruption:b2cov.productivity \n                         -0.4621040 \n\nIndividual P-values (lower = worse):\n                              edges                  gwb1deg.fixed.0.25 \n                       4.595111e-06                        1.950730e-01 \n                 gwb2deg.fixed.0.25                    b1cov.disruption \n                       4.648751e-10                        5.033658e-01 \n                 b2cov.productivity           b1factor.field_broad.STEM \n                       9.418780e-15                        1.548334e-08 \n      b1nodematch.field_broad.SHAPE        b1nodematch.field_broad.STEM \n                       9.368485e-06                        5.948652e-01 \nb1cov.disruption:b2cov.productivity \n                       6.440067e-01 \nJoint P-value (lower = worse):  1.568122e-14 \n\nNote: MCMC diagnostics shown here are from the last round of\n  simulation, prior to computation of final parameter estimates.\n  Because the final estimates are refinements of those used for this\n  simulation run, these diagnostics may understate model performance.\n  To directly assess the performance of the final model on in-model\n  statistics, please use the GOF command: gof(ergmFitObject,\n  GOF=~model)."
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#interpretación-de-resultados-del-ergm",
    "href": "blog/posts/04-twomode-ergm/index.html#interpretación-de-resultados-del-ergm",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Interpretación de Resultados del ERGM",
    "text": "Interpretación de Resultados del ERGM\nEl modelo final revela patrones significativos que nos permiten entender la estructura del campo científico estudiado:\n\n1. Tendencia Base y Estructura General\n\nEl coeficiente negativo y significativo de edges (β = -9.79, p &lt; 0.001) indica una baja densidad base en la red, consistente con la naturaleza selectiva de las colaboraciones científicas.\nLa geometría ponderada de grados muestra patrones asimétricos entre papers y autores:\n\ngwb1deg (papers) no es significativo (β = 0.56, p = 0.634)\ngwb2deg (autores) es positivo y significativo (β = 9.02, p &lt; 0.001) Esto sugiere una fuerte tendencia a la centralización en torno a autores productivos, pero no en torno a papers específicos.\n\n\n\n\n2. Diferenciación Disciplinar\n\nLos campos STEM muestran una mayor probabilidad base de vínculos (β = 0.92, p &lt; 0.001)\nLa homofilia disciplinar es asimétrica:\n\nSHAPE muestra fuerte homofilia (β = 1.49, p &lt; 0.001)\nSTEM no muestra homofilia significativa (β = 0.48, p = 0.457) Esto sugiere que mientras las ciencias sociales y humanidades (SHAPE) tienden a colaborar dentro de su campo, las ciencias STEM muestran patrones más abiertos de colaboración interdisciplinaria.\n\n\n\n\n3. Disrupción y Productividad\n\nLa disrupción tiene un efecto positivo y significativo (β = 0.23, p &lt; 0.001) en la formación de vínculos\nLa productividad muestra un efecto negativo (β = -0.12, p &lt; 0.001)\nSorprendentemente, la interacción entre disrupción y productividad no es significativa (β = 0.002, p = 0.971)"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#implicaciones-teóricas",
    "href": "blog/posts/04-twomode-ergm/index.html#implicaciones-teóricas",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Implicaciones Teóricas",
    "text": "Implicaciones Teóricas\nLos resultados refinan tanto la teoría de Gondal (2011) sobre campos emergentes como los hallazgos de Li et al. (2024) sobre la relación entre productividad y disrupción:\n\nCentralización Asimétrica\nEl coeficiente significativo de gwb2degree (β = 9.02) junto con el gwb1degree no significativo indica que la centralización opera de manera asimétrica. La tendencia a la centralización que Gondal predice para campos emergentes se manifiesta principalmente en los patrones de colaboración de los autores, más que en la concentración de citaciones en papers específicos. Esto sugiere que en etapas tempranas, la estructura del campo está más determinada por redes de colaboración que por papers seminales.\n\n\nDiferenciación Disciplinar Heterogénea\nLa fuerte homofilia en SHAPE (β = 1.49) contrastada con la ausencia de homofilia significativa en STEM refina la tesis de Gondal sobre diferenciación disciplinar. En lugar de un proceso uniforme de diferenciación, observamos que: - Los campos SHAPE muestran límites más rígidos, con mayor tendencia a colaboraciones intradisciplinares - Los campos STEM exhiben fronteras más permeables, facilitando colaboraciones interdisciplinares Esta heterogeneidad en patrones de diferenciación no está contemplada en el marco original de Gondal.\n\n\nComplejidad de la Innovación y Productividad\nNuestros resultados extienden los hallazgos de Li et al. (2024) al contexto de redes de colaboración: - El efecto negativo de la productividad en la formación de vínculos (β = -0.12) es consistente con la tesis de Li et al. sobre que los científicos más productivos tienden a producir menos investigación disruptiva - Sin embargo, el efecto positivo de la disrupción en la formación de vínculos (β = 0.23) sugiere que las ideas disruptivas, aunque menos frecuentes en autores productivos, son atractivas para la colaboración - La ausencia de una interacción significativa entre disrupción y productividad (β = 0.002, p = 0.971) sugiere que estos procesos operan de manera independiente, refinando nuestra comprensión del trade-off identificado por Li et al.\n\n\nEstructuras Híbridas y Tensiones Productivas\nLa integración de nuestros hallazgos con Li et al. (2024) y Gondal (2011) sugiere que los campos emergentes se caracterizan por tensiones productivas entre: - Centralización colaborativa (evidenciada por gwb2degree positivo) - Innovación disruptiva (efecto positivo de disrupción) - Productividad establecida (efecto negativo de productividad) Estas tensiones podrían ser funcionales para el desarrollo del campo, permitiendo simultáneamente la acumulación de conocimiento (vía autores productivos centrales) y la innovación disruptiva (vía colaboraciones con autores menos establecidos)."
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#limitaciones-y-trabajo-futuro",
    "href": "blog/posts/04-twomode-ergm/index.html#limitaciones-y-trabajo-futuro",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Limitaciones y Trabajo Futuro",
    "text": "Limitaciones y Trabajo Futuro\n\nExtensión temporal del análisis\nIncorporación de medidas alternativas de disrupción\nAnálisis de sensibilidad con diferentes especificaciones de modelo"
  },
  {
    "objectID": "blog/posts/04-twomode-ergm/index.html#bibliografía",
    "href": "blog/posts/04-twomode-ergm/index.html#bibliografía",
    "title": "Disrupción y Estructura en redes de producción cietífica",
    "section": "Bibliografía",
    "text": "Bibliografía\n\nGondal, N. (2011). The local and global structure of knowledge production in an emergent research field: An exponential random graph analysis. Social Networks, 33(1), 20–30. https://doi.org/10.1016/j.socnet.2010.09.001\nGondal, N. (2018). Duality of departmental specializations and PhD exchange: A Weberian analysis of status in interaction using multilevel exponential random graph models (mERGM). Social Networks, 55, 202–212. https://doi.org/10.1016/j.socnet.2018.07.005\nLi, H., Tessone, C. J., & Zeng, A. (2024). Productive scientists are associated with lower disruption in scientific publishing. Proceedings of the National Academy of Sciences, 121(21), e2322462121. https://doi.org/10.1073/pnas.2322462121"
  },
  {
    "objectID": "about/index.html",
    "href": "about/index.html",
    "title": "Sobre mí",
    "section": "",
    "text": "[Tu biografía aquí]"
  },
  {
    "objectID": "about/index.html#biografía",
    "href": "about/index.html#biografía",
    "title": "Sobre mí",
    "section": "",
    "text": "[Tu biografía aquí]"
  },
  {
    "objectID": "about/index.html#educación",
    "href": "about/index.html#educación",
    "title": "Sobre mí",
    "section": "Educación",
    "text": "Educación\n\n[Grado/título] en [Campo], [Universidad], [Año]\n[Otro grado/título]"
  },
  {
    "objectID": "about/index.html#experiencia",
    "href": "about/index.html#experiencia",
    "title": "Sobre mí",
    "section": "Experiencia",
    "text": "Experiencia\n\n[Posición actual], [Institución], [Período]\n[Experiencia previa]"
  },
  {
    "objectID": "about/index.html#áreas-de-investigación",
    "href": "about/index.html#áreas-de-investigación",
    "title": "Sobre mí",
    "section": "Áreas de Investigación",
    "text": "Áreas de Investigación\n\n[Área 1]\n[Área 2]\n[Área 3]"
  },
  {
    "objectID": "about/index.html#habilidades",
    "href": "about/index.html#habilidades",
    "title": "Sobre mí",
    "section": "Habilidades",
    "text": "Habilidades\n\n[Habilidad 1]\n[Habilidad 2]\n[Habilidad 3]"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Roberto Cantillan",
    "section": "",
    "text": "I am a doctoral candidate in Sociology at the Pontificia Universidad Católica de Chile and an assistant at the ‘Millennium Nucleus for the Study of Labor Market Mismatch’ (LM2C2). My doctoral research uses a structural and network perspective to analyze the patterns of mobility, diffusion, and segregation in labor markets from an intragenerational viewpoint.\nLearn more about me →"
  },
  {
    "objectID": "index.html#bienvenido",
    "href": "index.html#bienvenido",
    "title": "Roberto Cantillan",
    "section": "",
    "text": "Soy Roberto Cantillan, [tu descripción profesional aquí]. Mi investigación se centra en [tus áreas de interés]."
  },
  {
    "objectID": "index.html#publicaciones-recientes",
    "href": "index.html#publicaciones-recientes",
    "title": "Roberto Cantillan",
    "section": "",
    "text": "[Breve descripción de la publicación]\n\n\n\n[Breve descripción de la publicación]"
  },
  {
    "objectID": "index.html#blog-posts-destacados",
    "href": "index.html#blog-posts-destacados",
    "title": "Roberto Cantillan",
    "section": "",
    "text": "[Breve descripción del post]\n\n\n\n[Breve descripción del post]\n\n\n\n[Breve descripción del post]"
  },
  {
    "objectID": "index.html#proyectos-actuales",
    "href": "index.html#proyectos-actuales",
    "title": "Roberto Cantillan",
    "section": "",
    "text": "[Descripción del proyecto]\n\n\n\n[Descripción del proyecto]"
  }
]