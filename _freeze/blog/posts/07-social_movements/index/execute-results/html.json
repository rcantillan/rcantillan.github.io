{
  "hash": "fe8f9877a4e593126da99d24658e0556",
  "result": {
    "markdown": "---\ntitle: \"Poder, Coaliciones y Vínculos Múltiples en la Movilización Urbana\"\nsubtitle: \"El Conflicto por el Plan Regulador de Peñalolén 2011\"\nauthor: \"Roberto Cantillan\"\ndate: 2024-11-13\n#bibliography: references.bib\nbibliographystyle: apa\ncategories:\n  - R\n  - Networks\n  - ERGM\n  - Social Movements\n  - Contentious polítics \ntitle-block-banner: \"rgba(0,38,66,0.75)\"\ntitle-block-banner-color: \"rgba(0,38,66,0.75)\"\ntitle-block-style: default\n---\n\n\n\n# Antecedentes\n\nLos procesos de neoliberalización desplegados a partir de la década de los ochenta en Latinoamérica han devenido en una alta concentración de la riqueza y el poder (Banco Mundial, 2013). En este marco, el aumento de las desigualdades y de la conflictividad suele tener como correlato político la activación de procesos de desdemocratización (Tilly, 2000; 2010) y, por lo tanto, de aumento de las constricciones a la influencia popular sobre la política pública.\n\nEn Chile, la hegemonía neoliberal articula estructuras relacionales y normativas (Scott, 2011) en configuraciones sociopolíticas que tienden a desarrollar integración social a través del despliegue de mecanismos de mercado (Garretón, 2001). En términos urbanos, desde los años ochenta, la explotación y la licitación competitiva de los recursos presentes en la ciudad (Harvey, 2007) han contribuido a la homogeneización de los espacios urbanos a través de procesos de segregación y gentrificación de las categorías sociales populares (Skewes, 2001).\n\nEl régimen chileno ha desarrollado una notable capacidad de integrar el conflicto social: se focaliza en demandas individuales y se reducen las probabilidades de alteración de los programas de asignación de recursos públicos. Uno de los impactos más relevantes de la lógica del Estado neoliberal ha sido la fragmentación horizontal y vertical de campo asociativo, lo cual ha tenido graves consecuencias para el movimiento popular (Espinoza, 1999a; 2013).\n\n# Problema de Investigación \n\nLos estudios sobre acción colectiva en episodios de conflicto urbano en Chile durante la última década se han concentrado principalmente en analizar los mecanismos cognitivos de subjetivación política que emergen en la praxis de los movimientos sociales. De manera complementaria, este artículo se enfoca en los procesos de emergencia de identidades políticas, analizando las dinámicas de influencia y coordinación entre organizaciones voluntarias involucradas en un conflicto particular.\n\nLa pregunta central que guía este análisis es: ¿Cómo se configura la red de movilización de organizaciones de la sociedad civil de Peñalolén y, en específico, qué actores fueron los más centrales en el conflicto y cómo afectaron sus posiciones al entramado mayor?\n\n## Sobre el Caso\n\nBajo estas condiciones ambientales, la Municipalidad de Peñalolén presentó un plan de renovación de la estructura normativa que regula el uso del suelo comunal, el Plan Regulador Comunal (PRC), que contemplaba radicales transformaciones en algunos sectores de la comuna. Las modificaciones consideraban el cambio de uso de suelo en algunas zonas altamente valoradas por los vecinos de barrios populares. Al respecto, tres propuestas de modificaciones parecieron especialmente conflictivas:\n\n1. La construcción de edificios de doce pisos en la franja Américo Vespucio\n2. La expropiación de terrenos ubicados en la quebrada de Vitor\n3. La falta de terrenos para la construcción de viviendas sociales\n\nUn aspecto clave necesario de considerar es la presencia protagónica de una organización paraguas de la FENAPO, el Movimiento de Pobladores en Lucha (MPL). Esta organización había logrado posicionar dentro de la Municipalidad a un personaje de suma relevancia, Lautaro Guanca, dirigente de la organización y concejal municipal, lo cual permitió transacciones importantes para el movimiento.\n\n# Marco Teórico\n\n## Sociedad Civil y Movimiento Social \n\nEn el amplio campo de la política pública (Tilly, 2010) convergen dos subcampos: La sociedad civil, que contiene a todas las organizaciones voluntarias involucradas en la promoción de la acción colectiva y la producción de bienes colectivos (Crossley, 2010; Diani, 2015), y el campo de organización burocrático. Para estudiar estos campos de acción, debemos poner especial atención en la configuración de los vínculos que conectan a los miembros de los campos, y en los patrones de interacción entre campos y subcampos (Diani, 2015).\n\nLos movimientos sociales son mejor comprendidos como \"modos de coordinación\" de acción colectiva (Diani, 2015) particulares, que se despliegan dentro de procesos sociales más amplios. Por 'modos de coordinación' nos referimos aquí a los procesos relacionales a través de los cuales se asignan recursos y definen límites identitarios dentro de una cierta colectividad de organizaciones formales e informales.\n\n## Multiplicidad de Vínculos y Procesos de Integración\n\nSiguiendo a Gould (1991), entendemos que la multiplicidad de vínculos entre organizaciones no es simplemente una característica descriptiva de las redes, sino un mecanismo fundamental que:\n\n1. Genera mayor resistencia estructural a la desmovilización\n2. Facilita la coordinación entre actores diversos\n3. Produce refuerzos mutuos entre diferentes tipos de relaciones\n\nLa multiplicidad de vínculos opera en dos niveles:\n\n1. **Nivel Micro**: \n   - Refuerza compromisos entre organizaciones específicas\n   - Reduce la incertidumbre en las interacciones\n   - Facilita el desarrollo de confianza\n\n2. **Nivel Macro**:\n   - Incrementa la robustez de la red completa\n   - Permite la integración de clusters diferentes\n   - Sostiene identidades colectivas amplias\n\n## Mecanismos de Integración en Redes Organizativas\n\nLa literatura reciente sobre redes organizativas (Diani 2015; Crossley 2010) sugiere que la integración efectiva de movimientos sociales depende de la interacción entre:\n\n1. **Transacciones**: \n   - Intercambios instrumentales de recursos\n   - Flujos de información\n   - Cooperación táctica\n\n2. **Lazos sociales**:\n   - Identidades compartidas\n   - Solidaridades duraderas\n   - Membresías múltiples\n\nLa combinación de estos vínculos genera lo que Gould (1991) llama \"estructuras multiplexadas\" que:\n- Son más resistentes a presiones externas\n- Facilitan la coordinación compleja\n- Sostienen identidades colectivas\n\n## Mecanismos de Boundaries\n\nSiguiendo a Tilly (2004), analizamos los mecanismos que constituyen el cambio de fronteras sociales como procesos fundamentales en la dinámica de los movimientos sociales:\n\n1. **Inscripción-Borrado**: \n   - Diferenciación de relaciones sociales\n   - Representaciones compartidas\n   - Zonas de transición\n\n2. **Activación-Desactivación**:\n   - Aumento/disminución de relevancia de fronteras\n   - Organización de actividad colectiva\n   - Definición de límites identitarios\n\n3. **Site Transfer y Relocation**:\n   - Reubicación de actores respecto a fronteras\n   - Cambio en fronteras organizadoras\n   - Nuevas configuraciones relacionales\n\n## Hipótesis\n\nBasándonos en esta literatura y considerando las capacidades del análisis ERGM para modelar procesos de formación de redes, proponemos las siguientes hipótesis:\n\nH1: **Clausura Diferencial**\nLa probabilidad de formación de vínculos sociales entre organizaciones será mayor dentro de clusters del mismo tipo que entre clusters diferentes, controlando por otros factores estructurales.\n\nH2: **Complementariedad de Vínculos**\nLa presencia de vínculos transaccionales entre organizaciones incrementará significativamente la probabilidad de formación de vínculos sociales entre ellas, especialmente entre organizaciones de diferentes tipos.\n\nH3: **Multiplicidad Estratégica**\nLas organizaciones que combinan altos niveles de vínculos tanto transaccionales como sociales tendrán una probabilidad significativamente mayor de ocupar posiciones de intermediación en la red.\n\nH4: **Homofilia Condicional**\nEl efecto de la homofilia será más fuerte para lazos sociales que para transacciones, controlando por efectos estructurales como transitividad y popularidad.\n\nH5: **Integración Multinivel**\nLa probabilidad de formación de tríadas transitivas será significativamente mayor cuando involucren tanto vínculos sociales como transaccionales, comparada con tríadas que involucran un solo tipo de vínculo.\n\n# Datos y Métodos\n\n## Estrategia Metodológica\n\nEsta investigación utiliza un diseño mixto (Domínguez & Hollstein, 2014) que combina análisis de redes sociales con datos cualitativos contextuales. La metodología adoptada supone que una estructura relacional es un espacio multidimensional de posiciones sociales entre los cuales los miembros de una población están distribuidos de manera desigual no aleatoria (Scott, 2011).\n\n## Recolección de Datos y Muestreo\n\nLos datos fueron recolectados entre 2017-2018 mediante:\n\n1. **Cuestionarios** (N=31)\n   - Generador de nombres limitado a 5 menciones\n   - Tipos de vínculos\n   - Atributos organizacionales\n\n2. **Entrevistas en profundidad** (N=12)\n   - Informantes clave\n   - Historia del conflicto\n   - Dinámicas de coordinación\n\n3. **Fuentes documentales**\n   - Prensa local\n   - Documentos organizacionales\n   - Actas de reuniones\n\nLa estrategia de muestreo combinó:\n\n1. Identificación inicial de tipos de organizaciones\n2. Muestreo de bola de nieve hasta saturación (40% nombres repetidos)\n3. Complementación con fuentes secundarias\n\n### Limitaciones\n\nEs importante reconocer algunas limitaciones metodológicas:\n\n1. Sesgo temporal al recolectar datos retrospectivamente\n2. Posible subrepresentación de actores periféricos\n3. Límite artificial en el número de menciones (5)\n4. Dificultad para capturar la intensidad de vínculos\n\n## Matrices de Análisis\n\nSe construyeron cuatro matrices relacionales 70x70:\n\n1. **Cooperación**\n   - Colaboración en acciones\n   - Proyectos conjuntos\n   - Campañas compartidas\n\n2. **Confianza**\n   - Vínculos históricos\n   - Valores compartidos\n   - Membresías múltiples\n\n3. **Recursos**\n   - Préstamo de espacios\n   - Compartir información\n   - Apoyo logístico\n\n4. **Valores**\n   - Marcos interpretativos\n   - Objetivos políticos\n   - Repertorios de acción\n\n## Estrategia Analítica\n\nEl análisis se desarrolla en tres etapas:\n\n1. **Análisis Descriptivo**\n   - Medidas de centralidad\n   - Detección de bloques\n   - Análisis de multiplexidad\n\n2. **Modelación ERGM**\n   - Efectos estructurales\n   - Atributos organizacionales\n   - Interacción entre tipos de vínculos\n\n3. **Integración Cualitativa**\n   - Contexto histórico\n   - Procesos de formación de alianzas\n   - Mecanismos de coordinación\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidygraph)\nlibrary(ergm)\nlibrary(sbm)\nlibrary(concorR)\nlibrary(network)\nlibrary(sna)\nlibrary(texreg)\nlibrary(igraph)\nlibrary(corrplot)\nlibrary(blockmodeling)\nlibrary(RColorBrewer)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Función para cargar datos usando tidyverse\nload_network_data <- function(file_path) {\n  read_csv(file_path, col_names = FALSE) %>%\n    as.matrix() %>%\n    `colnames<-`(paste0(\"V\", 1:ncol(.))) %>%\n    `rownames<-`(paste0(\"V\", 1:nrow(.)))\n}\n\n# Cargar matrices\ncoop_matrix <- load_network_data(\"datos/CoopNet.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 70 Columns: 70\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (70): X1, X2, X3, X4, X5, X6, X7, X8, X9, X10, X11, X12, X13, X14, X15, ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ntrust_matrix <- load_network_data(\"datos/ConfianzaNet.csv\") \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 70 Columns: 70\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (70): X1, X2, X3, X4, X5, X6, X7, X8, X9, X10, X11, X12, X13, X14, X15, ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nresources_matrix <- load_network_data(\"datos/RecursosNet.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 70 Columns: 70\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (70): X1, X2, X3, X4, X5, X6, X7, X8, X9, X10, X11, X12, X13, X14, X15, ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nvalues_matrix <- load_network_data(\"datos/ValoresNet.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 70 Columns: 70\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (70): X1, X2, X3, X4, X5, X6, X7, X8, X9, X10, X11, X12, X13, X14, X15, ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\n# Cargar y preparar los atributos \nattributes <- read_csv(\"datos/Atributos _org2011.csv\") %>%\n  janitor::clean_names() %>%\n  # Crear columna de ID que coincida con los nombres de nodos\n  mutate(\n    node_id = paste0(\"V\", row_number())\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 70 Columns: 14\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): Nombre, Tipo_de_organización, Ubicación, Orientación, Repertorios\ndbl (9): Id, Tipo, 1PosciónCONCOR, NumRep, NumOrient, NrmInDeg, Normalized B...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\n# Crear el grafo con tidygraph asegurando la correspondencia de IDs\ngraph_coop <- tbl_graph(\n  edges = as_edgelist(graph_from_adjacency_matrix(coop_matrix)) %>%\n    as_tibble() %>%\n    rename(from = V1, to = V2),\n  nodes = attributes %>%\n    select(\n      name = node_id,\n      tipo = tipo_de_organizacion,\n      posicion = x1poscion_concor,\n      ubicacion,\n      orientacion,\n      repertorios\n    )\n)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The `x` argument of `as_tibble.matrix()` must have unique column names if\n`.name_repair` is omitted as of tibble 2.0.0.\nℹ Using compatibility `.name_repair`.\n```\n:::\n\n```{.r .cell-code}\n# Para el objeto network\nnet_coop <- network(coop_matrix, directed = FALSE)\n\n# Agregar atributos al objeto network asegurando correspondencia\nnetwork::set.vertex.attribute(net_coop, \"tipo\", attributes$tipo_de_organizacion)\nnetwork::set.vertex.attribute(net_coop, \"posicion\", attributes$x1poscion_concor)\nnetwork::set.vertex.attribute(net_coop, \"ubicacion\", attributes$ubicacion)\nnetwork::set.vertex.attribute(net_coop, \"orientacion\", attributes$orientacion)\nnetwork::set.vertex.attribute(net_coop, \"repertorios\", attributes$repertorios)\n\n# Verificar estructura de los datos\ndim(coop_matrix)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 70 70\n```\n:::\n\n```{.r .cell-code}\ndim(trust_matrix)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 70 70\n```\n:::\n\n```{.r .cell-code}\nnetwork::list.vertex.attributes(net_coop)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"na\"           \"orientacion\"  \"posicion\"     \"repertorios\"  \"tipo\"        \n[6] \"ubicacion\"    \"vertex.names\"\n```\n:::\n\n```{.r .cell-code}\n# Resumen básico de la red\nsummary(net_coop)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nNetwork attributes:\n  vertices = 70\n  directed = FALSE\n  hyper = FALSE\n  loops = FALSE\n  multiple = FALSE\n  bipartite = FALSE\n total edges = 110 \n   missing edges = 0 \n   non-missing edges = 110 \n density = 0.04554865 \n\nVertex attributes:\n\n orientacion:\n   character valued attribute\n   attribute summary:\n   Conflictiva No_conflictiva \n            29             41 \n\n posicion:\n   numeric valued attribute\n   attribute summary:\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  1.000   2.000   2.000   2.486   3.750   4.000 \n\n repertorios:\n   character valued attribute\n   attribute summary:\n   Contenidos Transgresivos \n           36            34 \n\n tipo:\n   character valued attribute\n   attribute summary:\n                     Club deportivo                  Comité de vivienda \n                                  4                                   9 \n              Organización cultural       Organización política de base \n                                 13                                   6 \nOrganización política de pobladores                Organización vecinal \n                                  6                                  27 \n                              Otros \n                                  5 \n\n ubicacion:\n   character valued attribute\n   attribute summary:\n       Argentina            Chile Esperanza Andina         La Faena \n               1                1                1                7 \n      Lo Hermida  Nuevo Peñalolén   Peñalolén Alto         San Luis \n              31                1               18                6 \n        Santiago \n               4 \n  vertex.names:\n   character valued attribute\n   70 valid vertex names\n\nNo edge attributes\n\nNetwork edgelist matrix:\n       [,1] [,2]\n  [1,]   65    1\n  [2,]    9    2\n  [3,]   57    3\n  [4,]    9    5\n  [5,]   13    5\n  [6,]   38    5\n  [7,]   40    5\n  [8,]   41    5\n  [9,]   42    5\n [10,]   61    5\n [11,]   14    6\n [12,]   14    7\n [13,]   13    8\n [14,]   41    8\n [15,]   13    9\n [16,]   38    9\n [17,]   40    9\n [18,]   41    9\n [19,]   49    9\n [20,]   59    9\n [21,]   11   10\n [22,]   12   10\n [23,]   14   10\n [24,]   12   11\n [25,]   14   11\n [26,]   14   12\n [27,]   60   12\n [28,]   38   13\n [29,]   40   13\n [30,]   41   13\n [31,]   61   13\n [32,]   29   14\n [33,]   49   14\n [34,]   16   15\n [35,]   18   16\n [36,]   23   16\n [37,]   34   16\n [38,]   36   16\n [39,]   44   16\n [40,]   32   17\n [41,]   36   17\n [42,]   57   17\n [43,]   58   17\n [44,]   36   18\n [45,]   67   19\n [46,]   21   20\n [47,]   31   20\n [48,]   52   20\n [49,]   53   20\n [50,]   54   20\n [51,]   62   20\n [52,]   25   21\n [53,]   31   21\n [54,]   34   21\n [55,]   56   21\n [56,]   32   22\n [57,]   67   22\n [58,]   34   24\n [59,]   31   25\n [60,]   34   25\n [61,]   35   25\n [62,]   36   25\n [63,]   56   25\n [64,]   70   25\n [65,]   34   26\n [66,]   28   27\n [67,]   49   27\n [68,]   29   28\n [69,]   49   28\n [70,]   49   30\n [71,]   33   31\n [72,]   34   31\n [73,]   36   31\n [74,]   38   31\n [75,]   70   31\n [76,]   36   32\n [77,]   38   32\n [78,]   57   32\n [79,]   58   32\n [80,]   67   32\n [81,]   34   33\n [82,]   35   33\n [83,]   35   34\n [84,]   36   34\n [85,]   56   34\n [86,]   70   34\n [87,]   38   35\n [88,]   56   35\n [89,]   38   36\n [90,]   38   37\n [91,]   42   37\n [92,]   39   38\n [93,]   40   38\n [94,]   41   38\n [95,]   42   38\n [96,]   49   38\n [97,]   57   38\n [98,]   65   38\n [99,]   41   40\n[100,]   57   46\n[101,]   58   46\n[102,]   65   48\n[103,]   60   49\n[104,]   57   55\n[105,]   58   56\n[106,]   59   56\n[107,]   58   57\n[108,]   67   57\n[109,]   67   58\n[110,]   68   65\n```\n:::\n:::\n\n\n\n\n\n# Análisis Descriptivo\n\n## Propiedades Globales de la Red\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calcular métricas\nglobal_metrics_sna <- tibble(\n  Metrica = c(\"Densidad\", \"Transitividad\", \n              \"Distancia Media\", \"Componentes\"),\n  Valor = c(\n    network.density(net_coop),\n    sna::gtrans(net_coop),\n    #sna::diameter(net_coop),\n    mean(sna::geodist(net_coop)$gdist, na.rm = TRUE),\n    sna::components(net_coop)\n  )\n)\n\n# Visualizar métricas\nglobal_metrics_sna %>%\n  mutate(\n    Valor = case_when(\n      Metrica %in% c(\"Densidad\", \"Transitividad\") ~ round(Valor, 3),\n      TRUE ~ round(Valor, 2)\n    )\n  ) %>%\n  knitr::kable(caption = \"Métricas Globales de la Red de Cooperación\")\n```\n\n::: {.cell-output-display}\nTable: Métricas Globales de la Red de Cooperación\n\n|Metrica         |  Valor|\n|:---------------|------:|\n|Densidad        |  0.046|\n|Transitividad   |  0.343|\n|Distancia Media |    Inf|\n|Componentes     | 11.000|\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1. Análisis de centralidad\n# Calcular medidas de centralidad usando igraph\ncentrality_df <- graph_coop %>%\n  activate(nodes) %>%\n  mutate(\n    degree = centrality_degree(mode = \"all\"), # Grado total\n    betweenness = centrality_betweenness(), \n    eigenvector = eigen_centrality(graph_coop)$vector,\n    tipo = tipo # Asegurarnos que tenemos el atributo tipo\n  ) %>%\n  as_tibble()\n\n# Visualizar distribución de centralidades por tipo\nggplot(centrality_df, \n       aes(x = degree, y = betweenness, color = tipo)) +\n  geom_point(alpha = 0.7) +\n  scale_color_brewer(palette = \"Set2\") +\n  theme_minimal() +\n  labs(title = \"Distribución de Centralidades por Tipo de Organización\",\n       x = \"Grado\",\n       y = \"Intermediación\",\n       color = \"Tipo de Organización\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/centrality-dist-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1. Primero asegurémonos que las matrices están bien formadas\ndim(coop_matrix) # Verificar dimensiones\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 70 70\n```\n:::\n\n```{.r .cell-code}\ndim(trust_matrix)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 70 70\n```\n:::\n\n```{.r .cell-code}\ndim(resources_matrix)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 70 70\n```\n:::\n\n```{.r .cell-code}\ndim(values_matrix)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 70 70\n```\n:::\n\n```{.r .cell-code}\n# 2. Crear matriz combinada correctamente\ncombined_matrix <- matrix(0, nrow = nrow(coop_matrix), ncol = ncol(coop_matrix))\ncombined_matrix <- coop_matrix + trust_matrix + resources_matrix + values_matrix\ncombined_matrix[combined_matrix > 0] <- 1 # Binarizar\n\n# Asignar nombres a las filas y columnas\nrownames(combined_matrix) <- paste0(\"Org\", 1:nrow(combined_matrix))\ncolnames(combined_matrix) <- paste0(\"Org\", 1:ncol(combined_matrix))\n\n# 3. Realizar CONCOR con la matriz bien formada\nlibrary(blockmodeling)\nconcor_res <- concor(list(combined_matrix), nsplit = 2)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in cor(m_stack, use = \"pairwise.complete.obs\"): the standard deviation\nis zero\nWarning in cor(m_stack, use = \"pairwise.complete.obs\"): the standard deviation\nis zero\nWarning in cor(m_stack, use = \"pairwise.complete.obs\"): the standard deviation\nis zero\n```\n:::\n\n```{.r .cell-code}\n# 4. Función para calcular densidad entre bloques\ncalc_block_density <- function(mat, block_membership) {\n  n_blocks <- length(unique(block_membership))\n  density_matrix <- matrix(0, n_blocks, n_blocks)\n  rownames(density_matrix) <- paste(\"Bloque\", 1:n_blocks)\n  colnames(density_matrix) <- paste(\"Bloque\", 1:n_blocks)\n  \n  for(i in 1:n_blocks) {\n    for(j in 1:n_blocks) {\n      block_i <- which(block_membership == i)\n      block_j <- which(block_membership == j)\n      if(length(block_i) > 0 && length(block_j) > 0) {\n        submat <- mat[block_i, block_j]\n        density_matrix[i,j] <- mean(submat, na.rm = TRUE)\n      }\n    }\n  }\n  return(density_matrix)\n}\n\n# 5. Calcular densidades para cada tipo de relación\nblock_assignment <- concor_res[[1]]\ndensity_coop <- calc_block_density(coop_matrix, block_assignment)\ndensity_trust <- calc_block_density(trust_matrix, block_assignment)\n\n# 6. Visualizar densidades entre bloques\npar(mfrow=c(1,2))\ncorrplot::corrplot(density_coop, \n                  method = \"color\",\n                  type = \"upper\",\n                  title = \"Densidad de Cooperación entre Bloques\",\n                  is.corr = FALSE)\n\ncorrplot::corrplot(density_trust,\n                  method = \"color\", \n                  type = \"upper\",\n                  title = \"Densidad de Confianza entre Bloques\",\n                  is.corr = FALSE)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# 7. Crear resumen de bloques\nblock_summary <- data.frame(\n  bloque = factor(block_assignment),\n  tipo = attributes$tipo_de_organizacion\n) %>%\n  group_by(bloque) %>%\n  summarise(\n    n = n(),\n    tipos_presentes = list(unique(tipo)),\n    tamaño_relativo = n()/nrow(combined_matrix)\n  )\n\n# Mostrar resumen\nprint(block_summary)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 4\n  bloque     n tipos_presentes tamaño_relativo\n  <fct>  <int> <list>                    <dbl>\n1 1         21 <chr [4]>                 0.3  \n2 2         10 <chr [3]>                 0.143\n3 3         14 <chr [3]>                 0.2  \n4 4         15 <chr [1]>                 0.214\n5 5         10 <chr [2]>                 0.143\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Modelo 1: Efectos estructurales básicos\nmodel1 <- ergm(\n  net_coop ~ edges + \n    gwesp(0.25, fixed=TRUE) +\n    gwdegree(0.25, fixed=TRUE),\n   control = control.ergm(\n     seed = 123, MCMLE.maxit = 14, MCMC.burnin = 1000, \n    MCMC.interval = 50, MCMC.samplesize = 2000, parallel = 2, \n    parallel.type = \"PSOCK\", MCMLE.termination = \"Hummel\")\n)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nStarting maximum pseudolikelihood estimation (MPLE):\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nObtaining the responsible dyads.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nEvaluating the predictor and response matrix.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nMaximizing the pseudolikelihood.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nFinished MPLE.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nStarting Monte Carlo maximum likelihood estimation (MCMLE):\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nIteration 1 of at most 14:\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n1 Optimizing with step length 0.5116.\nThe log-likelihood improved by 3.2650.\nIteration 2 of at most 14:\n1 Optimizing with step length 1.0000.\nThe log-likelihood improved by 2.9969.\nStep length converged once. Increasing MCMC sample size.\nIteration 3 of at most 14:\n1 Optimizing with step length 1.0000.\nThe log-likelihood improved by 1.1738.\nStep length converged twice. Stopping.\nFinished MCMLE.\nEvaluating log-likelihood at the estimate. Fitting the dyad-independent submodel...\nBridging between the dyad-independent submodel and the full model...\nSetting up bridge sampling...\nUsing 16 bridges: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 .\nBridging finished.\n\nThis model was fit using MCMC.  To examine model diagnostics and check\nfor degeneracy, use the mcmc.diagnostics() function.\n```\n:::\n\n```{.r .cell-code}\n# Modelo 2: Efectos de homofilia y atributos\nmodel2 <- ergm(\n  net_coop ~ edges + \n    gwesp(0.25, fixed=TRUE) +\n    gwdegree(0.25, fixed=TRUE) +\n    nodematch(\"tipo\") +\n    nodematch(\"ubicacion\"),\n   control = control.ergm(\n     seed = 123, MCMLE.maxit = 14, MCMC.burnin = 1000, \n    MCMC.interval = 50, MCMC.samplesize = 2000, parallel = 2, \n    parallel.type = \"PSOCK\", MCMLE.termination = \"Hummel\")\n)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nStarting maximum pseudolikelihood estimation (MPLE):\nObtaining the responsible dyads.\nEvaluating the predictor and response matrix.\nMaximizing the pseudolikelihood.\nFinished MPLE.\nStarting Monte Carlo maximum likelihood estimation (MCMLE):\nIteration 1 of at most 14:\n1 Optimizing with step length 0.7765.\nThe log-likelihood improved by 3.2284.\nIteration 2 of at most 14:\n1 Optimizing with step length 1.0000.\nThe log-likelihood improved by 0.8155.\nStep length converged once. Increasing MCMC sample size.\nIteration 3 of at most 14:\n1 Optimizing with step length 1.0000.\nThe log-likelihood improved by 0.0064.\nStep length converged twice. Stopping.\nFinished MCMLE.\nEvaluating log-likelihood at the estimate. Fitting the dyad-independent submodel...\nBridging between the dyad-independent submodel and the full model...\nSetting up bridge sampling...\nUsing 16 bridges: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 .\nBridging finished.\n\nThis model was fit using MCMC.  To examine model diagnostics and check\nfor degeneracy, use the mcmc.diagnostics() function.\n```\n:::\n\n```{.r .cell-code}\n# Modelo 3: Multiplicidad y efectos cruzados\nmodel3 <- ergm(\n  net_coop ~ edges +\n    gwesp(0.25, fixed=TRUE) +\n    gwdegree(0.25, fixed=TRUE) +\n    nodematch(\"tipo\") +\n    edgecov(trust_matrix) +\n    edgecov(resources_matrix),\n   control = control.ergm(\n     seed = 123, MCMLE.maxit = 14, MCMC.burnin = 1000, \n    MCMC.interval = 50, MCMC.samplesize = 2000, parallel = 2, \n    parallel.type = \"PSOCK\", MCMLE.termination = \"Hummel\")\n)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nStarting maximum pseudolikelihood estimation (MPLE):\nObtaining the responsible dyads.\nEvaluating the predictor and response matrix.\nMaximizing the pseudolikelihood.\nFinished MPLE.\nStarting Monte Carlo maximum likelihood estimation (MCMLE):\nIteration 1 of at most 14:\n1 Optimizing with step length 0.6452.\nThe log-likelihood improved by 3.1999.\nIteration 2 of at most 14:\n1 Optimizing with step length 1.0000.\nThe log-likelihood improved by 0.2441.\nStep length converged once. Increasing MCMC sample size.\nIteration 3 of at most 14:\n1 Optimizing with step length 1.0000.\nThe log-likelihood improved by 0.2051.\nStep length converged twice. Stopping.\nFinished MCMLE.\nEvaluating log-likelihood at the estimate. Fitting the dyad-independent submodel...\nBridging between the dyad-independent submodel and the full model...\nSetting up bridge sampling...\nUsing 16 bridges: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 .\nBridging finished.\n\nThis model was fit using MCMC.  To examine model diagnostics and check\nfor degeneracy, use the mcmc.diagnostics() function.\n```\n:::\n:::\n\n\n```{.r .cell-code}\nhtmlreg(list(model1, model2, model3),\n        stars=c(0.01,0.05,0.1), \n        digits=3, \n        star.symbol='&#42;',\n        custom.note = paste(\"%stars.\"),\n         align.center=TRUE,\n        single.row = T, \n        bold = 0.05)\n```\n\n<table class=\"texreg\" style=\"margin: 10px auto;border-collapse: collapse;border-spacing: 0px;caption-side: bottom;color: #000000;border-top: 2px solid #000000;\">\n<caption>Statistical models</caption>\n<thead>\n<tr>\n<th style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 1</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 2</th>\n<th style=\"padding-left: 5px;padding-right: 5px;\">Model 3</th>\n</tr>\n</thead>\n<tbody>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">edges</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>-4.379</b> (0.337)<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>-4.938</b> (0.312)<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>-5.177</b> (0.359)<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">gwesp.fixed.0.25</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>1.484</b> (0.238)<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>1.482</b> (0.208)<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>1.349</b> (0.220)<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">gwdeg.fixed.0.25</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">-0.114 (0.338)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.210 (0.379)</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.472 (0.437)</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">nodematch.tipo</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>0.580</b> (0.165)<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">0.524 (0.281)<sup>&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">nodematch.ubicacion</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>0.789</b> (0.151)<sup>&#42;&#42;&#42;</sup></td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">edgecov.trust_matrix</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>4.479</b> (1.031)<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">edgecov.resources_matrix</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">&nbsp;</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\"><b>3.739</b> (0.985)<sup>&#42;&#42;&#42;</sup></td>\n</tr>\n<tr style=\"border-top: 1px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">AIC</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">785.812</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">750.781</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">443.988</td>\n</tr>\n<tr>\n<td style=\"padding-left: 5px;padding-right: 5px;\">BIC</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">803.181</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">779.728</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">478.725</td>\n</tr>\n<tr style=\"border-bottom: 2px solid #000000;\">\n<td style=\"padding-left: 5px;padding-right: 5px;\">Log Likelihood</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">-389.906</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">-370.390</td>\n<td style=\"padding-left: 5px;padding-right: 5px;\">-215.994</td>\n</tr>\n</tbody>\n<tfoot>\n<tr>\n<td style=\"font-size: 0.8em;\" colspan=\"4\"><sup>&#42;&#42;&#42;</sup>p &lt; 0.01; <sup>&#42;&#42;</sup>p &lt; 0.05; <sup>&#42;</sup>p &lt; 0.1.</td>\n</tr>\n</tfoot>\n</table>\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}